(this["webpackJsonphosting-ui"]=this["webpackJsonphosting-ui"]||[]).push([[0],{116:function(e,t,a){},137:function(e,t,a){e.exports={footer_text:"TextScroller_footer_text__1FDNK",display:"TextScroller_display__AV1hW",move:"TextScroller_move__1UnPp"}},147:function(e,t,a){},184:function(e,t,a){},20:function(e,t,a){e.exports={container_fluid_override:"CodeEditorPage_container_fluid_override__9bAlN",code_editor_page:"CodeEditorPage_code_editor_page__2X8Re",header:"CodeEditorPage_header__26kfx",header_top_row:"CodeEditorPage_header_top_row__3iDCS",header_buttons_left:"CodeEditorPage_header_buttons_left__3awh6",header_buttons_middle:"CodeEditorPage_header_buttons_middle__50C4k",header_buttons_right:"CodeEditorPage_header_buttons_right__2TGJD",tab_row:"CodeEditorPage_tab_row__-PQKy",open_panel:"CodeEditorPage_open_panel__DkJ8F",body:"CodeEditorPage_body__m0hnp",preview_horizontal:"CodeEditorPage_preview_horizontal__2DtgP",code_editor:"CodeEditorPage_code_editor__24o14",code_editor_top_bar:"CodeEditorPage_code_editor_top_bar__1ypGc",code_editor_top_bar_start:"CodeEditorPage_code_editor_top_bar_start__ME2I3",code_editor_top_bar_end:"CodeEditorPage_code_editor_top_bar_end__1TX9g",panel:"CodeEditorPage_panel__Rliqy",panel_icons:"CodeEditorPage_panel_icons__35WAa",panel_bottom_view:"CodeEditorPage_panel_bottom_view__1Fkx0",panel_top_view:"CodeEditorPage_panel_top_view__2L0k4",last_panel_item:"CodeEditorPage_last_panel_item__2PkXP",panel_content:"CodeEditorPage_panel_content__BCANR",close_panel_column:"CodeEditorPage_close_panel_column__OHAdT",buttons_preview_pane:"CodeEditorPage_buttons_preview_pane__1uTBu",preview_btn_mobile:"CodeEditorPage_preview_btn_mobile__1A-u-",buttons_preview_editor:"CodeEditorPage_buttons_preview_editor__3EelJ",hide_on_small:"CodeEditorPage_hide_on_small__tbZRS",display_preview:"CodeEditorPage_display_preview__2goJS",button_group:"CodeEditorPage_button_group__n_NMN",run_btn:"CodeEditorPage_run_btn__34e-c",code_editor_button:"CodeEditorPage_code_editor_button__2fQcq",footer:"CodeEditorPage_footer__1jEPl",code_editor_hint_key:"CodeEditorPage_code_editor_hint_key__2FAB4",preview_error:"CodeEditorPage_preview_error__2efPd",disabled:"CodeEditorPage_disabled__2NUEq",btn:"CodeEditorPage_btn__2dnW2",_group_btn_active:"CodeEditorPage__group_btn_active__3jLys",type_error:"CodeEditorPage_type_error__XQpJ1"}},204:function(e){e.exports=JSON.parse('{"name":"hosting-ui","version":"1.1.9","private":true,"dependencies":{"@monaco-editor/react":"^3.8.3","ajv":"^8.6.3","axios":"^0.21.4","bootstrap":"^4.6.1","country-state-city":"^2.1.0","framer-motion":"^4.1.17","js-cookie":"^2.2.1","moment":"^2.29.1","react":"17.0.2","react-bootstrap":"1.6.4","react-bootstrap-icons":"1.5.0","react-csp":"github:mindejulian/react-csp","react-dom":"17.0.2","react-dropzone":"^11.4.2","react-hotkeys":"^2.0.0","react-laag":"^2.0.3","react-moment":"^1.1.1","react-redux":"^7.2.5","react-router-dom":"^5.3.0","react-scripts":"4.0.3","redux":"^4.1.1","redux-devtools-extension":"^2.13.8","redux-mock-store":"^1.5.4","redux-saga":"^1.1.3","redux-thunk":"^2.3.0","slugify":"^1.6.1","tslib":"^2.3.1","typescript":"^4.4.4","w3-user-ui-component":"git+ssh://git-codecommit.eu-west-1.amazonaws.com/v1/repos/w3schools_user_lib#1.1.13","w3s-route53-country-state-codes":"git+ssh://git-codecommit.eu-west-1.amazonaws.com/v1/repos/w3schools_route53_csc#1.0.14"},"scripts":{"start":"react-csp dev && react-scripts start","build":"react-csp prod && react-scripts build","test":"react-scripts test","eject":"react-scripts eject","storybook":"start-storybook -p 6006 -s public","build-storybook":"build-storybook -s public"},"eslintConfig":{"extends":["react-app"],"rules":{"no-console":2}},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@reduxjs/toolkit":"^1.6.2","@storybook/addon-actions":"^6.3.12","@storybook/addon-essentials":"^6.3.12","@storybook/addon-links":"^6.3.12","@storybook/node-logger":"^6.3.12","@storybook/preset-create-react-app":"^3.2.0","@storybook/react":"^6.3.12","@testing-library/jest-dom":"^5.14.1","@testing-library/react":"^11.2.7","@testing-library/user-event":"^12.6.0","@types/js-cookie":"^2.2.7","@types/node":"^12.20.33","@types/react":"16.14.2","@types/react-copy-to-clipboard":"^5.0.1","@types/react-dom":"16.9.13","@types/react-google-recaptcha":"^2.1.2","@types/react-redux":"^7.1.19","@types/react-router-dom":"^5.3.1","@types/redux":"^3.6.0","@types/redux-mock-store":"^1.0.3","@types/redux-thunk":"^2.1.0","@types/resize-observer-browser":"^0.1.6","dotenv":"^8.2.0","node-sass":"^4.14.1","react-copy-to-clipboard":"^5.0.4","redux-mock-store":"^1.5.4"}}')},221:function(e,t,a){},227:function(e,t,a){},248:function(e,t){},303:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){},309:function(e,t,a){},311:function(e,t,a){},312:function(e,t,a){},313:function(e,t,a){},314:function(e,t,a){},315:function(e,t,a){},316:function(e,t,a){},317:function(e,t,a){},318:function(e,t,a){},319:function(e,t,a){},320:function(e,t,a){},321:function(e,t,a){},322:function(e,t,a){},323:function(e,t,a){},324:function(e,t,a){},325:function(e,t,a){},326:function(e,t,a){},330:function(e,t,a){},331:function(e,t,a){},332:function(e,t,a){},333:function(e,t,a){},334:function(e,t,a){},335:function(e,t,a){},336:function(e,t,a){},337:function(e,t,a){},338:function(e,t,a){},339:function(e,t,a){},340:function(e,t,a){},341:function(e,t,a){},342:function(e,t,a){},343:function(e,t,a){},344:function(e,t,a){},347:function(e,t,a){},348:function(e,t,a){},349:function(e,t,a){},350:function(e,t,a){},351:function(e,t,a){},355:function(e,t,a){},356:function(e,t,a){"use strict";a.r(t);var r,n=a(2),s=a.n(n),i=a(44),o=a.n(i),c=a(7),l=a.n(c),d=a(15),p=a(19),u=a(21),h=a(23),f=a(22),b=a(403),m=(a(221),a(390)),j=a(197),g=a(393),v=a(389),O=a(32),_=a(13),x=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},y=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return(e=parseInt(e,t))<1024?e+" B":e<1048576?(e/1024).toFixed(a)+" kB":e<1073741824?(e/1024/1024).toFixed(a)+" MB":(e/1024/1024/1024).toFixed(a)+" GB"},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return"string"===typeof e&&(e=parseFloat(e)),(e=e)<1024?(a?x(e.toFixed(t)):e.toFixed(t))+" kB":e<1048576?(a?x((e/1024).toFixed(t)):(e/1024).toFixed(t))+" MB":(a?x((e/1024/1024).toFixed(t)):(e/1024/1024).toFixed(t))+" GB"},w=a(406),N=a(387),E=(a(227),a(3)),S=function(e){var t;if("string"===typeof e){var a=Date.parse(e);t=new Date(a)}else t=e;return t.toLocaleString()},k=function(){switch(E.j.getEnv()){case"develop":return"w3sdevelop.com";case"staging":return"w3stages.com";default:return"w3spaces.com"}},M=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},L=function(){var e=window.location.href,t=encodeURIComponent(e);window.location.href=E.j.getProfileUrl()+"?redirect_url=".concat(t)},P=a(28),D=a(8);function F(e,t){return{type:e,payload:t}}!function(e){e.Active="active",e.OnHold="on_hold",e.Uploaded="uploaded",e.Error="error",e.NewFolder="new_folder"}(r||(r={}));var T=function(e){var t=Object.prototype.toString.call(e);return(t=t.substring(8)).substring(0,t.length-1)},I=function e(t,a,r){var n,s;if("undefined"===typeof r&&(r=!0),r){var i=!1,o=!1;for(n in a)if(a.hasOwnProperty(n)){if("Function"===(s=T(a[n])))continue;i=!(o="Object"===s)&&"Array"===s,t.hasOwnProperty(n)?(o||i)&&e(t[n],a[n],!0):(o?t[n]={}:i&&(t[n]=[]),o||i?e(t[n],a[n],!0):t[n]=a[n])}}else{var c={Boolean:!0,String:!0,Number:!0};for(n in a)if(a.hasOwnProperty(n)&&!t.hasOwnProperty(n)){if(!0!==c[s=T(a[n])])continue;t[n]=a[n]}}},A=function(e){var t,a={},r={Boolean:!0,String:!0,Number:!0};for(t in e)if(e.hasOwnProperty(t)){if(!0!==r[T(e[t])])continue;a[t]=e[t]}return a},R=function e(t){var a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="";for(a in t)if(t.hasOwnProperty(a))if("Object"===(n=T(t[a])))r[a]=e(t[a],{});else if("Array"===n)r[a]=e(t[a],[]);else{if("Function"===n)continue;r[a]=t[a]}return r},B=function(e,t,a){var r;return"undefined"===typeof a&&(a=!0),r=a?R(e):A(e),I(r,t,a),r},U=function(e,t,a){var r;return"undefined"===typeof a&&(a=!0),r=a?R(t):A(t),I(r,e,a),r},H={notifications:[]},V=function(e){return F("Notification::addError",e)},z=function(e){return F("Notification::dismiss",e)},q=function(e){return F("Notification::update",e)},Y=function(e){return F("Notification::add",e)},Z=function(e){return{id:M(),dismissed:!1,type:"error",header:"Error",body:"".concat(e.description)}};var K=a(40),G=a.n(K),W={timeout:3e4},Q=G.a.create({timeout:W.timeout}),X=G.a.create({timeout:W.timeout}),J=G.a.create({baseURL:function(){var e=k();return"https://api.".concat(e)}(),timeout:W.timeout,validateStatus:function(e){return!0}}),$=G.a.create({baseURL:"https://spaces-api.".concat(k(),"/api/v1")});$.interceptors.request.use(function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.headers.Authorization){e.next=4;break}return e.next=3,ee();case 3:t.headers.Authorization=e.sent;case 4:return void 0!==W.maxContentLength&&(t.maxContentLength=W.maxContentLength),void 0!==W.maxBodyLength&&(t.maxBodyLength=W.maxBodyLength),E.i.logDebug("RequestUtil -> config (altered):",t),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var ee=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.h.getAccessToken();case 2:if(void 0===(t=e.sent)){e.next=6;break}return E.i.logDebug("Token: ",t),e.abrupt("return","Bearer "+t.token);case 6:E.i.logDebug("Token  error: ",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();J.interceptors.request.use(function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t.headers.Authorization){e.next=4;break}return e.next=3,ee();case 3:t.headers.Authorization=e.sent;case 4:return void 0!==W.maxContentLength&&(t.maxContentLength=W.maxContentLength),void 0!==W.maxBodyLength&&(t.maxBodyLength=W.maxBodyLength),E.i.logDebug("RequestUtil -> config (altered):",t),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var te=function(e){if(e&&401===e.status)return L(),{code:"UNAUTHORIZED",description:"Not authorized"};if(!e||!e.data||!e.data.error||!e.data.error.code)return{code:"FINECIS",description:"Internal server error"};var t=e.data.error;return"0"!==t.code?(t.description||(t.description="Internal server error"),t):void 0},ae=function(e){E.i.logDebug("prepareResponse -> res: ",e);var t=e.data,a="undefined"!==typeof t.error&&"undefined"!==typeof t.error.code?t.error:{code:"FINECIS"};return"0"!==a.code&&(("1"===a.code||"FINECIS"===a.code)&&e.status>=400&&(a=function(e){if("undefined"!==typeof e.status&&e.status){var t,a;if(401===e.status)return{code:"BRS_UNAUTHORIZED",description:null!==(t=e.statusText)&&void 0!==t?t:"Not authorized"};if(400===e.status)return{code:"BRS_BAD_REQUEST",description:null!==(a=e.statusText)&&void 0!==a?a:"Bad server request"}}return{code:"BRS_INTERNAL_SERVER_ERROR",description:"Internal server error"}}(e)),"undefined"!==typeof a.description&&a.description||(a.description="Internal server error")),e.error=R(a),delete t.error,"undefined"!==typeof t.data&&(e.data=t.data),e},re=function(e){var t;return E.i.logDebug("getPreparedResponseFromException -> exc: ",e),{status:e.status,data:{},error:{code:e.status?""+e.status:"FINESIS",description:null!==(t=e.message)&&void 0!==t?t:"Internal server error"}}},ne=function(){var e=Object(d.a)(l.a.mark((function e(t,a,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J.post(t,a,r).then((function(e){return ae(e)})).catch((function(e){return re(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),se=function(){var e=Object(d.a)(l.a.mark((function e(t,a,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J.get(t,r).then((function(e){return ae(e)})).catch((function(e){return re(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),ie=function(){var e=Object(d.a)(l.a.mark((function e(t,a,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q.get(t,r).then((function(e){return t=e,E.i.logDebug("getPreparedRawResponse -> res: ",t),t.error={code:"0"},t;var t})).catch((function(e){return re(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),oe=a(123),ce=a.n(oe),le={txt:!0,md:!0,json:!0,js:!0,css:!0,html:!0,htm:!0,xml:!0,svg:!0},de={txt:!0,md:!0,json:!0,js:!0,css:!0,html:!0,htm:!0,xml:!0,svg:!0,bmp:!0,gif:!0,ico:!0,jpg:!0,jpeg:!0,png:!0,ttf:!0,otf:!0,woff:!0,woff2:!0,eot:!0,sfnt:!0},pe={txt:"text/plain",md:"text/markdown",json:"application/json",js:"text/javascript",css:"text/css",html:"text/html",htm:"text/html",xml:"text/xml",svg:"image/svg+xml",bmp:"image/bmp",gif:"image/gif",ico:"image/vnd.microsoft.icon",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",ttf:"application/x-font-ttf",otf:"application/x-font-opentype",woff:"application/font-woff",woff2:"application/font-woff2",eot:"type=application/vnd.ms-fontobject",sfnt:"application/font-sfnt"},ue=function(){return Object.keys(de).join(", ")},he=function(e,t,a,r){var n=r||ce()(e.name),s={Key:"".concat(t).concat(n),LastModified:new Date(e.lastModified).toString(),Size:e.size},i=me(s,t);return i.raw_meta=e,i.processing=a,i},fe=function(e){var t=me({Key:e,LastModified:(new Date).toString(),Size:0});return t.raw_meta=new File([""],e),t},be=function(e){var t=B(e,{space_id:"",path:"",rel_path:"",dirs:[],base_name:"",base_name_lowercased:"",name:"",extension:"",mime_type:"",is_text_based:!1,size:0,last_modified:void 0,contents:"",raw_meta:void 0,processing:!1});return t.size=parseInt(t.size),t.last_modified=new Date(t.last_modified),t},me=function(e,t){if(void 0===e)return{space_id:"",path:"",rel_path:"",dirs:[],base_name:"",base_name_lowercased:"",name:"",extension:"",mime_type:"",is_text_based:!1,size:0,last_modified:void 0,contents:"",raw_meta:void 0,processing:!1};var a=function(e,t){var a={space_id:"",path:"",rel_path:"",dirs:[],base_name:"",base_name_lowercased:"",name:"",extension:"",mime_type:"",is_text_based:!1,size:0,last_modified:void 0,contents:"",raw_meta:void 0,processing:!1};if(void 0===e)return a;var r=e.split("/");r.length?(a.space_id=t||r[0],a.path=[a.space_id].concat(Object(P.a)(r.slice(1,r.length))).join("/"),a.base_name=r[r.length-1],a.dirs=r.slice(0,r.length-1),a.rel_path=r.slice(1,r.length).join("/")):(a.path=e,a.base_name=r[0],a.rel_path=a.path),a.base_name_lowercased=a.base_name.toLowerCase();var n=a.base_name.split(".");return a.extension=n[n.length-1].toLowerCase(),a.mime_type=pe[a.extension],a.name=n.splice(0,n.length-1).join("."),a.is_text_based=!0===le[a.extension],a}(e.Key);return a.size=e.Size,a.last_modified=new Date(e.LastModified),a},je=function(e,t,a){void 0===t&&(t=!0);var r=k(),n=(new Date).getTime().toString(),s=n.substring(n.length-8),i=t?"?bypass-cache="+s:"";return void 0!==a?"https://".concat(a,"/").concat(e.rel_path).concat(i):"https://".concat(e.space_id,".").concat(r,"/").concat(e.rel_path).concat(i)},ge=function(e){var t=new FormData;return t.append("key",e.fields.key),t.append("AWSAccessKeyId",e.fields.AWSAccessKeyId),t.append("x-amz-security-token",e.fields["x-amz-security-token"]),t.append("policy",e.fields.policy),t.append("signature",e.fields.signature),t},ve=function(e,t,a){var r=e.split(".");if(r.length<2)return'File must have a valid extension. Valid extensions are "'.concat(ue(),'"');var n=r[r.length-1].toLowerCase();if(!0!==de[n])return'File extension "'.concat(n,'" is not accepted. Accepted file extensions are "').concat(ue(),'"');if(null===t||void 0===t?void 0:t.length)if(a){var s=a+e;if(t.some((function(e){return e.path===s})))return"A file with that name already exists"}else if(t.some((function(t){return t.base_name===e})))return"A file with that name already exists";return-1!==e.indexOf(" ")?'Filename cannot contain white space " "':-1!==e.indexOf("..")?'Filename cannot contain two neighbour ".."':/^[a-zA-Z0-9._-]*$/.test(e)?void 0:"Invalid file name"},Oe=function(){var e=Object(d.a)(l.a.mark((function e(t,a){var r,n,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.post("/signedurl",{type:"file_upload",file_path:t.path,_out_of_quota:"undefined"!==typeof a?a.usage_status._out_of_quota:null});case 2:if(n=e.sent,void 0===(s=te(n))){e.next=7;break}return E.i.logError("".concat(s.description," (").concat(s.code,")")),e.abrupt("return",{data:(null===(i=n.data)||void 0===i?void 0:i.data)||{},error:s});case 7:return e.abrupt("return",{data:(null===(r=n.data)||void 0===r?void 0:r.data)||{},error:{code:"0"}});case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_e=function(){var e=Object(d.a)(l.a.mark((function e(t,a,r,n){var s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E.i.logDebug("uploadFile -> url, file: ",t,a),a&&a.raw_meta){e.next=3;break}return e.abrupt("return");case 3:return(s=ge(t)).append("file",a.raw_meta,a.base_name),e.prev=5,e.next=8,Q.post(t.url,s,{headers:{"content-type":"multipart/form-data"},timeout:9e4,onUploadProgress:n,validateStatus:function(e){return!0}});case 8:i=e.sent,e.next=17;break;case 11:e.prev=11,e.t0=e.catch(5),E.i.logError("uploadFile -> exc: ",e.t0),"undefined"===typeof(i=e.t0).status&&(i.status=500),"undefined"===typeof i.statusText&&"undefined"!==typeof e.t0.message&&(i.statusText=e.t0.message);case 17:return E.i.logDebug("uploadFile -> response: ",i),e.abrupt("return",i);case 19:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t,a,r,n){return e.apply(this,arguments)}}(),xe=function(){var e=Object(d.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne("/processfiles",{path:t.path,_out_of_quota:"undefined"!==typeof a?a.usage_status._out_of_quota:null});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ye=function(e,t,a){for(var r=e,n=0;n<=100;n++){if(0===t.filter((function(e){return e===a+r})).length)return r;var s=e.split(".");r=0===n?s.slice(0,s.length-1).join(".")+"-copy."+s[s.length-1]:s.slice(0,s.length-1).join(".")+"-copy-"+n+"."+s[s.length-1]}return r},Ce=function(){var e=Object(d.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne("/signedurl",{type:"file_preview",file_path:t.path,_out_of_quota:"undefined"!==typeof a?a.usage_status._out_of_quota:null});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),we=function(e,t){return void 0===e.last_modified&&void 0===t.last_modified?0:void 0===e.last_modified?1:void 0===t.last_modified?-1:e.last_modified<t.last_modified?1:e.last_modified>t.last_modified?-1:0},Ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="",r=e,n=[];if(t&&((n=e.split("/")).length>1?(r=n[n.length-1],n.pop()):t=!1),r.length>25){var s=r.lastIndexOf("."),i=[];i[0]=r.substr(0,s),i[1]=r.substr(s+1);var o=i[0].length;a=o>21?i[0].substring(0,16)+"..."+i[0].substr(o-3,o)+"."+i[1]:i[0].substring(0,13)+"..."+i[0].substr(o-3,o)+"."+i[1]}else a=r;return t&&(a="".concat(n.join("/"),"/").concat(a)),a},Ee={loading:[],hide_tooltips:!1,initialized:!1,fully_initialized:!1,partially_initialized:!1,user:{is_registered:!1,onboarding_step:1},subscription_plan_options:{},subscription_plan:{},quota:{},usage:{},usage_status:{},spaces:[],files_uploaded:[],space_path:"",display_footer:!0,display_header:!0,editor_content:{url:null,space_id:null,file_path:null,domainNameForSpace:null}},Se=function(e){return F("Main::setEditorContent",e)},ke=function(e){return F("Main::setDisplayFooter",e)},Me=function(e){return F("Main::setDisplayHeader",e)},Le=function(){return F("Main::fetchBulkData")},Pe=function(e){return F("Main::setBulkData",e)},De=function(e){return F("Main::updateBulkData",e)},Fe=function(e){return F("Main/User::update",e)},Te=function(e){return F("Main::setLoading",e)},Ie=function(e){return F("Main::removeLoading",e)},Ae=function(e){return F("Main/Space::add",e)},Re=function(e){return F("Main/Space::update",e)},Be=function(e){return F("Main/Space::setSpacePath",e)},Ue=function(e){return F("Main/Space/Files::add",e)},He=function(e){return F("Main/Space/File::deleteUploaded",e)},Ve=function(e,t,a){return F("Main/Space/File::setProcessingStatus",{file:e,processing_status:t,processing_status_error:a})},ze=function(){return F("Main/Space/File::resetFileUpload")},qe=function(e){return F("Main/Space/Files::hideTooltip",e)},Ye=function(e,t,a){return function(){var r=Object(d.a)(l.a.mark((function r(n){return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n(Te("fetchFiles")),r.next=3,Ze(n,e,t,a);case 3:n(Ie("fetchFiles"));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},Ze=function(){var e=Object(d.a)(l.a.mark((function e(t,a,r,n){var s,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne("/files",{action:"getFiles",space_id:a,_out_of_quota:"undefined"!==typeof r?r.usage_status._out_of_quota:null});case 2:if(s=e.sent,E.i.logDebug("MainReducer -> _fetchFiles -> req_res: ",s),i=s.data,o=s.error,"undefined"!==typeof i._update_main_state&&t(De(i._update_main_state)),"undefined"!==typeof i._update_space&&null!==i._update_space&&t(Re(i._update_space)),"0"===o.code){e.next=14;break}if("BRS_UNAUTHORIZED"!==o.code){e.next=12;break}return L(),e.abrupt("return",s);case 12:return t(V(o)),e.abrupt("return",s);case 14:return t(F("Main/Space/FilesAndFolders::set",{space_id:a,backend_files:i.files,backend_folders:i.folders})),"undefined"!==typeof n&&n(s),e.abrupt("return",s);case 17:case"end":return e.stop()}}),e)})));return function(t,a,r,n){return e.apply(this,arguments)}}();var Ke=a(17),Ge=a(1),We=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var r;return Object(p.a)(this,a),(r=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),r.setState({loading:!0});var t=r.props.spaceId,a=JSON.stringify({action:"delete",spaceId:t,_out_of_quota:r.props.main_state.usage_status._out_of_quota});J.post("/spaceregistration",a,{headers:{"Content-Type":"text/plain;charset=UTF-8"}}).then((function(e){var a;E.i.logDebug("DeleteSpaceModal -> space deletion -> req_res: ",e);var n=(null===(a=e.data)||void 0===a?void 0:a.data)||{};"undefined"!==typeof n._update_main_state&&r.props.updateMainBulkState(n._update_main_state);var s=te(e);if(void 0!==s)return s.code,void r.setState({errorMessage:s.description,loading:!1});e.status>=400?(r.props.addNotification({id:M(),dismissed:!1,type:"error",header:"Error deleting space",body:Object(Ge.jsxs)("span",{children:["Space named ",Object(Ge.jsx)("strong",{children:t})," was not deleted, please try again later."]})}),r.setState({loading:!1}),r.props.close(),r.props.closeWithStatus(!1)):(r.props.updateSpace({id:t,state:"DELETED",finalize_deletion_uts:r.props.main_state.subscription_plan.time_span_end_uts}),r.props.addNotification({id:M(),dismissed:!1,type:"success",header:"Space deleted",body:Object(Ge.jsxs)("span",{children:["Your space ",Object(Ge.jsx)("strong",{children:t})," was successfully deleted."]})}),r.setState({loading:!1}),r.props.close(),r.props.closeWithStatus(!0))}))},r.state={loading:!1},r}return Object(u.a)(a,[{key:"hasConnectedDomain",get:function(){var e=this;return this.props.domains.filter((function(t){return t.spaceId===e.props.spaceId})).length>0}},{key:"render",value:function(){return Object(Ge.jsxs)(w.a,{show:this.props.show,onHide:this.props.close,size:"lg",animation:!1,className:"delete-space-modal",centered:!0,backdrop:"static",children:[Object(Ge.jsx)(w.a.Header,{closeButton:!0,children:Object(Ge.jsx)(w.a.Title,{children:this.hasConnectedDomain?"Cannot delete space":"Delete space and files?"})}),Object(Ge.jsxs)(w.a.Body,{children:[this.hasConnectedDomain?Object(Ge.jsx)("p",{children:"This space is connected to a domain and can not be deleted."}):Object(Ge.jsxs)("p",{children:["Please confirm that you want to permanently destroy ",Object(Ge.jsx)("strong",{children:this.props.spaceId})," and all the files stored on this space."]}),this.hasConnectedDomain?"":Object(Ge.jsx)("p",{children:"This action cannot be undone."}),this.state.errorMessage&&Object(Ge.jsx)(N.a,{variant:"danger",children:this.state.errorMessage})]}),Object(Ge.jsxs)(w.a.Footer,{children:[Object(Ge.jsx)(E.a,{variant:"tertiary",disabled:this.state.loading,onClick:this.props.close,text:"Cancel"}),Object(Ge.jsx)(E.a,{variant:"destructive",text:"Yes, delete this space and all files",disabled:this.state.loading||this.hasConnectedDomain,loading:this.state.loading,onClick:this.handleSubmit})]})]})}}]),a}(s.a.Component),Qe=Object(_.b)((function(e){return{domains:e.domains.orders,main_state:e.main}}),(function(e){return Object(Ke.bindActionCreators)({addNotification:Y,updateSpace:Re,updateMainBulkState:De},e)}))(We),Xe=a(12),Je=(a(303),Object(Ke.compose)(O.j)((function(e){var t=Object(_.c)(),a=Object(O.g)(),r=Object(n.useState)(!1),s=Object(Xe.a)(r,2),i=s[0],o=s[1],c=Object(n.useState)(!1),l=Object(Xe.a)(c,2),d=l[0],p=l[1],u=Object(n.useState)(),h=Object(Xe.a)(u,1)[0],f=Object(_.d)((function(e){return e.main.user}));Object(n.useEffect)((function(){d&&f.is_resetting_space&&f.is_resetting_space.length&&(p(!1),a.push("/createspace/stepone?is_resetting_space="+f.is_resetting_space))}),[d,f.is_resetting_space,a]);return Object(Ge.jsxs)(w.a,{show:e.show,onHide:e.close,size:"lg",animation:!1,className:"reset-space-modal",centered:!0,children:[Object(Ge.jsx)(w.a.Header,{closeButton:!0,children:Object(Ge.jsx)(w.a.Title,{children:"Reset space and select new template?"})}),Object(Ge.jsxs)(w.a.Body,{children:[Object(Ge.jsxs)("p",{children:["When you reset your space, all files on the space ",Object(Ge.jsx)("strong",{children:e.space_id})," will be permanently deleted, and you can select a new template."]}),Object(Ge.jsxs)("ul",{children:[Object(Ge.jsx)("li",{children:"This action cannot be undone"}),Object(Ge.jsx)("li",{children:"The space name will be kept"}),Object(Ge.jsx)("li",{children:"All progress will be lost"})]}),h&&Object(Ge.jsx)(N.a,{variant:"danger",children:h})]}),Object(Ge.jsxs)(w.a.Footer,{children:[Object(Ge.jsx)(E.a,{variant:"tertiary",disabled:i,onClick:e.close,text:"Cancel"}),Object(Ge.jsx)(E.a,{variant:"destructive",text:"Yes, reset my space",disabled:i,loading:i,onClick:function(a){a.preventDefault(),o(!0),e.resetFileUpload&&e.resetFileUpload(),t(Fe({is_resetting_space:e.space_id})),p(!0)}})]})]})}))),$e=(a(307),a(308),a(407)),et=a(388),tt=(a(309),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var r;return Object(p.a)(this,a),(r=t.call(this,e)).handleSpaceNameChange=function(e){e.preventDefault();var t=e.target.value,a=void 0;t.length<4?a="Space name must be at least 4 characters":t.length>20?a="Space name cannot be more than 20 characters":/^[a-z]/.test(t)?/^[a-z\-_0-9]*$/.test(t)||(a="Space name can only contain lower case letters, numbers, dashes and underscores."):a="Space name must start with a lower case letter",r.setState({newSpaceName:e.target.value,spaceNameError:a})},r.handleSubmit=function(e){if(e.preventDefault(),r.checkSpaceNameInput()){r.setState({loading:!0});var t=r.state.newSpaceName,a=JSON.stringify({action:"register",spaceId:t,_out_of_quota:r.props.main_state.usage_status._out_of_quota});J.post("/spaceregistration",a,{headers:{"Content-Type":"text/plain;charset=UTF-8"}}).then((function(e){var a;E.i.logDebug("CreateSpaceModal -> space registration -> req_res: ",e);var n=(null===(a=e.data)||void 0===a?void 0:a.data)||{};"undefined"!==typeof n._update_main_state&&r.props.updateMainBulkState(n._update_main_state),"undefined"!==typeof n._update_space&&null!==n._update_space&&r.props.addSpace(n._update_space);var s=te(e);if(void 0!==s)switch(s.code){case"INVALID_NAME":r.setState({errorMessage:"Space name is invalid.",loading:!1,validateInput:!1});break;case"SPACE_NAME_OWNED":r.setState({errorMessage:'The name "'.concat(t,'" is already owned by you, please try another one'),unavailableNames:[].concat(Object(P.a)(r.state.unavailableNames),[t]),loading:!1,validateInput:!1});break;case"NAME_TAKEN":r.setState({errorMessage:'The name "'.concat(t,'" is already taken, please try another one'),unavailableNames:[].concat(Object(P.a)(r.state.unavailableNames),[t]),loading:!1,validateInput:!1});break;case"NR_OF_SPACES_QUOTA_EXCEEDED":r.setState({errorMessage:"Too many spaces created, please update subscription or delete another space.",loading:!1,showUpgradeLink:!0,validateInput:!1});break;default:r.setState({errorMessage:s.description,loading:!1,showUpgradeLink:!0,validateInput:!1})}else r.props.addNotification({id:M(),dismissed:!1,type:"success",header:"Space created",body:Object(Ge.jsxs)("span",{children:["Your space ",Object(Ge.jsx)("strong",{children:t})," is set up and ready for use."]})}),r.setState({loading:!1,newSpaceName:"",validateInput:!1}),r.props.close()}))}else r.setState({validateInput:!0})},r.checkSpaceNameInput=function(){return Boolean(void 0===r.state.spaceNameError)},r.state={newSpaceName:"",loading:!1,unavailableNames:[],showUpgradeLink:!1,validateInput:!1},r}return Object(u.a)(a,[{key:"render",value:function(){var e;return Object(Ge.jsxs)(w.a,{show:this.props.show,onHide:this.props.close,size:"lg",animation:!1,className:"create-space-modal",centered:!0,children:[Object(Ge.jsx)(w.a.Header,{closeButton:!0,children:Object(Ge.jsx)(w.a.Title,{children:"Create a space"})}),Object(Ge.jsxs)(w.a.Body,{children:[Object(Ge.jsx)("p",{children:"What do you want to call this space?"}),this.state.errorMessage&&Object(Ge.jsx)(N.a,{variant:"danger",children:this.state.errorMessage}),Object(Ge.jsx)($e.a,{onSubmit:this.handleSubmit,inline:!0,children:Object(Ge.jsxs)(et.a,{children:[Object(Ge.jsx)($e.a.Control,{type:"text",value:this.state.newSpaceName,placeholder:"Enter a name for your space",onChange:this.handleSpaceNameChange,isValid:this.state.validateInput&&this.checkSpaceNameInput(),disabled:this.state.loading,isInvalid:this.state.validateInput&&!this.checkSpaceNameInput()}),Object(Ge.jsx)(et.a.Append,{children:Object(Ge.jsxs)(et.a.Text,{children:[".",k()]})})]})}),this.state.validateInput&&Object(Ge.jsx)("small",{className:"space-name-error",children:null!==(e=this.state.spaceNameError)&&void 0!==e?e:""})]}),Object(Ge.jsxs)(w.a.Footer,{children:[this.state.showUpgradeLink&&Object(Ge.jsx)("a",{href:"#",children:"Click here to upgrade plan"}),Object(Ge.jsx)(E.a,{variant:"secondary",disabled:this.state.loading,onClick:this.props.close,text:"Cancel"}),Object(Ge.jsx)(E.a,{variant:"primary",text:"Create a space",loading:this.state.loading,disabled:this.state.loading||this.state.validateInput&&!this.checkSpaceNameInput(),onClick:this.handleSubmit})]})]})}}]),a}(s.a.Component)),at=Object(_.b)((function(e){return{main_state:e.main}}),(function(e){return Object(Ke.bindActionCreators)({addNotification:Y,addSpace:Ae,updateMainBulkState:De},e)}))(tt),rt=function(e){return e.usage_status._out_of_quota?{code:"ACTION_FORBIDDEN_WHEN_QUOTA_EXCEEDED",description:"Your account is out of quota, and creating a new space is not allowed."}:e.usage.storage.number_of_spaces>=e.quota.storage.number_of_spaces?{code:"NR_OF_SPACES_QUOTA_EXCEEDED"}:{code:"0"}},nt=function(e){return e.usage_status._out_of_quota?{code:"ACTION_FORBIDDEN_WHEN_QUOTA_EXCEEDED",description:"Your space is temporarily closed, and resetting it is not allowed.",meta:{header_text:"Space temporarily closed"}}:{code:"0"}},st=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"file";return e.usage_status._out_of_quota?{code:"ACTION_FORBIDDEN_WHEN_QUOTA_EXCEEDED",description:"Your space is temporarily closed, and you cannot add more ".concat(a,"s."),meta:{header_text:"Space temporarily closed"},context:"quota"}:"OPEN"!==t.state&&"PRIVATE"!==t.state?{code:"SPACE_ACTION_FORBIDDEN",description:"Your space is temporarily closed, and you cannot add more ".concat(a,"s."),meta:{header_text:"Space temporarily closed"},context:"std"}:t.usage.storage.number_of_files_per_space>=e.quota.storage.number_of_files_per_space?{code:"SPACE_NR_OF_FILES_QUOTA_EXCEEDED",context:"quota"}:{code:"0"}},it={modals:[]},ot=function(e){return F("Modal::add",e)};function ct(e,t){return function(a,r){var n=r(),s=n.main.subscription_plan,i=n.main.quota,o=n.main.usage,c=s.cname;if(!0!=={ACTION_FORBIDDEN_WHEN_QUOTA_EXCEEDED:!0,NR_OF_SPACES_QUOTA_EXCEEDED:!0,SPACE_FILE_SIZE_QUOTA_EXCEEDED:!0,SPACE_NR_OF_FILES_QUOTA_EXCEEDED:!0,TOTAL_STORAGE_AMOUNT_QUOTA_EXCEEDED:!0}[e.code]){var l={id:M(),dismissed:!1,type:"error",header:"Quota error",body:e.description};return a(Y(l)),l.body}var d={id:M(),dismissed:!1,type:"error",header:"",body:""};if("ACTION_FORBIDDEN_WHEN_QUOTA_EXCEEDED"===e.code)"undefined"!==typeof e.meta&&"undefined"!==typeof e.meta.header_text?d.header=Object(Ge.jsx)(Ge.Fragment,{children:e.meta.header_text}):d.header=Object(Ge.jsx)(Ge.Fragment,{children:"Out of quota"}),e.description||(e.description="Your account is out of quota, and performing this action is not allowed."),s.can_be_upgraded?d.body=Object(Ge.jsxs)(Ge.Fragment,{children:[e.description,"\xa0Do you need more requests, data or storage? Upgrade to the ",Object(Ge.jsx)("strong",{children:s.upgrade_to_cname})," plan."]}):d.body=Object(Ge.jsx)(Ge.Fragment,{children:e.description});else if("NR_OF_SPACES_QUOTA_EXCEEDED"===e.code){var p=1===i.storage.number_of_spaces?"space":"spaces",u=1===o.storage.number_of_spaces?"space":"spaces";d.header=Object(Ge.jsxs)(Ge.Fragment,{children:["Your ",s.cname," plan includes ",i.storage.number_of_spaces," ",p]}),s.can_be_upgraded?d.body=Object(Ge.jsxs)(Ge.Fragment,{children:["With a ",Object(Ge.jsx)("strong",{children:s.cname})," plan you get ",i.storage.number_of_spaces," ",p,". By upgrading your plan you get more spaces included."]}):d.body=Object(Ge.jsxs)(Ge.Fragment,{children:["With a ",Object(Ge.jsx)("strong",{children:s.cname})," plan you get ",i.storage.number_of_spaces," ",p," included, and you already have ",o.storage.number_of_spaces," ",u,". Delete one of your existing spaces, if you want to create one more."]})}else if("SPACE_FILE_SIZE_QUOTA_EXCEEDED"===e.code){t=t;var h=C(i.storage.max_file_size);d.header=Object(Ge.jsxs)(Ge.Fragment,{children:["File is larger than ",h]}),s.can_be_upgraded?d.body=Object(Ge.jsxs)(Ge.Fragment,{children:["The file ",Object(Ge.jsx)("strong",{children:Ne(t.base_name)})," is too large. With the ",Object(Ge.jsx)("strong",{children:c})," plan you can upload files that are up to ",h,". Do you want to upload larger files? ",Object(Ge.jsx)("strong",{children:"Upgrade your plan."})]}):d.body=Object(Ge.jsxs)(Ge.Fragment,{children:["The file ",Object(Ge.jsx)("strong",{children:Ne(t.base_name)})," is too large. You can upload files that are up to ",h,"."]})}else if("SPACE_NR_OF_FILES_QUOTA_EXCEEDED"===e.code)d.header=Object(Ge.jsx)(Ge.Fragment,{children:"Maximum number of files and folders reached"}),s.can_be_upgraded?d.body=Object(Ge.jsxs)(Ge.Fragment,{children:["You have reached the limit of ",Object(Ge.jsxs)("strong",{children:[i.storage.number_of_files_per_space," files and folders"]})," on the ",Object(Ge.jsx)("strong",{children:c})," plan. Make room for more files and folders, by deleting some of them - and try to upload or create again. Do you want to upload or create more files and folders? ",Object(Ge.jsx)("strong",{children:"Upgrade your plan."})]}):d.body=Object(Ge.jsxs)(Ge.Fragment,{children:["You have reached the limit of ",Object(Ge.jsxs)("strong",{children:[i.storage.number_of_files_per_space," files and folders"]}),". Make room for more files and folders, by deleting some of them - and try to upload or create again."]});else if("TOTAL_STORAGE_AMOUNT_QUOTA_EXCEEDED"===e.code){var f=C(i.storage.amount);d.header=Object(Ge.jsx)(Ge.Fragment,{children:"File not saved"}),s.can_be_upgraded?d.body=Object(Ge.jsxs)(Ge.Fragment,{children:["You have reached the ",Object(Ge.jsx)("strong",{children:f})," storage limit on the ",Object(Ge.jsx)("strong",{children:c})," plan, so your changes did not get saved. To add more storage you can either upgrade your plan - or delete some files to free up storage."]}):d.body=Object(Ge.jsxs)(Ge.Fragment,{children:["You have reached the ",Object(Ge.jsx)("strong",{children:f})," storage limit on the ",Object(Ge.jsx)("strong",{children:c})," plan, so your changes did not get saved. Delete some files to free up storage."]})}return s.can_be_upgraded?(d.learnMoreButtonText="Learn more",d.upgradeButtonText="Upgrade"):d.dismissButtonText="Got it",a(ot(d)),d.body}}var lt;a(311);function dt(){return dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},dt.apply(this,arguments)}function pt(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function ut(e,t){var a=e.title,r=e.titleId,s=pt(e,["title","titleId"]);return n.createElement("svg",dt({"aria-hidden":"true",focusable:"false","data-prefix":"lau","data-icon":"long-arrow-up",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,lt||(lt=n.createElement("path",{fill:"currentColor",d:"M19.716 184.485l19.626 19.626c4.753 4.753 12.484 4.675 17.14-.173L134 123.22V468c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12V123.22l77.518 80.717c4.656 4.849 12.387 4.927 17.14.173l19.626-19.626c4.686-4.686 4.686-12.284 0-16.971L168.485 35.716c-4.686-4.686-12.284-4.686-16.971 0L19.716 167.515c-4.686 4.686-4.686 12.284 0 16.97z"})))}var ht=n.forwardRef(ut),ft=(a.p,a(77)),bt=a(411),mt=a(404);a(312);var jt=Object(_.b)((function(e){return{hide_tooltips:e.main.hide_tooltips}}),(function(e){return Object(Ke.bindActionCreators)({setHideTooltip:qe},e)}))((function(e){var t=e.text,a=e.placement,r=void 0===a?"top-center":a,s=e.disabled,i=void 0!==s&&s,o=e.children,c=e.hide_tooltips,l=e.className,d=e.setHideTooltip,p=e.fileName,u=void 0!==p&&p,h=Object(ft.b)({delayEnter:0,delayLeave:0}),f=Object(Xe.a)(h,2),b=f[0],m=f[1],j=n.useRef(!1),g=n.useRef(null);if(u&&"string"===typeof t){for(var v="";t.toString().length>0;)v+=t.toString().substring(0,38)+"\n",t=t.toString().substring(38);t=v}var O=n.useCallback((function(){return g.current&&(clearTimeout(g.current),g.current=null),function(){clearTimeout(g.current)}}),[]);n.useEffect((function(){m&&(c?(j.current||O(),m.onMouseLeave(null,!0)):j.current&&(O(),j.current=!1,m.onMouseEnter(null,!0)),i&&(m.onMouseLeave(null,!0),O()))}),[c,m,O,i,j]);var _=Object(ft.c)({isOpen:b,placement:r,triggerOffset:8}),x=_.triggerProps,y=_.layerProps,C=_.arrowProps,w=_.renderLayer;function N(){g.current=null,j.current=!0,d(!1)}function E(){g.current=null,d(!1)}var S={onMouseEnter:function(e){O(),j.current=!0,c||d(!0),g.current=window.setTimeout(N,450)},onMouseLeave:function(e){O(),j.current=!1,c||(d(!0),g.current=window.setTimeout(E,450))},onTouchStart:function(e){return m.onTouchStart(e,!0)},onTouchMove:function(e){return m.onTouchMove(e)},onTouchEnd:function(e){return m.onTouchEnd(e)}},k=i?Object(Ge.jsx)("span",{className:(l||"")+" -text-wrp",children:o}):Object(Ge.jsx)("span",Object(D.a)(Object(D.a)(Object(D.a)({className:(l||"")+" -text-wrp"},x),S),{},{children:o}));return Object(Ge.jsxs)(Ge.Fragment,{children:[k,!i&&w(Object(Ge.jsx)(bt.a,{children:b&&Object(Ge.jsxs)(mt.a.div,Object(D.a)(Object(D.a)({className:"tooltip-box",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1}},y),{},{children:[t,Object(Ge.jsx)(ft.a,Object(D.a)(Object(D.a)({},C),{},{backgroundColor:"#282A35",borderColor:"#282A35",borderWidth:1,size:6}))]}))}))]})})),gt=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?"Upgrade":t?"View billing plans":"View plans"};var vt=function(e){var t=e.can_be_upgraded,a=e.type,r=e.variant,n=gt(t),s=gt(t,!0);return Object(Ge.jsxs)(Ge.Fragment,{children:["circle"===a&&Object(Ge.jsx)(jt,{text:s,placement:"top-center",children:Object(Ge.jsx)(v.a,{variant:"flat",className:"btn-md-round btn-color-green",as:"a",href:E.j.getUpgradeLink(),children:Object(Ge.jsx)(ht,{})})}),"std"===a&&Object(Ge.jsx)("a",{"data-google-interstitial":"false",href:E.j.getUpgradeLink(),className:"btn-cta btn-cta-upgrade ".concat("secondary"===r?"btn-cta-upgrade-secondary":""),role:"button",children:n}),!a&&Object(Ge.jsx)(E.a,{variant:t?r:"tertiary",onClick:function(){window.location.href=E.j.getUpgradeLink()},children:n})]})},Ot=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var r;return Object(p.a)(this,a),(r=t.call(this,e)).handleOpenCreateSpaceModal=function(e){e.preventDefault();var t=rt(r.props.main_state);"0"===t.code?r.props.history.push("/createspace/stepone"):r.props.addQuotaError(t)},r.handleCloseCreateSpaceModal=function(){r.setState({showCreateSpaceModal:!1})},r.state={showCreateSpaceModal:!1},r}return Object(u.a)(a,[{key:"numberOfDomains",get:function(){return this.props.domains.length}},{key:"firstSpaceId",get:function(){if(this.props.spaces&&0!==this.props.spaces.length)return this.props.spaces[0].id}},{key:"render",value:function(){var e=this;return Object(Ge.jsx)(Ge.Fragment,{children:Object(Ge.jsxs)(m.a,{className:"header-row",children:[Object(Ge.jsx)(j.a,{md:2,children:Object(Ge.jsx)("h1",{children:"Spaces"})}),!this.props.fatal_error&&Object(Ge.jsxs)(Ge.Fragment,{children:[Object(Ge.jsxs)(j.a,{className:"right",md:10,children:[Object(Ge.jsx)("span",{className:"-mobile mr-13",children:0===this.numberOfDomains?"free"===this.props.main_state.subscription_plan.name&&void 0!==this.firstSpaceId?Object(Ge.jsx)(E.a,{variant:"tertiary",onClick:function(){return e.props.history.push("/domains/start/".concat(e.firstSpaceId))},children:"Get a domain"}):"":Object(Ge.jsx)(E.a,{variant:"noframe",onClick:function(){return e.props.history.push("/domains")},children:"free"===this.props.main_state.subscription_plan.name?"My domain":"My domains"})}),Object(Ge.jsx)("span",{className:"-mobile mr-13",children:Object(Ge.jsx)(vt,{type:"std",variant:"secondary",can_be_upgraded:this.props.main_state.subscription_plan.can_be_upgraded})}),Object(Ge.jsx)("span",{className:"-mobile",children:Object(Ge.jsx)(E.a,{variant:"primary",onClick:this.handleOpenCreateSpaceModal,children:"Create a space"})})]}),Object(Ge.jsx)(at,{show:this.state.showCreateSpaceModal,close:this.handleCloseCreateSpaceModal})]})]})})}}]),a}(s.a.Component),_t=Object(O.j)(Object(_.b)((function(e){return{fatal_error:e.main.fatal_error,main_state:e.main,spaces:e.main.spaces,domains:e.domains.orders}}),(function(e){return Object(Ke.bindActionCreators)({addQuotaError:ct},e)}))(Ot)),xt=(a(313),a(60)),yt=a.n(xt),Ct=function(e){var t=((new Date).getTime()-e.getTime())/1e3;if(t<60)return"Just now";if(t<120)return"a minute ago";if(t<3600){var a=Math.floor(t/60);return"".concat(a," minutes ago")}if(t<7200)return"an hour ago";if(t<86400){var r=Math.floor(t/3600);return"".concat(r," hours ago")}if(t<172800)return"a day ago";if(t<604800){var n=Math.floor(t/86400);return"".concat(n," days ago")}if(t<1209600)return"a week ago";if(t<2592e3){var s=Math.floor(t/604800);return"".concat(s," weeks ago")}if(t<5184e3)return"a month ago";if(t<31536e3){var i=Math.floor(t/2592e3);return"".concat(i," months ago")}return"more than a year ago"};var wt=function(e){var t=e.size,a=e.spaceState;return Object(Ge.jsxs)("svg",{width:t,height:t,className:"space-icon-window "+a,viewBox:"0 0 32 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Ge.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26.25 2.75H3.75C2.71447 2.75 1.875 3.58947 1.875 4.625V8.375H28.125V4.625C28.125 3.58947 27.2855 2.75 26.25 2.75ZM1.875 23.375V10.25H28.125V19.0015C28.7904 19.0179 29.4235 19.1642 30 19.416V4.625C30 2.55393 28.3211 0.875 26.25 0.875H3.75C1.67893 0.875 0 2.55393 0 4.625V23.375C0 25.4461 1.67893 27.125 3.75 27.125H24.0966C23.6609 26.5815 23.3364 25.945 23.1575 25.25H3.75C2.71447 25.25 1.875 24.4105 1.875 23.375ZM4.6875 6.5C5.20527 6.5 5.625 6.08027 5.625 5.5625C5.625 5.04473 5.20527 4.625 4.6875 4.625C4.16973 4.625 3.75 5.04473 3.75 5.5625C3.75 6.08027 4.16973 6.5 4.6875 6.5ZM8.4375 5.5625C8.4375 6.08027 8.01777 6.5 7.5 6.5C6.98223 6.5 6.5625 6.08027 6.5625 5.5625C6.5625 5.04473 6.98223 4.625 7.5 4.625C8.01777 4.625 8.4375 5.04473 8.4375 5.5625ZM10.3125 6.5C10.8303 6.5 11.25 6.08027 11.25 5.5625C11.25 5.04473 10.8303 4.625 10.3125 4.625C9.79473 4.625 9.375 5.04473 9.375 5.5625C9.375 6.08027 9.79473 6.5 10.3125 6.5Z",fill:"#282A35"}),Object(Ge.jsx)("g",{clipPath:"url(#clip0)",className:"padlock",children:Object(Ge.jsx)("path",{d:"M18.8125 16.375H18.3438V14.9688C18.3438 13.332 17.0117 12 15.375 12C13.7383 12 12.4062 13.332 12.4062 14.9688V16.375H11.9375C11.4199 16.375 11 16.7949 11 17.3125V21.0625C11 21.5801 11.4199 22 11.9375 22H18.8125C19.3301 22 19.75 21.5801 19.75 21.0625V17.3125C19.75 16.7949 19.3301 16.375 18.8125 16.375ZM16.7812 16.375H13.9688V14.9688C13.9688 14.1934 14.5996 13.5625 15.375 13.5625C16.1504 13.5625 16.7812 14.1934 16.7812 14.9688V16.375Z",fill:"#282A35"})}),Object(Ge.jsx)("circle",{className:"dot",cx:"28",cy:"24",r:"4"}),Object(Ge.jsx)("defs",{children:Object(Ge.jsx)("clipPath",{id:"clip0",children:Object(Ge.jsx)("rect",{width:"8.75",height:"10",fill:"white",transform:"translate(11 12)"})})})]})};a(314);var Nt=function(e){var t=e.spaceState,a=e.size;switch(t){case"OPEN":case"INACTIVE":case"DELETED":case"BANNED":case"PRIVATE":return Object(Ge.jsx)(wt,{size:a,spaceState:t})}},Et=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var r;return Object(p.a)(this,a),(r=t.call(this,e)).previewSpace=function(e){e.stopPropagation(),r.setState({hoverLink:!1}),"OPEN"===r.props.space.state||"PRIVATE"===r.props.space.state?window.open(r.spaceUrl,"_blank","noopener,noreferrer"):"INACTIVE"!==r.props.space.state&&"BANNED"!==r.props.space.state||window.open("https://support.w3schools.com/hc/en-gb/articles/4404426250513","_blank","noopener,noreferrer")},r.state={hoverLink:!1},r}return Object(u.a)(a,[{key:"spaceSubtitle",get:function(){switch(this.props.space.state){case"DELETED":return Object(Ge.jsxs)(Ge.Fragment,{children:[Object(Ge.jsx)("span",{children:"Scheduled to be deleted on "}),(e=this.props.space.finalize_deletion_uts||0,yt.a.unix(e).local().format("MMM Do, YYYY [at] HH:mm"))]});case"INACTIVE":case"BANNED":return Object(Ge.jsxs)("span",{children:["Temporarily closed by admin. ",Object(Ge.jsx)("span",{className:"space-name-cell-read-more-link",children:"Read more"})]});default:return this.spaceUrl}var e}},{key:"domainNameForSpace",get:function(){var e=this,t=this.props.domains.filter((function(t){return t.spaceId===e.props.space.id&&t.status.ORDER_PROCESSING_COMPLETED}));if(t.length>0)return t[0].domainName}},{key:"spaceUrl",get:function(){var e=this.domainNameForSpace;return e?"https://".concat(e):"https://".concat(this.props.space.id,".").concat(k())}},{key:"render",value:function(){var e=this;return Object(Ge.jsxs)("div",{className:"space-name-cell space-state-".concat(this.props.space.state.toLowerCase()),children:[Object(Ge.jsx)(Nt,{spaceState:this.props.space.state,size:30}),Object(Ge.jsxs)("div",{className:"-inner-wrp",children:[Object(Ge.jsxs)("div",{className:this.state.hoverLink?"files-link w3s-hover-link":"files-link",children:["DELETED"===this.props.space.state&&Object(Ge.jsx)("span",{className:"-state-text",children:"Deleted: "}),this.props.space.id]}),Object(Ge.jsx)("div",{className:"OPEN"===this.props.space.state||"PRIVATE"===this.props.space.state?"ext-link open":"ext-link",onMouseEnter:function(){return e.setState({hoverLink:!0})},onMouseLeave:function(){return e.setState({hoverLink:!1})},onClick:this.previewSpace,children:this.spaceSubtitle})]})]})}}]),a}(s.a.Component),St=Object(O.j)(Object(_.b)((function(e,t){var a=t.space;return{domains:e.domains.orders,userInfo:e.main.user,space:a}}),(function(e){return Object(Ke.bindActionCreators)({},e)}))(Et)),kt=a(391),Mt=a(392),Lt=(a(315),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(p.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).handleOpenCreateSpaceModal=function(t){t.preventDefault();var a=rt(e.props.main_state);"0"===a.code?e.props.history.push("/createspace/stepone"):e.props.addQuotaError(a)},e}return Object(u.a)(a,[{key:"render",value:function(){return Object(Ge.jsxs)(kt.a,{className:"no-space-banner-jumbotron",children:[Object(Ge.jsx)(m.a,{children:Object(Ge.jsx)(j.a,{children:Object(Ge.jsx)("div",{className:"no-space-banner-icon-circle",children:Object(Ge.jsx)(Mt.a,{size:"50"})})})}),Object(Ge.jsx)(m.a,{children:Object(Ge.jsx)(j.a,{children:Object(Ge.jsx)("h3",{children:"Looks like you don't have any spaces"})})}),Object(Ge.jsx)(m.a,{children:Object(Ge.jsx)(j.a,{children:Object(Ge.jsx)(v.a,{className:"btn-cta",onClick:this.handleOpenCreateSpaceModal,children:"Create your first space"})})})]})}}]),a}(s.a.Component)),Pt=Object(O.j)(Object(_.b)((function(e){return{main_state:e.main}}),(function(e){return Object(Ke.bindActionCreators)({addQuotaError:ct},e)}))(Lt)),Dt=a(409),Ft=a(412),Tt=(a(316),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MMM DD, YYYY";return yt.a.unix(e.time_span_end_uts).format(t)});var It=function(e){var t=e.title,a=e.metric,r=e.grid_size,s=void 0===r?6:r,i=e.grid_size_md,o=Object(_.d)((function(e){return e.main.usage})),c=Object(_.d)((function(e){return e.main.quota})),l=Object(_.d)((function(e){return e.main.subscription_plan})),d=Object(n.useState)({start:"",total:""}),p=Object(Xe.a)(d,2),u=p[0],h=p[1],f=Object(n.useState)("0"),b=Object(Xe.a)(f,2),m=b[0],g=b[1],v=Object(n.useState)(""),O=Object(Xe.a)(v,2),y=O[0],w=O[1];Object(n.useEffect)((function(){if(w(Tt(l,"MMM DD")),"web_traffic.data_served"===a){h({start:C(o.web_traffic.data_served,0,!0),total:C(c.web_traffic.data_served,0,!0)});var e=c.web_traffic.data_served-o.web_traffic.data_served;e<0&&(e=0),g(C(e,0,!0))}else if("web_traffic.number_of_requests"===a){h({start:x(o.web_traffic.number_of_requests),total:x(c.web_traffic.number_of_requests)});var t=c.web_traffic.number_of_requests-o.web_traffic.number_of_requests;t<0&&(t=0),g(x(t))}else if("storage.amount"===a){h({start:C(o.storage.amount,0,!0),total:C(c.storage.amount,0,!0)});var r=c.storage.amount-o.storage.amount;r<0&&(r=0),g(C(r,0,!0))}}),[a,l,o.web_traffic.data_served,o.web_traffic.number_of_requests,o.storage.amount,c.web_traffic.data_served,c.web_traffic.number_of_requests,c.storage.amount]);var N=function(){return"web_traffic.data_served"===a?o.web_traffic.data_served/c.web_traffic.data_served*100:"web_traffic.number_of_requests"===a?o.web_traffic.number_of_requests/c.web_traffic.number_of_requests*100:"storage.amount"===a?o.storage.amount/c.storage.amount*100:0};return Object(Ge.jsx)(j.a,{lg:i||s,xl:s,className:"mb-4 mb-xl-0",children:Object(Ge.jsx)(Dt.a,{className:"usage-summary-card",children:Object(Ge.jsxs)(Dt.a.Body,{children:[Object(Ge.jsxs)(Dt.a.Title,{className:"d-flex flex-row",children:[Object(Ge.jsx)("div",{className:"col-4 pl-0",children:t}),Object(Ge.jsxs)("div",{className:"col-8 text-right pr-0",children:[Object(Ge.jsx)("span",{className:"w3s-font-weight-bold",children:u.start}),Object(Ge.jsx)("span",{className:"w3s-font-weight-light",children:" of "}),Object(Ge.jsx)("span",{className:"w3s-font-weight-bold",children:u.total})]})]}),Object(Ge.jsxs)(Dt.a.Text,{as:"div",children:[Object(Ge.jsx)(Ft.a,{animated:!0,className:"usage-summary-progress",now:N(),variant:N()>85?"danger":N()>70?"warning":"success"}),"web_traffic.data_served"===a?Object(Ge.jsxs)(Ge.Fragment,{children:[m," data remaining on your selected plan. ",Object(Ge.jsx)("br",{}),"Data reset on ",y,"."]}):"web_traffic.number_of_requests"===a?Object(Ge.jsxs)(Ge.Fragment,{children:[m," requests remaining on your selected plan.",Object(Ge.jsx)("br",{}),"Requests reset on ",y,"."]}):"storage.amount"===a?Object(Ge.jsxs)(Ge.Fragment,{children:[m," storage remaining on your selected plan."]}):Object(Ge.jsx)(Ge.Fragment,{})]})]})})})};var At,Rt=function(){var e=Object(_.d)((function(e){return e.main.subscription_plan}));return Object(Ge.jsxs)(j.a,{className:"p-0",children:[Object(Ge.jsx)(m.a,{style:{backgroundColor:"#282a3514"},children:Object(Ge.jsxs)("h3",{style:{paddingLeft:"13px",paddingTop:"30px",marginBottom:"-25px"},children:[e.cname," plan"]})}),Object(Ge.jsxs)(m.a,{className:"usage-summary-row",children:[Object(Ge.jsx)(It,{title:"Requests",metric:"web_traffic.number_of_requests",grid_size:4,grid_size_md:12}),Object(Ge.jsx)(It,{title:"Data",metric:"web_traffic.data_served",grid_size:4,grid_size_md:12}),Object(Ge.jsx)(It,{title:"Storage",metric:"storage.amount",grid_size:4,grid_size_md:12})]})]})};function Bt(){return Bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Bt.apply(this,arguments)}function Ut(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Ht(e,t){var a=e.title,r=e.titleId,s=Ut(e,["title","titleId"]);return n.createElement("svg",Bt({width:16,height:4,viewBox:"0 0 16 4",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,At||(At=n.createElement("path",{d:"M9.68421 1.68421C9.68421 2.61579 8.93158 3.36842 8 3.36842C7.06842 3.36842 6.31579 2.61579 6.31579 1.68421C6.31579 0.752631 7.06842 0 8 0C8.93158 0 9.68421 0.752631 9.68421 1.68421ZM14.3158 0C13.3842 0 12.6316 0.752631 12.6316 1.68421C12.6316 2.61579 13.3842 3.36842 14.3158 3.36842C15.2474 3.36842 16 2.61579 16 1.68421C16 0.752631 15.2474 0 14.3158 0ZM1.68421 0C0.752632 0 0 0.752631 0 1.68421C0 2.61579 0.752632 3.36842 1.68421 3.36842C2.61579 3.36842 3.36842 2.61579 3.36842 1.68421C3.36842 0.752631 2.61579 0 1.68421 0Z",fill:"#212529"})))}var Vt=n.forwardRef(Ht);a.p,a(317);var zt,qt=function(e){var t=e.triggerElm,a=e.children,r=e.disabled,n=void 0!==r&&r,i=s.a.useState(!1),o=Object(Xe.a)(i,2),c=o[0],l=o[1];function d(){l(!1)}var p=Object(ft.c)({isOpen:c,onOutsideClick:d,onDisappear:d,overflowContainer:!0,auto:!0,placement:"bottom-end",triggerOffset:12,containerOffset:16,arrowOffset:16}),u=p.renderLayer,h=p.triggerProps,f=p.layerProps,b=p.arrowProps;return Object(Ge.jsxs)(Ge.Fragment,{children:[Object(Ge.jsx)("div",Object(D.a)(Object(D.a)({className:"popover-menu-trigger-elm-wrp",onClick:function(e){e.stopPropagation(),l(!c&&!n)}},h),{},{children:t})),u(Object(Ge.jsx)(bt.a,{children:c&&Object(Ge.jsxs)(mt.a.div,Object(D.a)(Object(D.a)({className:"popover-menu-wrp"},f),{},{children:[a,Object(Ge.jsx)(ft.a,Object(D.a)({borderWidth:1,borderColor:"#E7E9EB"},b))]}))}))]})};a(318);!function(e){e[e.UNSELECTED=0]="UNSELECTED",e[e.ASC=1]="ASC",e[e.DESC=2]="DESC"}(zt||(zt={}));var Yt,Zt=function(e){var t=s.a.useState(e.selected?zt.ASC:zt.UNSELECTED),a=Object(Xe.a)(t,2),r=a[0],n=a[1];return s.a.useEffect((function(){e.selected?n(zt.ASC):n(zt.UNSELECTED)}),[e.selected]),Object(Ge.jsx)("th",{className:"w3s-table-header-cell"+(e.disabled?" disabled":"")+(e.className?" "+e.className:""),style:e.style?e.style:void 0,children:Object(Ge.jsxs)("div",{onClick:function(){var t=zt.UNSELECTED;t=r===zt.ASC?zt.DESC:(zt.DESC,zt.ASC),n(t),e.onClick(t===zt.ASC)},className:"d-flex row"+(e.rightAlignText?" justify-content-end pr-0":" px-3"),children:[e.children,r===zt.ASC&&Object(Ge.jsx)(jt,{text:"Sort ascending",disabled:e.disabled,children:Object(Ge.jsx)("div",{className:"select_minimal w3s-sort-asc"})}),r===zt.DESC&&Object(Ge.jsx)(jt,{text:"Sort descending",disabled:e.disabled,children:Object(Ge.jsx)("div",{className:"select_minimal w3s-sort-desc"})})]})})};!function(e){e[e.Space=1]="Space",e[e.Requests=2]="Requests",e[e.Visitors=3]="Visitors",e[e.Data=4]="Data",e[e.Files=5]="Files",e[e.Storage=6]="Storage"}(Yt||(Yt={}));var Kt=function(e,t,a){return a?e.id.toLowerCase()>t.id.toLowerCase()?1:-1:e.id.toLowerCase()<t.id.toLowerCase()?1:-1},Gt=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var r;return Object(p.a)(this,a),(r=t.call(this,e)).timerID=void 0,r.handleShowDeleteSpaceModal=function(e){r.setState({showDeleteSpaceModal:!0,spaceIdToDelete:e})},r.handleResetSpaceModal=function(e){r.setState({showResetSpaceModal:!0,spaceIdToReset:e})},r.handleCloseDeleteSpaceModal=function(){r.setState({showDeleteSpaceModal:!1,spaceIdToDelete:""})},r.handleCloseResetSpaceModal=function(){r.setState({showResetSpaceModal:!1,spaceIdToReset:""})},r.navigateToSpace=function(e){r.props.setSpacePath(e+"/"),r.props.history.push("/space/".concat(e))},r.hasDomainForSpace=function(e){return r.props.domains.filter((function(t){return t.spaceId===e})).length>0},r.clickedTableHeader=function(e,t){r.setState({sortingSelected:e,sortingAscending:t})},r.sortingFunction=function(e,t){return"DELETED"===e.state&&"DELETED"!==t.state?1:"DELETED"!==e.state&&"DELETED"===t.state?-1:"DELETED"===e.state&&"DELETED"===t.state?r.state.sortingSelected===Yt.Visitors?e.usage.web_traffic.unique_visitors===t.usage.web_traffic.unique_visitors?Kt(e,t,r.state.sortingAscending):r.state.sortingAscending?e.usage.web_traffic.unique_visitors>t.usage.web_traffic.unique_visitors?1:-1:e.usage.web_traffic.unique_visitors<t.usage.web_traffic.unique_visitors?1:-1:r.state.sortingSelected===Yt.Requests?e.usage.web_traffic.number_of_requests===t.usage.web_traffic.number_of_requests?Kt(e,t,r.state.sortingAscending):r.state.sortingAscending?e.usage.web_traffic.number_of_requests>t.usage.web_traffic.number_of_requests?1:-1:e.usage.web_traffic.number_of_requests<t.usage.web_traffic.number_of_requests?1:-1:r.state.sortingSelected===Yt.Data?e.usage.web_traffic.data_served===t.usage.web_traffic.data_served?Kt(e,t,r.state.sortingAscending):r.state.sortingAscending?e.usage.web_traffic.data_served>t.usage.web_traffic.data_served?1:-1:e.usage.web_traffic.data_served<t.usage.web_traffic.data_served?1:-1:Kt(e,t,r.state.sortingAscending):r.state.sortingSelected===Yt.Space?Kt(e,t,r.state.sortingAscending):r.state.sortingSelected===Yt.Requests?e.usage.web_traffic.number_of_requests===t.usage.web_traffic.number_of_requests?Kt(e,t,r.state.sortingAscending):r.state.sortingAscending?e.usage.web_traffic.number_of_requests>t.usage.web_traffic.number_of_requests?1:-1:e.usage.web_traffic.number_of_requests<t.usage.web_traffic.number_of_requests?1:-1:r.state.sortingSelected===Yt.Visitors?e.usage.web_traffic.unique_visitors===t.usage.web_traffic.unique_visitors?Kt(e,t,r.state.sortingAscending):r.state.sortingAscending?e.usage.web_traffic.unique_visitors>t.usage.web_traffic.unique_visitors?1:-1:e.usage.web_traffic.unique_visitors<t.usage.web_traffic.unique_visitors?1:-1:r.state.sortingSelected===Yt.Data?e.usage.web_traffic.data_served===t.usage.web_traffic.data_served?Kt(e,t,r.state.sortingAscending):r.state.sortingAscending?e.usage.web_traffic.data_served>t.usage.web_traffic.data_served?1:-1:e.usage.web_traffic.data_served<t.usage.web_traffic.data_served?1:-1:r.state.sortingSelected===Yt.Files?e.usage.storage.number_of_files_per_space===t.usage.storage.number_of_files_per_space?Kt(e,t,r.state.sortingAscending):r.state.sortingAscending?e.usage.storage.number_of_files_per_space>t.usage.storage.number_of_files_per_space?1:-1:e.usage.storage.number_of_files_per_space<t.usage.storage.number_of_files_per_space?1:-1:r.state.sortingSelected===Yt.Storage?e.usage.storage.amount===t.usage.storage.amount?Kt(e,t,r.state.sortingAscending):r.state.sortingAscending?e.usage.storage.amount>t.usage.storage.amount?1:-1:e.usage.storage.amount<t.usage.storage.amount?1:-1:0},r.state={showDeleteSpaceModal:!1,showResetSpaceModal:!1,spaceIdToDelete:"",spaceIdToReset:"",sortingSelected:Yt.Space,sortingAscending:!0},r}return Object(u.a)(a,[{key:"componentDidMount",value:function(){E.i.logDebug("Usage -> componentDidMount -> this.props: ",this.props),this.timerID=setInterval((function(){window.adngin&&window.adngin.cmd.startAuction(["spaces_01","spaces_02","spaces_03"])}),6e4)}},{key:"componentWillUnmount",value:function(){this.timerID&&clearInterval(this.timerID)}},{key:"render",value:function(){var e=this;return Object(Ge.jsxs)(Ge.Fragment,{children:[Object(Ge.jsx)(_t,{}),Object(Ge.jsx)(m.a,{children:Object(Ge.jsx)(j.a,{md:12,children:this.props.spaces.length?Object(Ge.jsx)("div",{className:"usage-table-wrapper rounded-table-wrapper",children:Object(Ge.jsxs)(g.a,{hover:!0,className:"rounded-table",children:[Object(Ge.jsx)("thead",{children:Object(Ge.jsxs)("tr",{children:[Object(Ge.jsx)(Zt,{className:"first-tablemobile",selected:this.state.sortingSelected===Yt.Space,onClick:function(t){e.clickedTableHeader(Yt.Space,t)},children:Object(Ge.jsx)("div",{className:"mr-2",children:"Space"})}),Object(Ge.jsx)(Zt,{className:"-tablemobile pr-md-0",selected:this.state.sortingSelected===Yt.Requests,onClick:function(t){e.clickedTableHeader(Yt.Requests,t)},children:Object(Ge.jsx)(jt,{text:"Requests are what happens when someone visit your space and ask for files",className:"mr-2",children:"Requests"})}),Object(Ge.jsx)(Zt,{className:"-tablemobile pr-md-0",selected:this.state.sortingSelected===Yt.Visitors,onClick:function(t){e.clickedTableHeader(Yt.Visitors,t)},children:Object(Ge.jsx)(jt,{text:"Visitors is the number of unique visitors to your space since you created it",className:"mr-2",children:"Visitors"})}),Object(Ge.jsx)(Zt,{className:"-tablemobile pr-md-0",selected:this.state.sortingSelected===Yt.Data,onClick:function(t){e.clickedTableHeader(Yt.Data,t)},children:Object(Ge.jsx)(jt,{text:"Data is the size of every character, byte and pixel downloaded by visitors to your space",className:"mr-2",children:"Data"})}),Object(Ge.jsx)(Zt,{className:"-tablemobile pr-md-0",selected:this.state.sortingSelected===Yt.Files,onClick:function(t){e.clickedTableHeader(Yt.Files,t)},children:Object(Ge.jsx)(jt,{text:"Files shows the number of files stored on this space",className:"mr-2",children:"Files"})}),Object(Ge.jsx)(Zt,{className:"-tablemobile",selected:this.state.sortingSelected===Yt.Storage,onClick:function(t){e.clickedTableHeader(Yt.Storage,t)},children:Object(Ge.jsx)(jt,{text:"Storage shows the total storage used for the files stored on this space",className:"mr-2",children:"Storage"})}),Object(Ge.jsx)("th",{})]})}),Object(Ge.jsx)("tbody",{children:this.props.spaces.length>0&&this.props.spaces.sort(this.sortingFunction).map((function(t){var a="DELETED"!==t.state&&"BANNED"!==t.state;return Object(Ge.jsxs)("tr",{className:"space-row space-state-".concat(t.state.toLowerCase()),onClick:function(r){r.stopPropagation(),a&&e.navigateToSpace(t.id)},children:[Object(Ge.jsx)("td",{children:Object(Ge.jsx)(St,{space:t,spaceState:t.state})}),Object(Ge.jsx)("td",{className:"-tablemobile",children:t.usage.web_traffic.number_of_requests}),Object(Ge.jsx)("td",{className:"-tablemobile",children:t.usage.web_traffic.unique_visitors}),Object(Ge.jsx)("td",{className:"-tablemobile",children:C(t.usage.web_traffic.data_served)}),Object(Ge.jsx)("td",{className:"-tablemobile",children:"DELETED"!==t.state&&Object(Ge.jsx)(Ge.Fragment,{children:t.usage.storage.number_of_files_per_space})}),Object(Ge.jsx)("td",{className:"-tablemobile",children:"DELETED"!==t.state&&Object(Ge.jsx)(Ge.Fragment,{children:C(t.usage.storage.amount)})}),Object(Ge.jsx)("td",{style:{textAlign:"right"},children:a&&Object(Ge.jsx)("div",{className:"action-round-btns-wrp",children:Object(Ge.jsx)(qt,{triggerElm:Object(Ge.jsx)(jt,{text:"More",children:Object(Ge.jsx)(v.a,{className:"btn-sm-round",children:Object(Ge.jsx)(Vt,{})})}),children:Object(Ge.jsxs)(Ge.Fragment,{children:[Object(Ge.jsx)(v.a,{className:"-menu-item",onClick:function(a){a.stopPropagation(),e.navigateToSpace(t.id)},children:"Show files"}),e.hasDomainForSpace(t.id)?Object(Ge.jsx)(v.a,{className:"-menu-item",onClick:function(t){t.stopPropagation(),e.props.history.push("/domains")},children:"My domains"}):Object(Ge.jsx)(v.a,{className:"-menu-item",onClick:function(a){a.stopPropagation(),e.props.history.push("/domains/start/".concat(t.id))},children:"Get a domain"}),Object(Ge.jsx)(v.a,{className:"-menu-item",onClick:function(a){a.stopPropagation(),e.handleResetSpaceModal(t.id)},children:"Reset space"}),Object(Ge.jsx)("div",{className:"-divider"}),Object(Ge.jsx)(v.a,{className:"-menu-item -red-text",onClick:function(a){a.stopPropagation(),e.handleShowDeleteSpaceModal(t.id)},children:"Delete space"})]})})})})]},t.id)}))})]})}):Object(Ge.jsx)(Pt,{})})}),Object(Ge.jsx)(Rt,{}),Object(Ge.jsx)(Qe,{show:this.state.showDeleteSpaceModal,close:this.handleCloseDeleteSpaceModal,closeWithStatus:function(){},spaceId:this.state.spaceIdToDelete}),Object(Ge.jsx)(Je,{show:this.state.showResetSpaceModal,close:this.handleCloseResetSpaceModal,closeWithStatus:this.handleCloseResetSpaceModal,space_id:this.state.spaceIdToReset})]})}}]),a}(s.a.Component),Wt=Object(O.j)(Object(_.b)((function(e){return{main_state:e.main,spaces:e.main.spaces,domains:e.domains.orders}}),(function(e){return Object(Ke.bindActionCreators)({resetFileUpload:ze,setSpacePath:Be},e)}))(Gt)),Qt=a(86),Xt=a(408),Jt=(a(319),function(e){return Object(Ge.jsx)("svg",{width:"23",height:"23",viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(Ge.jsx)("path",{d:"M23 11.5C23 14.55 21.7884 17.4751 19.6317 19.6317C17.4751 21.7884 14.55 23 11.5 23C8.45001 23 5.52494 21.7884 3.36827 19.6317C1.2116 17.4751 0 14.55 0 11.5C0 8.45001 1.2116 5.52494 3.36827 3.36827C5.52494 1.2116 8.45001 0 11.5 0C14.55 0 17.4751 1.2116 19.6317 3.36827C21.7884 5.52494 23 8.45001 23 11.5ZM17.2931 7.14437C17.1904 7.04205 17.0682 6.96149 16.9337 6.9075C16.7991 6.85351 16.6551 6.8272 16.5102 6.83015C16.3652 6.83311 16.2224 6.86526 16.0902 6.92468C15.9579 6.9841 15.8391 7.06958 15.7406 7.176L10.7482 13.5369L7.7395 10.5268C7.53512 10.3364 7.26481 10.2327 6.9855 10.2376C6.70619 10.2426 6.4397 10.3557 6.24217 10.5532C6.04464 10.7508 5.93149 11.0173 5.92656 11.2966C5.92163 11.5759 6.02531 11.8462 6.21575 12.0506L10.0194 15.8556C10.1218 15.9579 10.2439 16.0385 10.3782 16.0926C10.5124 16.1467 10.6563 16.1732 10.801 16.1705C10.9458 16.1678 11.0885 16.136 11.2207 16.077C11.3529 16.0179 11.4718 15.9329 11.5704 15.8269L17.3089 8.65375C17.5046 8.45034 17.6126 8.17833 17.61 7.89613C17.6073 7.61392 17.494 7.34402 17.2946 7.14437H17.2931Z",fill:"#04AA6D"})})}),$t=function(e){return Object(Ge.jsxs)("svg",{width:"23",height:"23",viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Ge.jsx)("path",{d:"M11.5 21.5625C8.83126 21.5625 6.27182 20.5023 4.38474 18.6153C2.49765 16.7282 1.4375 14.1687 1.4375 11.5C1.4375 8.83126 2.49765 6.27182 4.38474 4.38474C6.27182 2.49765 8.83126 1.4375 11.5 1.4375C14.1687 1.4375 16.7282 2.49765 18.6153 4.38474C20.5023 6.27182 21.5625 8.83126 21.5625 11.5C21.5625 14.1687 20.5023 16.7282 18.6153 18.6153C16.7282 20.5023 14.1687 21.5625 11.5 21.5625ZM11.5 23C14.55 23 17.4751 21.7884 19.6317 19.6317C21.7884 17.4751 23 14.55 23 11.5C23 8.45001 21.7884 5.52494 19.6317 3.36827C17.4751 1.2116 14.55 0 11.5 0C8.45001 0 5.52494 1.2116 3.36827 3.36827C1.2116 5.52494 0 8.45001 0 11.5C0 14.55 1.2116 17.4751 3.36827 19.6317C5.52494 21.7884 8.45001 23 11.5 23Z",fill:"#D9212C"}),Object(Ge.jsx)("path",{d:"M10.0654   15.8126C10.0654 15.6238 10.1026 15.4369 10.1749 15.2625C10.2471 15.0881 10.353 14.9296 10.4865 14.7961C10.6199 14.6627 10.7784 14.5568 10.9528 14.4845C11.1272 14.4123 11.3142 14.3751 11.5029 14.3751C11.6917 14.3751 11.8786 14.4123 12.053 14.4845C12.2274 14.5568 12.3859 14.6627 12.5194 14.7961C12.6529 14.9296 12.7588 15.0881 12.831 15.2625C12.9032 15.4369 12.9404 15.6238 12.9404 15.8126C12.9404 16.1939 12.789 16.5595 12.5194 16.8291C12.2498 17.0987 11.8842 17.2501 11.5029 17.2501C11.1217 17.2501 10.756 17.0987 10.4865 16.8291C10.2169 16.5595 10.0654 16.1939 10.0654 15.8126ZM10.2063 7.18042C10.1872 6.99907 10.2064 6.81571 10.2627 6.64226C10.3189 6.46881 10.4111 6.30912 10.5331 6.17358C10.6551 6.03803 10.8042 5.92964 10.9708 5.85545C11.1374 5.78126 11.3177 5.74292 11.5001 5.74292C11.6824 5.74292 11.8627 5.78126 12.0293 5.85545C12.1959 5.92964 12.345 6.03803 12.467 6.17358C12.589 6.30912 12.6812 6.46881 12.7375 6.64226C12.7937 6.81571 12.8129 6.99907 12.7938 7.18042L12.2907 12.2217C12.2738 12.4198 12.1832 12.6043 12.0368 12.7387C11.8903 12.8731 11.6988 12.9477 11.5001 12.9477C11.3013 12.9477 11.1098 12.8731 10.9634 12.7387C10.817 12.6043 10.7263 12.4198 10.7094 12.2217L10.2063 7.18042Z",fill:"#D9212C"})]})};var ea=function(){return Object(Ge.jsx)("svg",{width:"12",height:"18",viewBox:"0 0 12 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(Ge.jsx)("path",{d:"M11.3667 8.31444C11.2641 8.21212 11.1418 8.13156 11.0073 8.07757C10.8727 8.02358 10.7287 7.99727 10.5838 8.00022C10.4388 8.00318 10.296 8.03533 10.1638 8.09475C10.0315 8.15417 9.91266 8.23965 9.81423 8.34607L4.82179 14.707L1.81311 11.6969C1.60873 11.5064 1.33841 11.4028 1.05911 11.4077C0.779798 11.4126 0.513306 11.5258 0.315775 11.7233C0.118244 11.9208 0.00509603 12.1873 0.000167969 12.4666C-0.00476009 12.7459 0.0989163 13.0163 0.289356 13.2206L4.09298 17.0257C4.19545 17.128 4.31747 17.2086 4.45176 17.2627C4.58605 17.3168 4.72986 17.3433 4.87462 17.3406C5.01937 17.3379 5.1621 17.3061 5.2943 17.2471C5.42649 17.188 5.54544 17.103 5.64404 16.9969L11.3825 9.82382C11.5782 9.62041 11.6863 9.3484 11.6836 9.0662C11.6809 8.78399 11.5676 8.51409 11.3682 8.31444H11.3667Z",fill:"#04AA6D"})})};var ta=function(){var e=Object(_.c)(),t=Object(_.d)((function(e){return e.notification.notifications}));function a(e){return"error"===e.type?Object(Ge.jsx)($t,{}):e.showProgressBar&&100!==e.progressBarLevel?Object(Ge.jsx)(E.f,{size:E.f.utils.size.md,variant:E.f.utils.variants.Dark,className:"-spinner"}):Object(Ge.jsx)(Jt,{})}return Object(Ge.jsx)("div",{className:"notification-wrapper",children:function(){var e,a=t.filter((function(e){return!e.dismissed})),r=a.filter((function(e){return e.showProgressBar})),n=[],s=!1,i=Object(Qt.a)(a);try{for(i.s();!(e=i.n()).done;){var o=e.value;o.showProgressBar?s||(n.push(r),s=!0):n.push(o)}}catch(c){i.e(c)}finally{i.f()}return n}().map((function(t){var r,n,s,i;return Array.isArray(t)?(s=function(e){var t=e.filter((function(e){return e.showProgressBar&&100!==e.progressBarLevel}));if(t.length>0)return t[0];var a=e.filter((function(e){return"error"===e.type}));return a.length>0?a[0]:e[0]}(t),i=t):(s=t,i=[t]),Object(Ge.jsxs)(Xt.a,{show:!s.dismissed,onClose:function(){return e(z(s))},delay:null!==(r=s.delay)&&void 0!==r?r:5e3,autohide:!(!1===s.autohide||"error"===s.type),children:[Object(Ge.jsxs)(Xt.a.Header,{closeButton:null===(n=s.closeButton)||void 0===n||n,children:[Object(Ge.jsx)("span",{className:"-icon",children:a(s)}),Object(Ge.jsx)("span",{className:"-text",children:s.header})]}),Object(Ge.jsx)(Xt.a.Body,{children:i.map((function(e,t){return Object(Ge.jsxs)("div",{className:"single",children:[e.body,"error"!==e.type&&100!==e.progressBarLevel?Object(Ge.jsx)("div",{className:"filename",children:e.filename}):"",100===e.progressBarLevel?Object(Ge.jsx)("div",{className:"upload-success-icon",children:Object(Ge.jsx)(ea,{})}):"",(null===e||void 0===e?void 0:e.showProgressBar)&&Object(Ge.jsx)(Ft.a,{now:e.progressBarLevel,className:100===e.progressBarLevel?"progress-sucess":"",variant:100===e.progressBarLevel?"success":"info"})]},"".concat(e.id,"_").concat(t))}))})]},s.id)}))})},aa=function(){var e=Object(_.c)(),t=function(){e(Y({id:M(),dismissed:!1,type:"success",header:"Online",body:"Connectivity has been re-established!"}))},a=function(){e(Y({id:M(),dismissed:!1,type:"error",header:"You are offline",body:Object(Ge.jsxs)("span",{children:["Please check your internet connection and try again. ",Object(Ge.jsx)("br",{}),Object(Ge.jsx)("br",{}),Object(Ge.jsx)("strong",{children:"Note:"})," None of your work will be saved while you are offline."]})}))};return Object(n.useEffect)((function(){return window.addEventListener("offline",a),window.addEventListener("online",t),function(){window.removeEventListener("offline",a),window.removeEventListener("online",t)}}),[]),null},ra=function(e){var t,a,r=Object(_.c)(),s=Object(n.useState)(36e5),i=Object(Xe.a)(s,1)[0],o=Object(n.useState)(39e5),c=Object(Xe.a)(o,1)[0],l=["load","mousemove","mousedown","click","scroll","keypress"],d=function(){r(Y({id:M(),dismissed:!1,type:"info",header:"Your're about to be signed out",body:"You will automatically be signed out in 5 minutes, if you are not active."}))},p=function(){for(var e in l)window.removeEventListener(l[e],f),h();r(Y({id:M(),dismissed:!1,type:"error",header:"You're signed out",body:"Your session has expired. Please log in to continue where you left off."})),E.h.logOut();var t=E.j.getLoginUrl();t&&(window.location.href=t)},u=function(){t=setTimeout(d,i),a=setTimeout(p,c)},h=function(){t&&clearTimeout(t),a&&clearTimeout(a)},f=function(){h(),u()};return Object(n.useEffect)((function(){for(var e in l)window.addEventListener(l[e],f);return u(),function(){for(var e in l)window.removeEventListener(l[e],f),h()}}),[]),null},na={showLogin:!0,loggedIn:!1},sa=function(){return function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.h.logOut();case 2:t(ia(!1));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ia=function(e){return F("Auth::setLoggedIn",e)},oa=function(){return function(){var e=Object(d.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.h.getAccessToken();case 2:a=e.sent,E.i.logDebug("AuthReducer -> refreshLoginStatus -> token: ",a),t(ia(void 0!==a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function ca(){return function(){var e=Object(d.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.h.getAccessToken();case 2:a=e.sent,(r="undefined"!==typeof a)?t(ia(r)):L();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var la=a(122),da=a(151),pa={orders:[],products:{}},ua=Object(da.a)("Domains::setDomainOrders"),ha=Object(da.a)("Domains::setDomainProducts");function fa(){return function(){var e=Object(d.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$.post("/domains/get-user-domains");case 3:a=e.sent,E.i.logDebug("fetchDomainOrders -> req_res: ",a),r=a.data.domainNames.filter((function(e){return e.status.PAYMENT_REGISTERED})),E.i.logDebug("fetchDomainOrders -> domain_orders: ",r),t(ua(r)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),E.i.logError("fetchDomainOrders -> err: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}function ba(){return function(){var e=Object(d.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.get("".concat(E.j.getBillingUrl(),"/api/v2/tlds"));case 3:a=e.sent,E.i.logDebug("fetchDomainProducts -> req_res: ",a),r=Object.assign.apply(Object,[{}].concat(Object(P.a)(a.data.data.map((function(e){return Object(la.a)({},e.name,e)}))))),E.i.logDebug("fetchDomainProducts -> domain_products: ",r),t(ha(r)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),E.i.logError("fetchDomainProducts -> err: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}var ma,ja=a(27),ga=a(397),va=a(398),Oa=a(208),_a=(a(184),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).handleDropRejected=function(e){E.i.logDebug("handleDrop > fileRejections:",e),n.setState({dragging:!1}),e.forEach((function(e){var t;if(e.errors.length>0&&(t=e.errors[0]),t)if("file-invalid-type"===t.code)n.props.addNotification({id:M(),dismissed:!1,type:"error",header:"File upload failed.",body:"The file ".concat(Ne(e.file.name)," could not be uploaded. ").concat(e.errors[0].message),filename:e.file.name});else n.props.addNotification({id:M(),dismissed:!1,type:"error",header:"File upload failed.",body:"Unknown error",filename:e.file.name});else n.props.addNotification({id:M(),dismissed:!1,type:"error",header:"File upload failed.",body:"Unknown error",filename:e.file.name})}))},n.showCommonUploadErrorToast=function(){var e=Object(d.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E.i.logDebug("showCommonUploadErrorToast -> error_description, toast_id: ",t,a),void 0!==a?(n.props.updateNotification({id:a,type:"error",header:"Upload error",body:t}),setTimeout((function(){return n.props.dismissNotification({id:a})}),4e3)):n.props.addNotification({id:M(),dismissed:!1,type:"error",header:"Upload error",body:t});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.handleFileUpload=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,s,i,o,c,d,p,u,h,f,b,m,j,g,v,O,_,x;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E.i.logDebug("handleFileUpload -> file: ",t.file),i={"error.code":"0","error.description":"","error.context":""},n.props.setProcessingStatus(t.file,r.Active),t.file.processing_status=r.Active,t.file.path=n.props.active_path+t.file.base_name,t.file.rel_path=t.file.path.split("/").slice(1).join("/"),e.next=8,Oe(t.file,n.props.main_state);case 8:if("undefined"!==typeof(o=e.sent).data._update_main_state&&n.props.updateMainBulkState(o.data._update_main_state),"undefined"!==typeof o.data._update_space&&null!==o.data._update_space&&n.props.updateSpace(o.data._update_space),"0"===(null===(a=o.error)||void 0===a?void 0:a.code)){e.next=20;break}if(i["error.code"]=null===(c=o.error)||void 0===c?void 0:c.code,i["error.description"]=null===(d=o.error)||void 0===d?void 0:d.description,i["error.context"]=(null===(p=o.error)||void 0===p?void 0:p.context)||"generic","quota"!==i["error.context"]){e.next=18;break}return n.props.addQuotaError(o.error,t.file),e.abrupt("return",i);case 18:return n.showCommonUploadErrorToast(i["error.description"]),e.abrupt("return",i);case 20:return u=o.data.url,n.props.updateNotification({id:t.toastId,dismissed:!1,autohide:!1,closeButton:!1,type:"success",header:"Uploading file",body:"",filename:"".concat(Ne(t.file.base_name)),showProgressBar:!0,progressBarLevel:0}),e.next=24,_e(u,t.file,t.toastId,(function(e){var a=Math.round(100*e.loaded/e.total);100===a&&(a=99),n.props.updateNotification({id:t.toastId,progressBarLevel:a})}));case 24:if(h=e.sent,E.i.logDebug("file_upload_req_res: ",h),!(void 0===h||h.status<200||h.status>=300)){e.next=35;break}return i["error.code"]="SSOFUF_".concat(null===h||void 0===h?void 0:h.status),i["error.description"]=null===h||void 0===h?void 0:h.statusText,i["error.context"]="generic",f={id:M(),dismissed:!1,type:"error",header:"File could not be uploaded",body:Object(Ge.jsxs)(Ge.Fragment,{children:["Sorry, the file ",Object(Ge.jsx)("strong",{children:Ne(t.file.base_name)})," could not be uploaded. Error details: [",i["error.code"],"] ",i["error.description"],". Please contact support if the problem persists."]})},n.props.dismissNotification({id:t.toastId}),n.props.addNotification(f),n.props.setProcessingStatus(t.file,r.Error,f.body),e.abrupt("return",i);case 35:return e.next=37,xe(t.file,n.props.main_state);case 37:if("undefined"!==typeof(b=e.sent).data._update_main_state&&n.props.updateMainBulkState(b.data._update_main_state),"undefined"!==typeof b.data._update_space&&null!==b.data._update_space&&n.props.updateSpace(b.data._update_space),"0"===(null===(s=b.error)||void 0===s?void 0:s.code)){e.next=48;break}return i["error.code"]=null===(m=b.error)||void 0===m?void 0:m.code,i["error.description"]=null===(j=b.error)||void 0===j?void 0:j.description,i["error.context"]=(null===(g=b.error)||void 0===g?void 0:g.context)?null===(v=b.error)||void 0===v?void 0:v.context:"generic","quota"===i["error.context"]?("SPACE_FILE_SIZE_QUOTA_EXCEEDED"===i["error.code"]&&(i["error.context"]="quota_soft"),O=n.props.addQuotaError(b.error,t.file)):"BRIFC2"===i["error.code"]?(_={id:M(),dismissed:!1,type:"error",header:"File could not be uploaded",body:Object(Ge.jsxs)(Ge.Fragment,{children:["Sorry, the file ",Object(Ge.jsx)("strong",{children:Ne(t.file.base_name)})," could not be uploaded. This is a permanent error with code ",i["error.code"],". Please contact support."]})},O=_.body,n.props.addNotification(_)):(x={id:M(),dismissed:!1,type:"error",header:"File could not be uploaded",body:Object(Ge.jsxs)(Ge.Fragment,{children:["Sorry, the file ",Object(Ge.jsx)("strong",{children:Ne(t.file.base_name)})," could not be uploaded. Error details: [",i["error.code"],"] ",i["error.description"],". Please contact support if the problem persists."]})},O=x.body,n.props.addNotification(x)),n.props.dismissNotification({id:t.toastId}),n.props.setProcessingStatus(t.file,r.Error,O),e.abrupt("return",i);case 48:return n.props.updateNotification({id:t.toastId,header:"File uploaded",body:Object(Ge.jsxs)("div",{className:"w3s-notif-upload-success-text",children:["File ",Object(Ge.jsx)("strong",{children:Ne(t.file.base_name)})," uploaded successfully"]}),showProgressBar:!0,progressBarLevel:100,filename:t.file.base_name}),setTimeout((function(){return n.props.dismissNotification({id:t.toastId})}),4e3),me(b.data.file,n.props.space.id).path!==t.file.path&&n.props.deleteFileUploaded(t.file),e.abrupt("return",i);case 53:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleFilesUpload=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,r,s,i,o,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=!1,(r=t.map((function(e){return{toastId:M(),file:e}}))).forEach((function(e){n.props.addNotification({id:e.toastId,dismissed:!1,autohide:!1,closeButton:!1,type:"success",header:"Uploading file",body:"",filename:"".concat(Ne(e.file.base_name)),showProgressBar:!0,progressBarLevel:0})})),s=Object(Qt.a)(r),e.prev=4,s.s();case 6:if((i=s.n()).done){e.next=20;break}if(o=i.value,!a){e.next=13;break}n.props.deleteFileUploaded(o.file),n.props.dismissNotification({id:o.toastId}),e.next=18;break;case 13:return e.next=15,n.handleFileUpload(o);case 15:c=e.sent,E.i.logDebug("handleFilesUpload -> file, file_upload_response: ",o.file,c),"0"!==c["error.code"]&&"quota"===c["error.context"]&&(a=!0);case 18:e.next=6;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(4),s.e(e.t0);case 25:return e.prev=25,s.f(),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[4,22,25,28]])})));return function(t){return e.apply(this,arguments)}}(),n.handleDropAccepted=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,s,i,o,c,d,p,u,h,f,b,m,j,g;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E.i.logDebug("handleDropAccepted -> accepted_files: ",t),n.setState({dragging:!1}),"0"===(a=st(n.props.main_state,n.props.space,"file")).code){e.next=6;break}return"quota"===a.context?n.props.addQuotaError(a):n.props.addModal({id:M(),dismissed:!1,type:"error",header:Object(Ge.jsx)(Ge.Fragment,{children:"Space temporarily closed"}),body:Object(Ge.jsx)(Ge.Fragment,{children:a.description}),dismissButtonText:"Got it"}),e.abrupt("return");case 6:if(s=n.props.main_state.subscription_plan,i=n.props.main_state.quota,o=n.props.main_state.usage,t=t.map((function(e){return new File([e],e.name.replaceAll(" ","_"),{type:e.type,lastModified:e.lastModified})})),0!==(c=t.filter((function(e){var t=ve(e.name);return t?(n.props.addNotification({id:M(),dismissed:!1,type:"error",header:"Invalid file name",body:"".concat(t," (").concat(e.name,")"),filename:e.name}),!1):!(e.size/1024>i.storage.max_file_size)||(n.props.addQuotaError({code:"SPACE_FILE_SIZE_QUOTA_EXCEEDED"},he(e,n.props.space.id,!1)),!1)}))).length){e.next=13;break}return e.abrupt("return",!1);case 13:if(d=C(i.storage.amount),p=c.map((function(e){return e.size})).reduce((function(e,t){return e+t}),0),!(o.storage.amount+p/1024>i.storage.amount)){e.next=19;break}return s.can_be_upgraded?n.props.addModal({id:M(),dismissed:!1,type:"error",header:Object(Ge.jsx)(Ge.Fragment,{children:"Your storage is full"}),body:Object(Ge.jsxs)(Ge.Fragment,{children:["You have reached the ",Object(Ge.jsx)("strong",{children:d})," storage limit on the ",Object(Ge.jsx)("strong",{children:s.cname})," plan. To add more storage you can either upgrade to a bigger plan - or delete some files to free up storage."]}),learnMoreButtonText:"Learn more",upgradeButtonText:"Upgrade"}):n.props.addModal({id:M(),dismissed:!1,type:"error",header:Object(Ge.jsx)(Ge.Fragment,{children:"Your storage is full"}),body:Object(Ge.jsxs)(Ge.Fragment,{children:["You have reached the ",Object(Ge.jsx)("strong",{children:d})," storage limit on the ",Object(Ge.jsx)("strong",{children:s.cname})," plan. Delete some files to free up storage."]}),dismissButtonText:"Got it"}),e.abrupt("return");case 19:if(u=n.props.space.files,h=[],void 0!==u&&(h=u.map((function(e){return e.path}))),n.props.files_uploaded.length>0&&(f=h).push.apply(f,Object(P.a)(n.props.files_uploaded.map((function(e){return e.path})))),b=c.map((function(e){var t,a=ce()(e.name),s=a.split(".");s[s.length-1]=s[s.length-1].toLowerCase(),a=s.join("."),h.length>0&&(t=ye(a,h,n.props.active_path));var i=he(e,n.props.active_path,!0,t);return i.processing_status=r.OnHold,i.last_modified=new Date,i})),m=function(e){return e.size/1024>i.storage.max_file_size},j=b.filter((function(e){return m(e)})),g=b.filter((function(e){return!m(e)})),n.props.addFiles(g),j.length>0&&j.forEach((function(e){var t=n.props.addQuotaError({code:"SPACE_FILE_SIZE_QUOTA_EXCEEDED"},e);n.props.setProcessingStatus(e,r.Error,t)})),0!==g.length){e.next=31;break}return e.abrupt("return");case 31:n.handleFilesUpload(g);case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleDragStart=function(){n.setState({dragging:!0})},n.handleDragStop=function(){n.setState({dragging:!1})},n.state={dragging:!1,files:[]},n}return Object(u.a)(a,[{key:"validFileExtensions",get:function(){return Object.keys(de).map((function(e){return".".concat(e)}))}},{key:"render",value:function(){var e=this;return Object(Ge.jsx)(Oa.a,Object(D.a)(Object(D.a)({onDropAccepted:this.handleDropAccepted,onDropRejected:this.handleDropRejected,onDragEnter:this.handleDragStart,onDragLeave:this.handleDragStop,accept:this.validFileExtensions},this.props.innerProps),{},{children:function(t){var a,r=t.getRootProps,n=t.getInputProps;return Object(Ge.jsx)(Ge.Fragment,{children:Object(Ge.jsxs)("div",Object(D.a)(Object(D.a)({},r({className:"dropzone"})),{},{children:[!(null===(a=e.props.innerProps)||void 0===a?void 0:a.noClick)&&Object(Ge.jsx)("input",Object(D.a)({},n())),!e.props.lite&&Object(Ge.jsx)(Ge.Fragment,{children:e.state.dragging&&Object(Ge.jsx)("div",{className:"-overlay",children:Object(Ge.jsx)("div",{className:"-inner-wrapper",children:Object(Ge.jsx)("div",{className:"-btn",children:"Drop files to upload"})})})}),e.props.children]}))})}}))}}]),a}(s.a.Component)),xa=Object(_.b)((function(e){return{main_state:e.main,files_uploaded:e.main.files_uploaded}}),(function(e){return Object(Ke.bindActionCreators)({addNotification:Y,dismissNotification:z,updateNotification:q,addFiles:Ue,deleteFileUploaded:He,addModal:ot,addQuotaError:ct,updateMainBulkState:De,updateSpace:Re,setProcessingStatus:Ve},e)}))(_a);a(320);!function(e){e[e.MAX=20]="MAX",e[e.MIN=1]="MIN"}(ma||(ma={}));var ya,Ca="untitled-";!function(e){e[e.MAX=3]="MAX",e[e.ROOT=1]="ROOT"}(ya||(ya={}));var wa=function(e){return"undefined"===typeof e},Na=function(e,t,a,r,n){var s=void 0;if(r?r.patternMismatch?s="Invalid character. A-Z, a-z, 0-9, _ and - allowed.":r.tooShort||e.trim().length<ma.MIN?s="Please add at least ".concat(ma.MIN," ").concat(ma.MIN<=1?"character":"characters","."):r.tooLong?s="Please add maximum ".concat(ma.MAX," characters."):r.valid||(s="Something failed. Please try again."):r||(e.trim().length<ma.MIN?s="Please add at least ".concat(ma.MIN," ").concat(ma.MIN<=1?"character":"characters","."):e.length>ma.MAX?s="Please add maximum ".concat(ma.MAX," characters."):Sa(e)||(s="Invalid character. A-Z, a-z, 0-9, _ and - allowed.")),wa(s)){var i=t.toLowerCase().split("/"),o=a.length>0&&a.filter((function(e){return e.path.toLowerCase().includes(t.toLowerCase())&&e.path.split("/").length-1===i.length}))||[];o.length>0&&o.some((function(t){return t.name.toLowerCase()===e.toLowerCase()}))&&(wa(n)||(null===n||void 0===n?void 0:n.toLowerCase())!==e.toLowerCase())&&(s="Sorry, this folder name is already used.")}return s},Ea=/^[a-zA-Z0-9_-]*$/,Sa=function(e){return Ea.test(e)},ka=function(e){var t=Object(D.a)({},e);return delete t.expanded,delete t.level,delete t.numberOfChildren,t},Ma=function(e){return{name:e&&e.name||"",base_name:e&&(e.base_name||e.name)||"",rel_path:e&&(e.rel_path||e.name)||"",path:e&&e.path||"",space_id:e&&(e.space_id||e.path&&e.path.split("/")[0])||"",dirs:[],size:0,extension:"",mime_type:"",is_text_based:!1,is_folder:!0,expanded:!1,level:e&&(e.level||e.path&&e.path.split("/").length-2)||0,numberOfChildren:0}},La=function(e){return e.sort((function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:-1}))},Pa=function(e){var t=e.split("/");return t.shift(),""!==t[t.length-1]&&t.push(""),t.join("/")},Da=function(){var e=Object(d.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne("/files",{action:"createFolder",path:t,_out_of_quota:"undefined"!==typeof a?a.usage_status._out_of_quota:null});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Fa=function(e,t){var a=e.split("/").length,r=t.filter((function(e){return e.path.split("/").length===a+1&&e.name.includes(Ca)})),n=1,s=!1,i="";do{i="".concat(Ca).concat(n),r.some((function(e){return e.name===i}))||(s=!0),n++}while(!s&&n<=100);return i},Ta=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var r,n;return Object(p.a)(this,a),(n=t.call(this,e)).displayFileKey=function(e){return e.split("/").splice(1).join("/")},n.handleFileNameChange=function(e){var t,a=e.target.value,r=(null===(t=n.props.file)||void 0===t?void 0:t.is_folder)?Na(a,n.props.active_path,n.existingFolders,void 0,n.props.file.name):ve(a,n.existingFiles,n.props.active_path);n.setState({newFileName:a,fileNameValidationError:r,errorMessage:void 0})},n.checkFileNameInput=function(){return Boolean(void 0===n.state.fileNameValidationError)},n.handleClose=function(){n.setState({fileNameValidationError:void 0,errorMessage:void 0,validateInput:!0,loading:!1}),n.props.close()},n.handleSubmit=function(e){if(e.preventDefault(),n.props.file&&n.state.newFileName)if(n.checkFileNameInput()){n.setState({loading:!0});var t=n.props.active_path+n.state.newFileName+(n.props.file.is_folder?"/":""),a=n.props.file,r=me({Key:t,LastModified:a.last_modified?a.last_modified.toString():"",Size:a.size},n.props.spaceId);if(a.is_folder&&(r.path=t),a.path!==r.path){var s={action:"rename",src_path:a.path,dest_path:r.path,is_folder:!!a.is_folder,_out_of_quota:n.props.main_state.usage_status._out_of_quota};J.post("/files",s).then((function(e){var t;E.i.logDebug("RenameFileModal -> file rename -> req_res: ",e);var s=(null===(t=e.data)||void 0===t?void 0:t.data)||{};"undefined"!==typeof s._update_main_state&&n.props.updateMainBulkState(s._update_main_state),"undefined"!==typeof s._update_space&&null!==s._update_space&&n.props.updateSpace(s._update_space);var i=te(e);if(void 0!==i)switch(E.i.logInfo(i),i.code){case"CURRENT_PATH_MISSING":case"NEW_PATH_MISSING":n.setState({errorMessage:"File path is not valid.",loading:!1,validateInput:!1});break;case"INVALID_FILE_EXTENSION":n.setState({errorMessage:"File extension is not accepted.",loading:!1,validateInput:!1});break;default:n.setState({errorMessage:i.description,loading:!1,validateInput:!1})}else{if(s.failed_moving&&s.failed_moving.length){var o;return o=Object(Ge.jsx)(Ge.Fragment,{children:s.failed_moving.map((function(e){return Object(Ge.jsxs)(Ge.Fragment,{children:[e.error.description,Object(Ge.jsx)("br",{})]})}))}),void n.setState({errorMessage:o,loading:!1,validateInput:!1})}r.last_modified=new Date,r.is_folder?n.props.addNotification({id:M(),dismissed:!1,type:"success",header:"Folder renamed",body:Object(Ge.jsxs)(Ge.Fragment,{children:["Renamed ",Ne(a.base_name)," to ",Object(Ge.jsx)("strong",{children:r.base_name}),"."]})}):n.props.addNotification({id:M(),dismissed:!1,type:"success",header:"File renamed",body:Object(Ge.jsxs)(Ge.Fragment,{children:["Renamed ",Ne(a.base_name)," to ",Object(Ge.jsx)("strong",{children:n.state.newFileName}),"."]})}),n.setState({loading:!1,validateInput:!1}),n.props.close()}})).catch((function(e){E.i.logError(e),n.setState({loading:!1,validateInput:!1}),n.props.close()}))}else n.setState({errorMessage:"Please set a ".concat(a.is_folder?"foldername":"filename"," different from the current ").concat(a.is_folder?"foldername":"filename"),loading:!1})}else n.setState({validateInput:!0});else E.i.logError("No file to rename.")},n.state={loading:!1,newFileName:(null===(r=n.props.file)||void 0===r?void 0:r.name)||"",fileNameValidationError:void 0,validateInput:!0},n}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.file!==e.file&&this.setState({newFileName:this.props.file?this.props.file.base_name:""})}},{key:"existingFiles",get:function(){var e=this,t=this.props.spaces.filter((function(t){return t.id===e.props.spaceId}));return t&&0!==t.length?t[0].files:[]}},{key:"existingFolders",get:function(){var e=this,t=this.props.spaces.filter((function(t){return t.id===e.props.spaceId}));return t&&0!==t.length?t[0].folders:[]}},{key:"render",value:function(){var e,t;return Object(Ge.jsxs)(w.a,{show:this.props.show,onHide:this.handleClose,size:"lg",className:"rename-file-modal",animation:!1,centered:!0,children:[Object(Ge.jsx)(w.a.Header,{closeButton:!0,children:Object(Ge.jsx)(w.a.Title,{children:(null===(e=this.props.file)||void 0===e?void 0:e.is_folder)?"Rename folder":"Rename file"})}),Object(Ge.jsxs)(w.a.Body,{children:[Object(Ge.jsxs)("p",{children:["What is the new name for ",this.props.file?this.props.file.is_folder?this.props.file.name:Ne(this.props.file.base_name):"unknown","?"]}),this.state.errorMessage&&Object(Ge.jsx)(N.a,{variant:"danger",children:this.state.errorMessage}),Object(Ge.jsxs)($e.a,{onSubmit:this.handleSubmit,children:[Object(Ge.jsx)($e.a.Control,{type:"text",value:this.state.newFileName,onChange:this.handleFileNameChange,isValid:this.state.validateInput&&this.checkFileNameInput(),disabled:this.state.loading,isInvalid:this.state.validateInput&&!this.checkFileNameInput()}),this.state.validateInput&&void 0!==this.state.fileNameValidationError&&Object(Ge.jsx)($e.a.Text,{className:"rename-validation-error",children:this.state.fileNameValidationError})]})]}),Object(Ge.jsxs)(w.a.Footer,{children:[Object(Ge.jsx)(E.a,{variant:"secondary",text:"Cancel",disabled:this.state.loading,onClick:this.handleClose}),Object(Ge.jsx)(E.a,{variant:"primary",text:(null===(t=this.props.file)||void 0===t?void 0:t.is_folder)?"Rename folder":"Rename file",disabled:this.state.loading||this.state.validateInput&&!this.checkFileNameInput(),onClick:this.handleSubmit,loading:this.state.loading})]})]})}}]),a}(s.a.Component),Ia=Object(_.b)((function(e){return{main_state:e.main,spaces:e.main.spaces}}),(function(e){return Object(Ke.bindActionCreators)({addNotification:Y,updateMainBulkState:De,updateSpace:Re},e)}))(Ta),Aa=(a(321),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).inputNewFileName=void 0,n.handleClose=function(){n.inputNewFileName="",n.setState({fileNameValidationError:void 0,errorMessage:void 0,validateInput:!0,loading:!1}),n.props.close()},n.handleSubmit=function(e){e.preventDefault(),n.state.validateInput&&n.setState({loading:!0},Object(d.a)(l.a.mark((function e(){var t,a,s,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return""===n.inputNewFileName&&(n.inputNewFileName=n.props.defaultName),t=n.props.path+n.inputNewFileName+"/",e.next=4,Da(t,n.props.main_state);case 4:a=e.sent,"undefined"!==typeof(s=a.data)._update_main_state&&n.props.updateMainBulkState(s._update_main_state),"undefined"!==typeof s._update_space&&null!==s._update_space&&n.props.updateSpace(s._update_space),"0"!==a.error.code?("quota"===(null===(i=a.error)||void 0===i?void 0:i.context)?(o=ka(Ma()),n.props.addQuotaError(a.error,o)):n.props.addNotification({id:M(),dismissed:!1,type:"error",header:"Create folder error",body:"".concat(a.error.description)}),n.handleClose()):(n.props.addNotification({id:M(),dismissed:!1,type:"success",header:"Created folder",body:Object(Ge.jsxs)(Ge.Fragment,{children:["Your folder ",Object(Ge.jsx)("strong",{children:n.inputNewFileName})," was successfully created."]})}),n.props.setProcessingStatus(t,r.NewFolder),n.handleClose());case 9:case"end":return e.stop()}}),e)}))))},n.onNewFileKeyUp=function(e){var t=e.target.validity.valid,a=Na(e.target.value,n.props.path,n.props.existingFolders,e.target.validity);(t=!a)&&(e.target.validity.tooShort||0===e.target.value.length)&&(t=!1),t!==n.state.validateInput&&n.setState({validateInput:t,fileNameValidationError:a}),!t||"Enter"!==e.key&&13!==e.keyCode?n.inputNewFileName=e.target.value:n.handleSubmit(e)},n.inputNewFileName="",n.state={loading:!1,fileNameValidationError:void 0,validateInput:!0},n}return Object(u.a)(a,[{key:"render",value:function(){return Object(Ge.jsxs)(w.a,{show:this.props.show,onHide:this.handleClose,size:"lg",className:"new-folder-modal",animation:!1,centered:!0,backdrop:"static",children:[Object(Ge.jsx)(w.a.Header,{closeButton:!0,children:Object(Ge.jsx)(w.a.Title,{children:"Create folder"})}),Object(Ge.jsxs)(w.a.Body,{children:[Object(Ge.jsx)("p",{children:"What do you want to call this folder?"}),this.state.errorMessage&&Object(Ge.jsx)(N.a,{variant:"danger",children:this.state.errorMessage}),Object(Ge.jsxs)($e.a,{onSubmit:this.handleSubmit,children:[Object(Ge.jsx)($e.a.Control,{type:"text",defaultValue:this.props.defaultName,onChange:this.onNewFileKeyUp,isValid:this.state.validateInput,isInvalid:!this.state.validateInput,disabled:this.state.loading,pattern:Ea.source,minLength:ma.MIN,maxLength:ma.MAX}),!this.state.validateInput&&void 0!==this.state.fileNameValidationError&&Object(Ge.jsx)($e.a.Text,{className:"rename-validation-error",children:this.state.fileNameValidationError})]})]}),Object(Ge.jsxs)(w.a.Footer,{children:[Object(Ge.jsx)(E.a,{variant:"secondary",text:"Cancel",disabled:this.state.loading,onClick:this.handleClose}),Object(Ge.jsx)(E.a,{variant:"primary",text:"Create folder",disabled:this.state.loading||!this.state.validateInput||!!this.state.errorMessage,onClick:this.handleSubmit,loading:this.state.loading})]})]})}}]),a}(s.a.Component)),Ra=Object(_.b)((function(e){return{main_state:e.main}}),(function(e){return Object(Ke.bindActionCreators)({addNotification:Y,updateMainBulkState:De,updateSpace:Re,addQuotaError:ct,setProcessingStatus:Ve},e)}))(Aa),Ba=(a(322),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var r;return Object(p.a)(this,a),(r=t.call(this,e)).displayFileKey=function(e){return e.split("/").splice(1).join("/")},r.handleClose=function(){r.setState({loading:!1,errorMessage:void 0},(function(){r.props.close()}))},r.handleSubmit=function(e){if(e.preventDefault(),r.props.file&&r.props.file){r.setState({loading:!0});var t=r.props.file,a={action:"delete",path:t.path,is_folder:!!t.is_folder,_out_of_quota:r.props.main_state.usage_status._out_of_quota};J.post("/files",a).then((function(e){var a;E.i.logDebug("DeleteFileModal -> file deletion -> req_res: ",e);var n=(null===(a=e.data)||void 0===a?void 0:a.data)||{};"undefined"!==typeof n._update_main_state&&r.props.updateMainBulkState(n._update_main_state),"undefined"!==typeof n._update_space&&null!==n._update_space&&r.props.updateSpace(n._update_space);var s=te(e);if(void 0!==s)if(E.i.logError(s),"PATH_NOT_FOUND"===s.code)r.setState({errorMessage:"No path provided for ".concat(t.is_folder?"folder":"file","."),loading:!1});else r.setState({errorMessage:s.description,loading:!1}),E.i.logError(s);else r.props.addNotification({id:M(),dismissed:!1,type:"success",header:"".concat(t.is_folder?"Folder":"File"," deleted"),body:Object(Ge.jsxs)("span",{children:["Your ",t.is_folder?"folder":"file"," ",Object(Ge.jsx)("strong",{children:Ne(t.base_name)})," was successfully deleted."]})}),r.handleClose()})).catch((function(e){E.i.logError(e),r.handleClose()}))}else E.i.logError("No file to delete.")},r.state={loading:!1},r}return Object(u.a)(a,[{key:"render",value:function(){var e,t,a;return Object(Ge.jsxs)(w.a,{show:this.props.show,onHide:this.handleClose,size:"lg",animation:!1,className:"delete-file-modal",centered:!0,backdrop:"static",children:[Object(Ge.jsx)(w.a.Header,{closeButton:!0,children:Object(Ge.jsx)(w.a.Title,{children:(null===(e=this.props.file)||void 0===e?void 0:e.is_folder)?"Delete folder?":"Delete file?"})}),Object(Ge.jsxs)(w.a.Body,{children:[(null===(t=this.props.file)||void 0===t?void 0:t.is_folder)?Object(Ge.jsxs)("span",{children:["Please confirm that you want to permanently delete ",Object(Ge.jsx)("strong",{children:this.props.file?this.props.file.name:""})," and all the files stored in this folder?",Object(Ge.jsx)("br",{}),Object(Ge.jsx)("br",{}),"This cannot be undone."]}):Object(Ge.jsxs)("span",{children:["Are you sure that you want to delete the file ",Object(Ge.jsx)("strong",{children:this.props.file?Ne(this.props.file.rel_path,!0):""}),"?"]}),this.state.errorMessage&&Object(Ge.jsx)(N.a,{variant:"danger",children:this.state.errorMessage})]}),Object(Ge.jsxs)(w.a.Footer,{children:[Object(Ge.jsx)(E.a,{variant:"tertiary",text:"Cancel",disabled:this.state.loading,onClick:this.handleClose}),Object(Ge.jsx)(E.a,{variant:"destructive",text:(null===(a=this.props.file)||void 0===a?void 0:a.is_folder)?"Yes, delete folder":"Yes, delete file",disabled:this.state.loading,onClick:this.handleSubmit,loading:this.state.loading})]})]})}}]),a}(s.a.Component)),Ua=Object(_.b)((function(e){return{main_state:e.main}}),(function(e){return Object(Ke.bindActionCreators)({addNotification:Y,updateMainBulkState:De,updateSpace:Re},e)}))(Ba),Ha=(a(323),a(109));a(324);var Va,za=function(e){var t=e.path,a=e.folderIsSelected,r=e.spaceId,n=e.disabled,i=void 0!==n&&n,o=e.grayBackground,c=void 0!==o&&o,l=e.handleClickItem,d=s.a.useState(t),p=Object(Xe.a)(d,2),u=p[0],h=p[1];return s.a.useEffect((function(){var e=t;""===e[e.length-1]&&e.pop(),h(e)}),[t]),Object(Ge.jsx)(Ha.a,{className:"folder-breadcrumb"+(c?" gray-background":""),children:a?t.map((function(e,a){return i||a===u.length-1?Object(Ge.jsx)(Ha.a.Item,{active:!0,children:e},e+a):Object(Ge.jsx)(Ha.a.Item,{className:"w3s-black-color",onClick:function(){return function(e){for(var a="",r=0;r<=e;)a+=t[r]+"/",r+=1;l(a)}(a)},children:e},e+a)})):Object(Ge.jsx)(Ha.a.Item,{active:!0,children:r},r)})};function qa(){return qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},qa.apply(this,arguments)}function Ya(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Za(e,t){var a=e.title,r=e.titleId,s=Ya(e,["title","titleId"]);return n.createElement("svg",qa({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,Va||(Va=n.createElement("path",{d:"M19.4509 2.97969L17.0204 0.549219C16.654 0.183203 16.1743 0 15.6946 0C15.2146 0 14.7349 0.183203 14.3688 0.549219L0.549316 14.3687C-0.183105 15.1012 -0.183105 16.2883 0.549316 17.0203L2.97979 19.4508C3.3458 19.8168 3.82588 20 4.30557 20C4.78525 20 5.26533 19.8168 5.63135 19.4508L19.4505 5.63125C20.1833 4.89922 20.1833 3.71211 19.4509 2.97969ZM4.30596 18.125L1.8751 15.6945L10.6212 6.94727L13.0524 9.37852L4.30596 18.125ZM14.3782 8.05234L11.947 5.62109L15.6927 1.875H15.6946L18.1251 4.30547L14.3782 8.05234ZM16.8751 11.25L15.8337 13.3332L13.7501 14.375L15.8337 15.4168L16.8751 17.5L17.9165 15.4168L20.0001 14.375L17.9165 13.3332L16.8751 11.25ZM8.7501 3.75L9.3751 2.5L10.6251 1.875L9.3751 1.25L8.7501 0L8.1251 1.25L6.8751 1.875L8.1251 2.5L8.7501 3.75ZM3.1251 6.25L4.1665 4.1668L6.2501 3.125L4.1665 2.0832L3.1251 0L2.08369 2.0832L9.76399e-05 3.125L2.08369 4.1668L3.1251 6.25Z",fill:"#282A35"})))}var Ka,Ga=n.forwardRef(Za),Wa=(a.p,a(196));a(116),a(325);function Qa(){return Qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Qa.apply(this,arguments)}function Xa(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Ja(e,t){var a=e.title,r=e.titleId,s=Xa(e,["title","titleId"]);return n.createElement("svg",Qa({className:"mr-2 ",width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,Ka||(Ka=n.createElement("path",{d:"M7.60703 3.75L9.74102 5.88398C9.97539 6.11836 10.2934 6.25 10.625 6.25H18.125C18.4703 6.25 18.75 6.52969 18.75 6.875V15.625C18.75 15.9703 18.4703 16.25 18.125 16.25H1.875C1.52969 16.25 1.25 15.9703 1.25 15.625V4.375C1.25 4.02969 1.52969 3.75 1.875 3.75H7.60703ZM1.875 2.5C0.839453 2.5 0 3.33945 0 4.375V15.625C0 16.6605 0.839453 17.5 1.875 17.5H18.125C19.1605 17.5 20 16.6605 20 15.625V6.875C20 5.83945 19.1605 5 18.125 5H10.625L8.49102 2.86602C8.25664 2.63164 7.93867 2.5 7.60703 2.5H1.875Z",fill:"#282A35"})))}var $a,er=n.forwardRef(Ja);a.p;function tr(){return tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},tr.apply(this,arguments)}function ar(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function rr(e,t){var a=e.title,r=e.titleId,s=ar(e,["title","titleId"]);return n.createElement("svg",tr({width:19,height:15,viewBox:"0 0 19 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,$a||($a=n.createElement("path",{d:"M18.6875 2.25C18.6875 2.58584 18.5593 2.92184 18.303 3.17777L7.80298 13.6778C7.54766 13.9354 7.21133 14.0625 6.875 14.0625C6.53867 14.0625 6.20316 13.9343 5.94723 13.678L0.697227 8.42798C0.440879 8.17266 0.3125 7.83633 0.3125 7.5C0.3125 6.75023 0.925684 6.1875 1.625 6.1875C1.96084 6.1875 2.29684 6.31567 2.55277 6.57202L6.875 10.8961L16.448 1.32305C16.7023 1.06588 17.0387 0.9375 17.375 0.9375C18.0764 0.9375 18.6875 1.49941 18.6875 2.25Z",fill:"white"})))}var nr,sr,ir=n.forwardRef(rr);a.p;function or(){return or=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},or.apply(this,arguments)}function cr(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function lr(e,t){var a=e.title,r=e.titleId,s=cr(e,["title","titleId"]);return n.createElement("svg",or({fill:"none",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,nr||(nr=n.createElement("g",{clipPath:"url(#a)",fill:"#282A35",fillOpacity:.6},n.createElement("path",{d:"M14 1C14.2652 1 14.5196 1.10536 14.7071 1.29289C14.8946 1.48043 15 1.73478 15 2V14C15 14.2652 14.8946 14.5196 14.7071 14.7071C14.5196 14.8946 14.2652 15 14 15H2C1.73478 15 1.48043 14.8946 1.29289 14.7071C1.10536 14.5196 1 14.2652 1 14V2C1 1.73478 1.10536 1.48043 1.29289 1.29289C1.48043 1.10536 1.73478 1 2 1H14ZM2 0C1.46957 0 0.960859 0.210714 0.585786 0.585786C0.210714 0.960859 0 1.46957 0 2L0 14C0 14.5304 0.210714 15.0391 0.585786 15.4142C0.960859 15.7893 1.46957 16 2 16H14C14.5304 16 15.0391 15.7893 15.4142 15.4142C15.7893 15.0391 16 14.5304 16 14V2C16 1.46957 15.7893 0.960859 15.4142 0.585786C15.0391 0.210714 14.5304 0 14 0L2 0Z"}),n.createElement("path",{d:"M4 8C4 7.86739 4.05268 7.74021 4.14645 7.64645C4.24021 7.55268 4.36739 7.5 4.5 7.5H11.5C11.6326 7.5 11.7598 7.55268 11.8536 7.64645C11.9473 7.74021 12 7.86739 12 8C12 8.13261 11.9473 8.25979 11.8536 8.35355C11.7598 8.44732 11.6326 8.5 11.5 8.5H4.5C4.36739 8.5 4.24021 8.44732 4.14645 8.35355C4.05268 8.25979 4 8.13261 4 8Z"}))),sr||(sr=n.createElement("defs",null,n.createElement("clipPath",{id:"a"},n.createElement("rect",{width:16,height:16,fill:"#fff"})))))}var dr,pr,ur=n.forwardRef(lr);a.p;function hr(){return hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},hr.apply(this,arguments)}function fr(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function br(e,t){var a=e.title,r=e.titleId,s=fr(e,["title","titleId"]);return n.createElement("svg",hr({fill:"none",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,dr||(dr=n.createElement("g",{clipPath:"url(#a)",fill:"#282A35",fillOpacity:.6},n.createElement("path",{d:"M14 1C14.2652 1 14.5196 1.10536 14.7071 1.29289C14.8946 1.48043 15 1.73478 15 2V14C15 14.2652 14.8946 14.5196 14.7071 14.7071C14.5196 14.8946 14.2652 15 14 15H2C1.73478 15 1.48043 14.8946 1.29289 14.7071C1.10536 14.5196 1 14.2652 1 14V2C1 1.73478 1.10536 1.48043 1.29289 1.29289C1.48043 1.10536 1.73478 1 2 1H14ZM2 0C1.46957 0 0.960859 0.210714 0.585786 0.585786C0.210714 0.960859 0 1.46957 0 2L0 14C0 14.5304 0.210714 15.0391 0.585786 15.4142C0.960859 15.7893 1.46957 16 2 16H14C14.5304 16 15.0391 15.7893 15.4142 15.4142C15.7893 15.0391 16 14.5304 16 14V2C16 1.46957 15.7893 0.960859 15.4142 0.585786C15.0391 0.210714 14.5304 0 14 0L2 0Z"}),n.createElement("path",{d:"M8 4C8.13261 4 8.25979 4.05268 8.35355 4.14645C8.44732 4.24021 8.5 4.36739 8.5 4.5V7.5H11.5C11.6326 7.5 11.7598 7.55268 11.8536 7.64645C11.9473 7.74021 12 7.86739 12 8C12 8.13261 11.9473 8.25979 11.8536 8.35355C11.7598 8.44732 11.6326 8.5 11.5 8.5H8.5V11.5C8.5 11.6326 8.44732 11.7598 8.35355 11.8536C8.25979 11.9473 8.13261 12 8 12C7.86739 12 7.74021 11.9473 7.64645 11.8536C7.55268 11.7598 7.5 11.6326 7.5 11.5V8.5H4.5C4.36739 8.5 4.24021 8.44732 4.14645 8.35355C4.05268 8.25979 4 8.13261 4 8C4 7.86739 4.05268 7.74021 4.14645 7.64645C4.24021 7.55268 4.36739 7.5 4.5 7.5H7.5V4.5C7.5 4.36739 7.55268 4.24021 7.64645 4.14645C7.74021 4.05268 7.86739 4 8 4Z"}))),pr||(pr=n.createElement("defs",null,n.createElement("clipPath",{id:"a"},n.createElement("rect",{width:16,height:16,fill:"#fff"})))))}var mr=n.forwardRef(br);a.p;var jr=function(e){var t=s.a.useRef(e.item.name),a=s.a.useRef(""),r=s.a.useState(!0),n=Object(Xe.a)(r,2),i=n[0],o=n[1],c=s.a.useState(""),l=Object(Xe.a)(c,2),d=l[0],p=l[1];function u(a){var r=e.item;if(i){r.name=t.current,r.base_name=t.current,r.base_name_lowercased=t.current.toLowerCase();var n=r.path.split("/");n[n.length-2]=r.name,r.path=n.join("/"),r.rel_path=Pa(r.path),e.handleClickSaveNewFolder(r)}}return s.a.useEffect((function(){var t=e.active_path.split("/");if(t.length<=2)a.current=e.active_path;else{var r=t.splice(0,t.length-2);a.current=r.join("/")+"/"}}),[e.active_path]),Object(Ge.jsx)("tr",{className:"item-tree-table-row"+(e.disabled||e.loading?" disabled":""),children:Object(Ge.jsx)("td",{className:(e.selected?"selected":"")+(""!==d?" display-error":""),onClick:function(){!e.disabled&&e.handleClickRow(e.item)},children:Object(Ge.jsxs)("div",{className:"row-div",children:[e.item.level>0&&Object(Ge.jsx)("div",{className:"divider-move-row",style:function(){return{width:(t=e.item.level,24*t).toString()+"px"};var t}()}),e.item.numberOfChildren>0&&Object(Ge.jsx)(v.a,{variant:"std",className:"ml-n4 expand-folder-btn",size:"sm",disabled:e.disabled||e.loading,onClick:function(t){return e.handleClickExpand(t,e.item)},children:e.item.expanded?Object(Ge.jsx)(ur,{}):Object(Ge.jsx)(mr,{})}),e.item.level>0?Object(Ge.jsx)(er,{className:"folder-icon"}):Object(Ge.jsx)(Nt,{spaceState:"OPEN",size:18}),e.editing?Object(Ge.jsxs)(et.a,{children:[Object(Ge.jsx)(Wa.a,{id:"form-input-new-folder-name",placeholder:"Add a folder name",defaultValue:e.item.name,type:"text","aria-label":"Add a folder name",minLength:ma.MIN,maxLength:ma.MAX,required:!0,pattern:Ea.source,onKeyUp:function(r){var n=Na(r.target.value,a.current,e.existingFolders,r.target.validity),s="undefined"===typeof n;o(s),p(n||""),!s||"Enter"!==r.key&&13!==r.keyCode?t=r.target.value:u()}}),Object(Ge.jsx)(Wa.a.Feedback,{type:"invalid",tooltip:!0,className:""!==d?"display-error-feedback":"",children:d}),Object(Ge.jsx)(v.a,{variant:"primary",className:"btn-save-new-folder",disabled:!i||e.loading,onClick:u,children:Object(Ge.jsx)(ir,{})})]}):e.item.name]})})},e.item.path)};var gr,vr=function(e){return Object(Ge.jsxs)(g.a,{hover:!0,className:"".concat(e.className?e.className+" ":"","w3s-tabletree"),size:"sm",children:[!!e.headerChild&&Object(Ge.jsx)("thead",{children:e.headerChild}),Object(Ge.jsx)("tbody",{children:e.loading||0!==e.tableItems.length?e.tableItems.map((function(t){return Object(Ge.jsx)(jr,{item:t,disabled:!!e.disabled,editing:!!e.editItemPath&&e.editItemPath===t.path,selected:!!e.selectedItemPath&&e.selectedItemPath===t.path,loading:!!e.loading,existingFolders:e.tableItems,active_path:e.selectedItemPath,handleClickExpand:e.onClickExpand,handleClickRow:e.onClickRow,handleClickSaveNewFolder:e.onClickSaveNewFolder?e.onClickSaveNewFolder:function(){}},t.path)})):Object(Ge.jsx)("tr",{children:Object(Ge.jsx)("td",{children:"Looks like you don't have any items!"})},"123456")}),!!e.footerChild&&Object(Ge.jsx)("tfoot",{children:e.footerChild})]})};!function(e){e[e.NONE=0]="NONE",e[e.NO_FOLDERS=1]="NO_FOLDERS",e[e.SAME_AS_SELECTED=2]="SAME_AS_SELECTED"}(gr||(gr={}));var Or=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).allFolders=void 0,n.addNewFolder=Object(d.a)(l.a.mark((function e(){var t,a,r,s,i,o,c,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=n.state.selectedFolder||n.state.folders[0]).level<ya.MAX)){e.next=19;break}if(a=Fa(t.path,n.getChildFolders(t.path,t.level)),""===(r=t.path.split("/"))[r.length-1]&&r.pop(),s=r.join("/")+"/"+a+"/",i=Ma({name:a,path:s,rel_path:Pa(s),space_id:n.props.spaceId,level:t.level+1}),n.allFolders.push(i),t.numberOfChildren++,t.expanded){e.next=14;break}return e.next=12,n.clickExpanded(void 0,t);case 12:e.next=18;break;case 14:o=n.state.folders,c=function(e){return t.path===e.path},d=o.findIndex(c),o.splice(d+1,0,i);case 18:n.setState({folders:n.state.folders},(function(){n.setState({editing:!0,editFolder:i,tipText:n.setTipText(gr.NONE),displayTip:gr.NONE},(function(){n.selectRow(i)}))}));case 19:case"end":return e.stop()}}),e)}))),n.clickExpanded=function(e,t){return e&&e.stopPropagation(),new Promise((function(e,a){if(t.numberOfChildren>0){t.expanded=!t.expanded;var r=n.state.folders,s=r.findIndex((function(e){return t.path===e.path})),i=!1;t.expanded?r.splice.apply(r,[s+1,0].concat(Object(P.a)(La(n.getChildFolders(t.path,t.level))))):(i=n.setAllToCollapsed(t),r.splice(s+1,n.numberOfChildrenDisplayed(t,s+1))),n.setState({folders:r},(function(){i&&n.selectRow(t),e(!0)}))}else e(!1)}))},n.setAllToCollapsed=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.expanded=!1;var a=t;return n.getChildFolders(e.path,e.level).forEach((function(e){a=e.numberOfChildren>0&&e.expanded&&n.setAllToCollapsed(e,t),e.expanded=!1,t||"undefined"===typeof n.state.selectedFolder||n.state.selectedFolder.path!==e.path||(t=!0)})),t||a||!1},n.collapseAllFolders=function(){n.state.folders.filter((function(e){return 1===e.level})).forEach((function(e){e.expanded&&n.clickExpanded(void 0,e)}))},n.numberOfChildrenDisplayed=function(e,t){for(var a=0,r=t,s=n.state.folders.length;r<s&&n.state.folders[r].level>e.level;)a+=1,r+=1;return a},n.selectRow=function(e){return new Promise((function(t,a){var r;if((null===(r=n.state.selectedFolder)||void 0===r?void 0:r.path)===e.path)t(!0);else{var s=n.state.displayTip;n.state.displayTip===gr.NONE?e.path===n.props.active_path&&(s=gr.SAME_AS_SELECTED):n.state.displayTip===gr.SAME_AS_SELECTED&&(s=gr.NONE),n.setState({selectedFolder:e,tipText:n.setTipText(s),displayTip:s},(function(){t(!0)}))}}))},n.saveNewFolder=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({loading:!0},Object(d.a)(l.a.mark((function e(){var a,s,i,o,c,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){var t;return(null===(t=n.state.selectedFolder)||void 0===t?void 0:t.path)===e.path},s=n.allFolders.findIndex(a),i=t.path,e.next=5,Da(i,n.props.main_state);case 5:o=e.sent,"undefined"!==typeof(c=o.data)._update_main_state&&n.props.updateMainBulkState(c._update_main_state),"undefined"!==typeof c._update_space&&null!==c._update_space&&n.props.updateSpace(c._update_space),"0"!==o.error.code?"quota"===(null===(d=o.error)||void 0===d?void 0:d.context)?(n.props.addQuotaError(o.error,t),n.handleClose()):(n.props.addNotification({id:M(),dismissed:!1,type:"error",header:"Create folder error",body:"".concat(o.error.description)}),n.setState({loading:!1,editing:!1,editFolder:void 0,errorMessage:o.error.description})):(n.allFolders[s]=t,n.props.addNotification({id:M(),dismissed:!1,type:"success",header:"Created folder",body:Object(Ge.jsxs)(Ge.Fragment,{children:["Your folder ",Object(Ge.jsx)("strong",{children:t.name})," was successfully created."]})}),n.props.setProcessingStatus(i,r.NewFolder),n.setState({loading:!1,editing:!1,editFolder:void 0}));case 10:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleOpen=function(){return n.setState({loading:!0}),new Promise((function(e,t){var a;n.allFolders=((a=n.props.space_folders.map((function(e){return Ma(e)}))).forEach((function(e){var t=e.path.split("/");""===t[t.length-1]?e.level=e.path.split("/").length-2:e.level=e.path.split("/").length-1})),a),n.allFolders.forEach((function(e){e.numberOfChildren=n.getChildFolders(e.path,e.level).length}));var r=Ma();r.space_id=n.props.spaceId,r.path=n.props.spaceId+"/",r.rel_path="/",r.level=0,r.numberOfChildren=n.getChildFolders(r.path,r.level).length,r.name=n.props.spaceId,r.base_name=n.props.spaceId,n.allFolders.push(r),e(!0)})).then((function(){return La(n.getChildFolders("",0))})).then((function(e){n.setState({folders:e},(function(){var e="",t=n.props.active_path.split("/");return t.forEach(function(){var a=Object(d.a)(l.a.mark((function a(r,s){var i,o;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(s<t.length-2)){a.next=8;break}if(e+=r+"/",!(i=n.allFolders.find((function(t){return t.path===e})))){a.next=6;break}return a.next=6,n.clickExpanded(void 0,i);case 6:a.next=14;break;case 8:if(s!==t.length-2){a.next=14;break}if(e+=r+"/",!(o=n.allFolders.find((function(t){return t.path===e})))){a.next=14;break}return a.next=14,n.selectRow(o);case 14:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()),Promise.resolve()}))})).then(Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=gr.NONE,0!==n.space.folders.length){e.next=5;break}t=gr.NO_FOLDERS,e.next=10;break;case 5:if(n.props.active_path!==n.props.spaceId+"/"){e.next=10;break}if(!(a=n.allFolders.find((function(e){return e.path===n.props.spaceId+"/"})))){e.next=10;break}return e.next=10,n.clickExpanded(void 0,a);case 10:t===gr.NONE&&(t=gr.SAME_AS_SELECTED),n.setState({loading:!1,tipText:n.setTipText(t),displayTip:t},(function(){return Promise.resolve()}));case 12:case"end":return e.stop()}}),e)}))))},n.setTipText=function(e){var t="";switch(e){case gr.NO_FOLDERS:t=Object(Ge.jsxs)(Ge.Fragment,{children:["No folders yet? Click on ",Object(Ge.jsx)("strong",{children:"New folder"})," to create one."]});break;case gr.SAME_AS_SELECTED:t="Selected folder is where you are coming from. Try another folder.";break;default:t=""}return t},n.getChildFolders=function(e,t){if(t===ya.MAX)return[];if(""===e)return n.allFolders.filter((function(e){return e.path===n.props.spaceId+"/"}));var a=e.split("/");return n.allFolders.filter((function(e){if(e.level!==t+1)return!1;var r=e.path.split("/");if(""===a[a.length-1]&&a.pop(),""===r[r.length-1]&&r.pop(),r.length!==a.length+1)return!1;for(var n=0,s=!0;n<a.length&&s;){a[n]!==r[n]&&(s=!1),n++}return s}))},n.handleClose=function(){n.setState({editFolder:void 0,editing:!1,loading:!1,selectedFolder:void 0,folders:[],errorMessage:void 0},(function(){n.allFolders=[],n.props.close()}))},n.handleSubmit=function(e){if(e.preventDefault(),n.props.files&&0!==n.props.files.length){var t=n.props.files&&n.props.files[0];t&&n.setState({loading:!0},(function(){var e,a=(null===(e=n.state.selectedFolder)||void 0===e?void 0:e.path)||n.props.spaceId+"/",r={action:"move",src_path:t.path,dest_path:"",is_folder:!!t.is_folder};if(t.is_folder)r.dest_path=a;else{var s=t.path.split("/");r.dest_path=a+s[s.length-1]}J.post("/files",r).then((function(e){var a;E.i.logDebug("MoveFileModal -> handleSubmit -> req_res: ",e);var r=(null===(a=e.data)||void 0===a?void 0:a.data)||{};"undefined"!==typeof r._update_main_state&&n.props.updateMainBulkState(r._update_main_state),"undefined"!==typeof r._update_space&&null!==r._update_space&&n.props.updateSpace(r._update_space);var s=te(e);if(void 0!==s){E.i.logError(s);var i="";switch(s.code){case"PATH_NOT_FOUND":i="No path provided for ".concat(t.is_folder?"folder":"file",".");break;case"BRAFLWTNAE":i=Object(Ge.jsxs)(Ge.Fragment,{children:["The file ",Object(Ge.jsx)("strong",{children:t.base_name})," already exist in this location.",Object(Ge.jsx)("br",{}),Object(Ge.jsx)("br",{}),"You need to rename one of them before you can move it to this location."]});break;default:i=s.description||"Unknown error."}n.props.addNotification({id:M(),dismissed:!1,type:"error",header:"Move error",body:i}),n.handleClose()}else{var o,c;n.props.addNotification({id:M(),dismissed:!1,type:"success",header:"Move",body:Object(Ge.jsxs)(Ge.Fragment,{children:["Moved ",n.props.files&&n.props.files.length?n.props.files.length:0," ",n.props.files&&(null===(o=n.props.files)||void 0===o?void 0:o.length)<=1?"file":"files"," to the folder ",Object(Ge.jsx)("strong",{children:null===(c=n.state.selectedFolder)||void 0===c?void 0:c.base_name}),"."]})}),n.handleClose()}})).catch((function(e){E.i.logError(e),n.handleClose()}))}))}else E.i.logError("No item to move.")},n.onClickBreadcrumbItem=function(e){var t=n.state.folders.find((function(t){return t.path===e}))||n.state.selectedFolder||Ma({path:n.props.spaceId,space_id:n.props.spaceId});n.selectRow(t).then((function(){"undefined"===typeof n.state.selectedFolder?n.collapseAllFolders():n.clickExpanded(void 0,t)}))},n.state={loading:!1,editing:!1,editFolder:void 0,folders:[],selectedFolder:void 0,displayTip:gr.NONE,tipText:""},n.allFolders=[],n}return Object(u.a)(a,[{key:"space",get:function(){var e=this;return this.props.spaces.filter((function(t){return t.id===e.props.spaceId}))[0]}},{key:"headerObject",get:function(){return Object(Ge.jsx)("tr",{children:Object(Ge.jsx)("th",{className:"breadcrumb-header",children:Object(Ge.jsx)(za,{folderIsSelected:!("undefined"===typeof this.state.selectedFolder),spaceId:this.props.spaceId,disabled:this.state.editing||this.state.loading,grayBackground:!0,path:"undefined"===typeof this.state.selectedFolder?[]:this.state.selectedFolder.path.split("/"),handleClickItem:this.onClickBreadcrumbItem})})})}},{key:"footerObject",get:function(){return Object(Ge.jsx)("tr",{children:Object(Ge.jsxs)("td",{children:[Object(Ge.jsx)(Ga,{className:"mr-2 mb-2"})," ",Object(Ge.jsx)("strong",{children:" Tip: "}),this.state.tipText]})})}},{key:"render",value:function(){var e,t;return Object(Ge.jsxs)(w.a,{show:this.props.show,onHide:this.handleClose,onShow:this.handleOpen,size:"lg",animation:!1,className:"move-file-modal",centered:!0,autoFocus:!0,scrollable:!0,backdrop:"static",children:[Object(Ge.jsx)(w.a.Header,{closeButton:!0,children:Object(Ge.jsxs)(w.a.Title,{children:["Move ",this.props.files&&this.props.files.length||0," item to folder"]})}),Object(Ge.jsxs)(w.a.Body,{children:[this.state.errorMessage&&Object(Ge.jsx)(N.a,{variant:"danger",children:this.state.errorMessage}),!this.state.errorMessage&&Object(Ge.jsx)("div",{className:"rounded-table-wrapper ",children:Object(Ge.jsx)(vr,{className:"rounded-table",headerChild:this.headerObject,loading:this.state.loading,editItemPath:null===(e=this.state.editFolder)||void 0===e?void 0:e.path,selectedItemPath:(null===(t=this.state.selectedFolder)||void 0===t?void 0:t.path)||this.props.spaceId+"/",disabled:this.state.editing,tableItems:this.state.folders,onClickExpand:this.clickExpanded,onClickRow:this.selectRow,onClickSaveNewFolder:this.saveNewFolder})}),this.state.displayTip!==gr.NONE&&Object(Ge.jsxs)("div",{className:"flex-row mt-3 pl-3",children:[Object(Ge.jsx)(Ga,{className:"mr-2 mb-2"})," ",Object(Ge.jsx)("strong",{children:" Tip: "}),this.state.tipText]})]}),Object(Ge.jsxs)(w.a.Footer,{className:"flex-row",children:[Object(Ge.jsx)("div",{className:"flex-md-fill justify-content-start new-folder-btn",children:Object(Ge.jsx)(E.a,{variant:"noframe",text:"+ New folder",disabled:this.state.editing||this.state.loading||!("undefined"===typeof this.state.selectedFolder)&&this.state.selectedFolder.level===ya.MAX,onClick:this.addNewFolder})}),Object(Ge.jsx)("div",{className:"flex-shrink",children:Object(Ge.jsx)(E.a,{variant:"tertiary",text:"Cancel",disabled:this.state.loading,onClick:this.handleClose})}),Object(Ge.jsx)("div",{className:"flex-shrink",children:Object(Ge.jsx)(E.a,{variant:"primary",text:this.props.files&&1===this.props.files.length?"Move item":"Move items",disabled:this.state.editing||this.state.loading||this.props.active_path===(this.state.selectedFolder?this.state.selectedFolder.path:this.props.spaceId+"/"),onClick:this.handleSubmit,loading:this.state.loading})})]})]})}}]),a}(s.a.Component),_r=Object(_.b)((function(e){return{spaces:e.main.spaces,main_state:e.main}}),(function(e){return Object(Ke.bindActionCreators)({addNotification:Y,updateMainBulkState:De,updateSpace:Re,addQuotaError:ct,setProcessingStatus:Ve},e)}))(Or),xr=(a(147),a(326),E.f.utils.size);var yr,Cr=function(e){var t=e.text,a=void 0===t?"Loading...":t,r=e.text_placement,n=void 0===r?"top":r,s=e.position,i=void 0===s?"relative":s,o=e.top_displacement,c=void 0===o?"-10%":o,l=e.size,d=void 0===l?xr.lg:l;return Object(Ge.jsx)("div",{className:"loading-box",style:{position:i},children:Object(Ge.jsx)("div",{className:"-inner-wrp",children:Object(Ge.jsxs)("div",{className:"-inner-wrp",style:{top:c},children:["top"===n&&Object(Ge.jsx)("div",{className:"-title",children:a}),Object(Ge.jsx)(E.f,{className:"mx-auto mt-4",size:d}),"bottom"===n&&Object(Ge.jsx)("div",{className:"-title",children:a})]})})})},wr=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var r;return Object(p.a)(this,a),(r=t.call(this,e)).fetchImagePublicUrl=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce(r.props.file,r.props.main_state);case 2:if(t=e.sent,E.i.logDebug("ImagePreviewModal -> FileUtil.getSignedFilePreviewUrlResponse -> file_signed_url_req_res: ",t),"undefined"!==typeof(a=t.data)._update_main_state&&r.props.updateMainBulkState(a._update_main_state),"undefined"!==typeof a._update_space&&null!==a._update_space&&r.props.updateSpace(a._update_space),"0"===t.error.code){e.next=11;break}return r.props.addNotification({id:M(),dismissed:!1,type:"error",header:"File processing error",body:"".concat(t.error.description)}),r.props.close(),e.abrupt("return");case 11:r.setState({file_public_url:t.data.url});case 12:case"end":return e.stop()}}),e)}))),r.state={loading:!0,image_loaded:!1,file_public_url:""},r}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.fetchImagePublicUrl()}},{key:"render",value:function(){var e=this;return Object(Ge.jsxs)(w.a,{show:this.props.show,onHide:this.props.close,size:"lg",animation:!1,centered:!0,children:[Object(Ge.jsx)(w.a.Header,{closeButton:!0,children:Object(Ge.jsx)(w.a.Title,{children:this.props.file?Ne(this.props.file.base_name):""})}),Object(Ge.jsxs)(w.a.Body,{style:{textAlign:"center"},children:[this.state.loading&&Object(Ge.jsx)(Cr,{}),this.state.file_public_url&&Object(Ge.jsx)("div",{style:{display:this.state.image_loaded?"block":"none",position:this.state.image_loaded?"relative":"absolute"},children:Object(Ge.jsx)("img",{src:this.props.file?this.state.file_public_url:"",alt:this.props.file?Ne(this.props.file.base_name):"",style:{maxWidth:"100%",maxHeight:"100%"},onLoad:function(){return e.setState({loading:!1,image_loaded:!0})}})})]}),Object(Ge.jsx)(w.a.Footer,{children:Object(Ge.jsx)(v.a,{variant:"secondary",onClick:this.props.close,children:"Close"})})]})}}]),a}(s.a.Component),Nr=Object(_.b)((function(e){return{main_state:e.main}}),(function(e){return Object(Ke.bindActionCreators)({addNotification:Y,updateMainBulkState:De,updateSpace:Re},e)}))(wr),Er=a(119),Sr=a(396),kr=a(394),Mr=a(395),Lr=a(199);function Pr(){return Pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Pr.apply(this,arguments)}function Dr(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Fr(e,t){var a=e.title,r=e.titleId,s=Dr(e,["title","titleId"]);return n.createElement("svg",Pr({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,yr||(yr=n.createElement("path",{d:"M13.4864 1.53836L12.4607 0.512695C12.1192 0.170898 11.6713 0 11.2234 0C10.7755 0 10.3276 0.170898 9.98581 0.512422L0.350418 10.1478L0.00315229 13.271C-0.0405977 13.6642 0.269207 14 0.653934 14C0.67827 14 0.702605 13.9986 0.727488 13.9959L3.8485 13.6511L13.4866 4.01297C14.1699 3.32965 14.1699 2.22168 13.4864 1.53836ZM3.44682 12.8155L0.903035 13.0974L1.18632 10.5498L8.40206 3.33402L10.6653 5.59727L3.44682 12.8155ZM12.8678 3.39445L11.2838 4.97848L9.02057 2.71523L10.6046 1.13121C10.7698 0.966055 10.9896 0.875 11.2234 0.875C11.4572 0.875 11.6767 0.966055 11.8422 1.13121L12.8678 2.15687C13.2088 2.49812 13.2088 3.0532 12.8678 3.39445Z",fill:"#282A35"})))}var Tr,Ir=n.forwardRef(Fr),Ar=(a.p,function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var r;return Object(p.a)(this,a),(r=t.call(this,e)).state={copied:!1,turnOffCopiedCallback:void 0},r}return Object(u.a)(a,[{key:"externalLink",get:function(){return je(this.props.file,!1,this.props.customDomain)}},{key:"render",value:function(){var e=this;return Object(Ge.jsxs)("div",{className:(this.props.className?this.props.className+" ":"")+"action-round-btns-wrp",children:[!this.props.file.is_folder&&(this.props.file.is_text_based?Object(Ge.jsx)(jt,{text:"Edit",disabled:this.props.editProcessing||this.props.disabled,children:Object(Ge.jsx)(v.a,{className:"btn-sm-round",disabled:this.props.editProcessing||this.props.disabled,onClick:function(t){return e.props.handleShowEditModal(t,e.props.file)},children:Object(Ge.jsx)(Ir,{})})}):Object(Ge.jsx)(jt,{text:"Preview image",disabled:this.props.disabled,children:Object(Ge.jsx)(v.a,{className:"btn-sm-round",disabled:this.props.disabled,onClick:function(){return e.props.handleShowImagePreviewModal(e.props.file)},children:Object(Ge.jsx)(kr.a,{})})})),!this.props.file.is_folder&&Object(Ge.jsx)(jt,{text:this.state.copied?"Copied!":"Copy full path",disabled:this.props.disabled,children:Object(Ge.jsx)(Lr.CopyToClipboard,{text:this.externalLink,onCopy:function(){clearTimeout(e.state.turnOffCopiedCallback),e.setState({copied:!0,turnOffCopiedCallback:setTimeout((function(){e.setState({copied:!1,turnOffCopiedCallback:void 0})}),1e3)})},children:Object(Ge.jsx)(v.a,{className:"btn-sm-round",disabled:this.props.disabled,children:Object(Ge.jsx)(Mr.a,{})})})}),Object(Ge.jsx)(qt,{triggerElm:Object(Ge.jsx)(jt,{text:"More",disabled:this.props.disabled,children:Object(Ge.jsx)(v.a,{className:"btn-sm-round",disabled:this.props.disabled,children:Object(Ge.jsx)(Vt,{})})}),disabled:this.props.disabled,children:Object(Ge.jsxs)(Ge.Fragment,{children:[!this.props.file.is_folder&&(this.props.file.is_text_based?Object(Ge.jsx)(v.a,{className:"-menu-item",onClick:function(t){t.preventDefault(),e.props.handleShowEditModal(t,e.props.file)},disabled:this.props.disabled,children:"Edit"}):Object(Ge.jsx)(v.a,{className:"-menu-item",onClick:function(t){t.preventDefault(),e.props.handleShowImagePreviewModal(e.props.file)},disabled:this.props.disabled,children:"Preview image"})),!this.props.file.is_folder&&Object(Ge.jsx)(v.a,{className:"-menu-item",href:this.externalLink,target:"_blank",disabled:this.props.disabled,children:"Open preview"}),Object(Ge.jsx)(v.a,{className:"-menu-item",onClick:function(t){t.stopPropagation(),t.preventDefault(),e.props.handleShowRenameModal(e.props.file)},disabled:this.props.disabled,children:"Rename"}),!this.props.file.is_folder&&Object(Ge.jsx)(v.a,{className:"-menu-item",onClick:function(t){t.preventDefault(),e.props.handleShowMoveModal(e.props.file)},children:"Move to folder"}),Object(Ge.jsx)("div",{className:"-divider"}),Object(Ge.jsx)(v.a,{className:"-menu-item -red-text",onClick:function(t){t.stopPropagation(),t.preventDefault(),e.props.handleShowDeleteModal(e.props.file)},disabled:this.props.disabled,children:this.props.file.is_folder?"Delete folder":"Delete"})]})})]})}}]),a}(s.a.Component)),Rr=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).displayNameTooltip=void 0,n.validFileName=void 0,n.timeoutId=void 0,n.handleClickFolder=function(e){e.preventDefault(),e.stopPropagation(),n.props.editProcessing||n.action_is_disabled||n.props.handleEnterFolder(n.props.file)},n.handleCloseError=function(){n.props.deleteFileUploaded(n.props.file)},n.state={displaySuccess:!1,displayAction:"undefined"===typeof n.props.processing_status,displayError:!(n.props.processing_status!==r.Error)},n.transitionEndUploaded=n.transitionEndUploaded.bind(Object(Er.a)(n)),n.validFileName=Ne(n.props.file.base_name),n.displayNameTooltip=n.validFileName!==n.props.file.base_name,n.timeoutId=void 0,n}return Object(u.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.file&&this.props.file.base_name!==e.file.base_name&&(this.validFileName=Ne(e.file.base_name),this.displayNameTooltip=this.validFileName!==e.file.base_name),!0}},{key:"componentWillUnmount",value:function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0),this.props.file.processing_status&&!this.props.file.processing&&this.props.setProcessingStatus(this.props.file,void 0)}},{key:"componentDidUpdate",value:function(e,t,a){if(this.props.processing_status!==e.processing_status)switch(this.props.processing_status){case r.NewFolder:case r.Uploaded:this.setState({displaySuccess:!0,displayError:!1,displayAction:!1});break;case r.Error:this.setState({displayError:!0,displaySuccess:!1,displayAction:!1});break;default:"undefined"===typeof this.props.processing_status&&this.setState({displayError:!1,displaySuccess:!1,displayAction:!0})}}},{key:"transitionEndUploaded",value:function(){var e=this;this.state.displaySuccess&&(this.timeoutId=setTimeout((function(){e.timeoutId=void 0,e.setState({displaySuccess:!1}),e.props.setProcessingStatus(e.props.file,void 0)}),this.props.file.is_folder?2500:4e3))}},{key:"isIndex",get:function(){return"index.html"===this.props.file.base_name_lowercased}},{key:"externalLink",get:function(){return je(this.props.file,!0,this.props.customDomain)}},{key:"action_is_disabled",get:function(){return"DELETED"===this.props.space.state||"BANNED"===this.props.space.state}},{key:"render",value:function(){var e=this;return this.props.file.processing?Object(Ge.jsxs)("tr",{children:[Object(Ge.jsx)("td",{children:this.displayNameTooltip?Object(Ge.jsx)("div",{className:"w3s-disabled-color cursor-default -overflow-text",children:Object(Ge.jsx)(jt,{text:this.props.file.base_name,fileName:!0,children:this.validFileName})}):Object(Ge.jsx)("div",{className:"w3s-disabled-color cursor-default -overflow-text",children:this.validFileName})}),Object(Ge.jsx)("td",{className:"-tablemobile w3s-text-align-right cursor-default w3s-disabled-color",children:y(this.props.file.size)}),Object(Ge.jsx)("td",{className:"-tablemobile w3s-text-align-right cursor-default w3s-disabled-color",children:this.props.file.last_modified&&Object(Ge.jsx)(jt,{text:S(this.props.file.last_modified),children:Ct(this.props.file.last_modified)})}),this.props.processing_status===r.Error&&Object(Ge.jsx)("td",{children:Object(Ge.jsxs)("div",{className:(this.state.displayError?"-action-in-visible ":"")+"d-flex justify-content-end align-items-center w3s-disabled-color -action-in",children:[Object(Ge.jsx)(jt,{text:this.props.file.processing_status_error,children:Object(Ge.jsx)($t,{})}),Object(Ge.jsx)(jt,{text:"Close item",children:Object(Ge.jsx)("button",{className:"ml-3",children:Object(Ge.jsx)("span",{className:"close pr-2",onClick:this.handleCloseError,children:"x"})})})]})}),this.props.processing_status!==r.Error&&Object(Ge.jsx)("td",{children:Object(Ge.jsxs)("div",{className:"pr-1 w3s-disabled-color d-flex align-items-center justify-content-end",children:[Object(Ge.jsx)("span",{className:"mr-2",children:"Uploading..."}),Object(Ge.jsx)(E.f,{size:E.f.utils.size.md})]})})]}):this.props.file.is_folder?Object(Ge.jsxs)("tr",{className:"folder-row"+(this.props.editProcessing||this.action_is_disabled?" disabled":""),children:[Object(Ge.jsx)("td",{onClick:this.handleClickFolder,children:Object(Ge.jsxs)(v.a,{variant:"std",className:"btn-link btn-inline folder-name-table-cell w3s-black-color -overflow-text",onClick:this.handleClickFolder,disabled:this.props.editProcessing||this.action_is_disabled,children:[Object(Ge.jsx)(er,{}),this.props.file.name]})}),Object(Ge.jsx)("td",{className:"-tablemobile w3s-text-align-right",onClick:this.handleClickFolder,children:"-"}),Object(Ge.jsx)("td",{className:"-tablemobile w3s-text-align-right",onClick:this.handleClickFolder,children:"-"}),this.props.processing_status===r.NewFolder?Object(Ge.jsx)("td",{className:(this.state.displaySuccess?"-action-in-visible ":"")+"w3s-text-align-right -action-in",onClick:this.handleClickFolder,onTransitionEnd:this.transitionEndUploaded,children:Object(Ge.jsx)(Jt,{})}):Object(Ge.jsx)("td",{className:"w3s-text-align-right",onClick:this.handleClickFolder,children:Object(Ge.jsx)(Ar,Object(D.a)({className:"-action-in "+(this.state.displayAction?"-action-in-visible":""),disabled:this.action_is_disabled},this.props))})]}):Object(Ge.jsxs)("tr",{children:[Object(Ge.jsxs)("td",{children:[this.props.file.is_text_based||this.action_is_disabled?this.displayNameTooltip?Object(Ge.jsx)(jt,{text:this.props.file.base_name,fileName:!0,children:Object(Ge.jsx)(v.a,{variant:"std",className:"btn-link btn-inline w3s-black-color -overflow-text",onClick:function(t){return e.props.handleShowEditModal(t,e.props.file)},disabled:this.props.editProcessing||this.action_is_disabled,children:this.validFileName})}):Object(Ge.jsx)(v.a,{variant:"std",className:"btn-link btn-inline w3s-black-color -overflow-text",onClick:function(t){return e.props.handleShowEditModal(t,e.props.file)},disabled:this.props.editProcessing||this.action_is_disabled,children:this.validFileName}):this.displayNameTooltip?Object(Ge.jsx)(jt,{text:this.props.file.base_name,fileName:!0,children:Object(Ge.jsx)("a",{className:"w3s-black-color -overflow-text",href:this.externalLink,target:"_blank",rel:"noopener noreferrer",children:this.validFileName})}):Object(Ge.jsx)("a",{className:"w3s-black-color -overflow-text",href:this.externalLink,target:"_blank",rel:"noopener noreferrer",children:this.validFileName}),this.isIndex&&Object(Ge.jsx)(jt,{text:"This will be used as the home page for visitors to your space",disabled:this.action_is_disabled,children:Object(Ge.jsx)(Sr.a,{className:"index-star"})})]}),Object(Ge.jsx)("td",{className:"-tablemobile cursor-default w3s-text-align-right",children:y(this.props.file.size)}),Object(Ge.jsx)("td",{className:"-tablemobile cursor-default w3s-text-align-right",children:this.props.file.last_modified?Object(Ge.jsx)(jt,{text:S(this.props.file.last_modified),disabled:this.action_is_disabled,children:Ct(this.props.file.last_modified)}):"-"}),this.props.processing_status&&this.props.processing_status===r.Uploaded&&Object(Ge.jsx)("td",{children:Object(Ge.jsxs)("div",{className:(this.state.displaySuccess?"-action-in-visible ":"")+"d-flex align-items-center justify-content-end pr-2 -action-in",onTransitionEnd:this.transitionEndUploaded,children:[Object(Ge.jsx)("span",{className:"mr-2",children:"Uploaded"}),Object(Ge.jsx)(Jt,{})]})}),(!this.props.processing_status||this.props.processing_status!==r.Uploaded)&&Object(Ge.jsx)("td",{className:"w3s-text-align-right",children:Object(Ge.jsx)(Ar,Object(D.a)({className:"-action-in "+(this.state.displayAction?"-action-in-visible":""),disabled:this.action_is_disabled},this.props))})]})}}]),a}(s.a.Component),Br=Object(_.b)((function(e){return{}}),(function(e){return Object(Ke.bindActionCreators)({deleteFileUploaded:He,setProcessingStatus:Ve},e)}))(Rr);function Ur(){return Ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ur.apply(this,arguments)}function Hr(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Vr(e,t){var a=e.title,r=e.titleId,s=Hr(e,["title","titleId"]);return n.createElement("svg",Ur({width:14,height:18,viewBox:"0 0 14 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,Tr||(Tr=n.createElement("path",{d:"M13.0043 3.44138L10.0547 0.491774C9.73881 0.17513 9.31015 -0.00316254 8.86289 -0.00392914H1.6875C1.2398 -0.00244209 0.810905 0.176307 0.494658 0.493213C0.178412 0.810118 0.000555304 1.23938 0 1.68709L0 16.3121C0 16.7596 0.17779 17.1889 0.494257 17.5053C0.810725 17.8218 1.23995 17.9996 1.6875 17.9996H11.8125C12.2601 17.9996 12.6893 17.8218 13.0057 17.5053C13.3222 17.1889 13.5 16.7596 13.5 16.3121V4.6367C13.4993 4.1884 13.321 3.75862 13.0043 3.44138ZM12.2098 4.23943C12.2819 4.31094 12.333 4.40095 12.3574 4.49959H9V1.14216C9.09864 1.16655 9.18865 1.21764 9.26016 1.28982L12.2098 4.23943ZM11.8125 16.8746H1.6875C1.53832 16.8746 1.39524 16.8153 1.28975 16.7098C1.18426 16.6043 1.125 16.4613 1.125 16.3121V1.68709C1.125 1.5379 1.18426 1.39483 1.28975 1.28934C1.39524 1.18385 1.53832 1.12459 1.6875 1.12459H7.875V4.78084C7.87472 4.89172 7.89636 5.00156 7.93866 5.10406C7.98096 5.20655 8.0431 5.29967 8.12151 5.37808C8.19991 5.45648 8.29304 5.51862 8.39553 5.56093C8.49803 5.60323 8.60787 5.62487 8.71875 5.62459H12.375V16.3121C12.375 16.4613 12.3157 16.6043 12.2102 16.7098C12.1048 16.8153 11.9617 16.8746 11.8125 16.8746ZM10.125 10.5465V10.8277C10.125 10.9396 10.0806 11.0469 10.0014 11.126C9.92232 11.2051 9.81501 11.2496 9.70312 11.2496H7.3125V13.6402C7.3125 13.7521 7.26805 13.8594 7.18894 13.9385C7.10982 14.0176 7.00251 14.0621 6.89062 14.0621H6.60938C6.49749 14.0621 6.39018 14.0176 6.31106 13.9385C6.23195 13.8594 6.1875 13.7521 6.1875 13.6402V11.2496H3.79688C3.68499 11.2496 3.57768 11.2051 3.49856 11.126C3.41945 11.0469 3.375 10.9396 3.375 10.8277V10.5465C3.375 10.4346 3.41945 10.3273 3.49856 10.2482C3.57768 10.169 3.68499 10.1246 3.79688 10.1246H6.1875V7.73396C6.1875 7.62207 6.23195 7.51477 6.31106 7.43565C6.39018 7.35653 6.49749 7.31209 6.60938 7.31209H6.89062C7.00251 7.31209 7.10982 7.35653 7.18894 7.43565C7.26805 7.51477 7.3125 7.62207 7.3125 7.73396V10.1246H9.70312C9.81501 10.1246 9.92232 10.169 10.0014 10.2482C10.0806 10.3273 10.125 10.4346 10.125 10.5465Z",fill:"#282A35"})))}var zr,qr=n.forwardRef(Vr),Yr=(a.p,function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).getEmptyFile=function(e){var t="index.html",a=e+("/"===e.charAt(e.length-1)?"":"/");if(void 0===n.props.space.files)return fe("".concat(a).concat(t));if(!n.props.space.files.some((function(e){return e.base_name_lowercased===t})))return fe("".concat(a).concat(t));for(var r=1;r<100;r++)if(t="new-file-".concat(r,".html"),!n.props.space.files.some((function(e){return e.path===a+t})))return fe("".concat(a).concat(t));return fe("".concat(a).concat(t))},n.handleClick=function(e){e.preventDefault(),n.state.loading||n.setState({loading:!0},(function(){var e=st(n.props.main_state,n.props.space,"file");if("0"!==e.code)return"quota"===e.context?n.props.addQuotaError(e):n.props.addModal({id:M(),dismissed:!1,type:"error",header:Object(Ge.jsx)(Ge.Fragment,{children:"Space temporarily closed"}),body:Object(Ge.jsx)(Ge.Fragment,{children:e.description}),dismissButtonText:"Got it"}),void n.setState({loading:!1});n.createEmptyFile()}))},n.createEmptyFile=Object(d.a)(l.a.mark((function e(){var t,a,s,i,o,c,d,p,u,h,f,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=n.getEmptyFile(n.props.active_path)).processing=!0,n.props.addFiles([s]),e.next=5,Oe(s,n.props.main_state);case 5:if("undefined"!==typeof(i=e.sent).data._update_main_state&&n.props.updateMainBulkState(i.data._update_main_state),"undefined"!==typeof i.data._update_space&&null!==i.data._update_space&&n.props.updateSpace(i.data._update_space),"0"===(null===(t=i.error)||void 0===t?void 0:t.code)){e.next=13;break}return"quota"===(null===(o=i.error)||void 0===o?void 0:o.context)?c=n.props.addQuotaError(i.error,s):(n.props.addNotification({id:M(),dismissed:!1,type:"error",header:"Upload error",body:null===(d=i.error)||void 0===d?void 0:d.description}),c=null===(p=i.error)||void 0===p?void 0:p.description),n.props.setProcessingStatus(s,r.Error,c),n.setState({loading:!1}),e.abrupt("return");case 13:return e.next=15,_e(i.data.url,s);case 15:return e.next=17,xe(s,n.props.main_state);case 17:if("undefined"!==typeof(u=e.sent).data._update_main_state&&n.props.updateMainBulkState(u.data._update_main_state),"undefined"!==typeof u.data._update_space&&null!==u.data._update_space&&(u.data._update_space.files=u.data._update_space.files.map((function(e){return e.path===u.data.file.Key&&(e.last_modified=new Date(u.data.file.LastModified),e.processing_status=r.Uploaded),e})),n.props.updateSpace(u.data._update_space)),"0"===(null===(a=u.error)||void 0===a?void 0:a.code)){e.next=25;break}return"quota"===(null===(h=u.error)||void 0===h?void 0:h.context)?n.props.addQuotaError(u.error,s):n.props.addNotification({id:M(),dismissed:!1,type:"error",header:"Upload error",body:null===(b=u.error)||void 0===b?void 0:b.description}),n.props.setProcessingStatus(s,r.Error,null===(f=u.error)||void 0===f?void 0:f.description),n.setState({loading:!1}),e.abrupt("return");case 25:s.processing=!1,n.setState({loading:!1});case 27:case"end":return e.stop()}}),e)}))),n.state={loading:!1},n}return Object(u.a)(a,[{key:"render",value:function(){return Object(Ge.jsx)(jt,{text:"Create an empty text file",disabled:this.state.loading||this.props.main_state.loading.includes("fetchFiles"),children:Object(Ge.jsxs)("div",{className:"create-file-button",children:[Object(Ge.jsx)("div",{className:"d-none d-md-flex",children:Object(Ge.jsx)(E.a,{variant:"secondary",onClick:this.handleClick,disabled:this.state.loading||this.props.main_state.loading.includes("fetchFiles"),children:"New file"})}),Object(Ge.jsx)(v.a,{className:"btn-md-round d-sm-flex d-md-none green-border",variant:"flat",onClick:this.handleClick,disabled:this.state.loading||this.props.main_state.loading.includes("fetchFiles"),children:Object(Ge.jsx)(qr,{})})]})})}}]),a}(s.a.Component)),Zr=Object(_.b)((function(e){return{main_state:e.main}}),(function(e){return Object(Ke.bindActionCreators)({addNotification:Y,addFiles:Ue,deleteFileUploaded:He,addModal:ot,addQuotaError:ct,updateMainBulkState:De,updateSpace:Re,setProcessingStatus:Ve},e)}))(Yr);function Kr(){return Kr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Kr.apply(this,arguments)}function Gr(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Wr(e,t){var a=e.title,r=e.titleId,s=Gr(e,["title","titleId"]);return n.createElement("svg",Kr({width:20,height:16,viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,zr||(zr=n.createElement("path",{d:"M18.125 3H10.625L8.49102 0.866016C8.37492 0.749949 8.2371 0.657886 8.08543 0.595085C7.93375 0.532283 7.77119 0.499974 7.60703 0.5H1.875C1.37772 0.5 0.900805 0.697544 0.549175 1.04917C0.197544 1.40081 0 1.87772 0 2.375L0 13.625C0 14.1223 0.197544 14.5992 0.549175 14.9508C0.900805 15.3025 1.37772 15.5 1.875 15.5H18.125C18.6223 15.5 19.0992 15.3025 19.4508 14.9508C19.8025 14.5992 20 14.1223 20 13.625V4.875C20 4.37772 19.8025 3.90081 19.4508 3.54917C19.0992 3.19754 18.6223 3 18.125 3ZM18.75 13.625C18.75 13.7908 18.6842 13.9497 18.5669 14.0669C18.4497 14.1842 18.2908 14.25 18.125 14.25H1.875C1.70924 14.25 1.55027 14.1842 1.43306 14.0669C1.31585 13.9497 1.25 13.7908 1.25 13.625V2.375C1.25 2.20924 1.31585 2.05027 1.43306 1.93306C1.55027 1.81585 1.70924 1.75 1.875 1.75H7.60703L9.74102 3.88398C9.85711 4.00005 9.99493 4.09211 10.1466 4.15492C10.2983 4.21772 10.4608 4.25003 10.625 4.25H18.125C18.2908 4.25 18.4497 4.31585 18.5669 4.43306C18.6842 4.55027 18.75 4.70924 18.75 4.875V13.625ZM13.2617 8.625H10.6055V5.96875C10.6055 5.84443 10.5561 5.7252 10.4682 5.63729C10.3803 5.54939 10.261 5.5 10.1367 5.5H9.82422C9.6999 5.5 9.58067 5.54939 9.49276 5.63729C9.40485 5.7252 9.35547 5.84443 9.35547 5.96875V8.625H6.69922C6.5749 8.625 6.45567 8.67439 6.36776 8.76229C6.27985 8.8502 6.23047 8.96943 6.23047 9.09375V9.40625C6.23047 9.53057 6.27985 9.6498 6.36776 9.73771C6.45567 9.82561 6.5749 9.875 6.69922 9.875H9.35547V12.5312C9.35547 12.6556 9.40485 12.7748 9.49276 12.8627C9.58067 12.9506 9.6999 13 9.82422 13H10.1367C10.261 13 10.3803 12.9506 10.4682 12.8627C10.5561 12.7748 10.6055 12.6556 10.6055 12.5312V9.875H13.2617C13.386 9.875 13.5053 9.82561 13.5932 9.73771C13.6811 9.6498 13.7305 9.53057 13.7305 9.40625V9.09375C13.7305 8.96943 13.6811 8.8502 13.5932 8.76229C13.5053 8.67439 13.386 8.625 13.2617 8.625Z",fill:"#282A35"})))}var Qr=n.forwardRef(Wr),Xr=(a.p,function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var r;return Object(p.a)(this,a),(r=t.call(this,e)).handleClick=function(e){e.preventDefault();var t=st(r.props.main_state,r.props.space,"folder");if("0"!==t.code)return"quota"===t.context?r.props.addQuotaError(t):r.props.addModal({id:M(),dismissed:!1,type:"error",header:Object(Ge.jsx)(Ge.Fragment,{children:"Space temporarily closed"}),body:Object(Ge.jsx)(Ge.Fragment,{children:t.description}),dismissButtonText:"Got it"}),void r.setState({loading:!1});r.props.onClick(e)},r.state={},r}return Object(u.a)(a,[{key:"render",value:function(){return Object(Ge.jsx)(jt,{text:"Create a new folder",disabled:this.props.disabled,children:Object(Ge.jsxs)("div",{children:[Object(Ge.jsx)("div",{className:"d-none d-md-flex",children:Object(Ge.jsx)(E.a,{variant:"tertiary",onClick:this.handleClick,disabled:this.props.disabled,children:"New folder"})}),Object(Ge.jsx)(v.a,{className:"btn-md-round d-sm-flex d-md-none",variant:"tertiary",onClick:this.handleClick,disabled:this.props.disabled,children:Object(Ge.jsx)(Qr,{})})]})})}}]),a}(s.a.Component)),Jr=Object(_.b)((function(e){return{main_state:e.main}}),(function(e){return Object(Ke.bindActionCreators)({addModal:ot,addQuotaError:ct},e)}))(Xr);a(330);var $r,en=function(e){return Object(Ge.jsx)(ja.b,{to:e.to,className:"back-button",children:Object(Ge.jsx)(E.a,{variant:"noframe",text:e.text,prefix:"back",onClick:function(){e.onClick&&e.onClick()}})})},tn=(a(331),function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var r;return Object(p.a)(this,a),(r=t.call(this,e)).handleClose=function(){r.props.close()},r.state={},r}return Object(u.a)(a,[{key:"render",value:function(){return Object(Ge.jsxs)(w.a,{show:this.props.show,onHide:this.handleClose,size:"lg",className:"quota-error-modal",animation:!1,centered:!0,children:[Object(Ge.jsx)(w.a.Header,{closeButton:!0,children:Object(Ge.jsx)(w.a.Title,{children:this.props.meta.title})}),Object(Ge.jsx)(w.a.Body,{children:this.props.meta.contents}),Object(Ge.jsx)(w.a.Footer,{children:Object(Ge.jsx)(E.a,{variant:"primary",text:"Got it",onClick:this.handleClose})})]})}}]),a}(s.a.Component));function an(){return an=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},an.apply(this,arguments)}function rn(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function nn(e,t){var a=e.title,r=e.titleId,s=rn(e,["title","titleId"]);return n.createElement("svg",an({width:25,height:18,viewBox:"0 0 25 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,$r||($r=n.createElement("path",{d:"M12.207 5.58203C12.0234 5.39844 11.7266 5.39844 11.543 5.58203L7.70312 9.42188C7.51953 9.60547 7.51953 9.90234 7.70312 10.0859L7.92578 10.3086C8.10938 10.4922 8.40625 10.4922 8.58984 10.3086L11.2539 7.64453V13.5312C11.2539 13.7891 11.4648 14 11.7227 14H12.0352C12.293 14 12.5039 13.7891 12.5039 13.5312V7.64453L15.168 10.3086C15.3516 10.4922 15.6484 10.4922 15.832 10.3086L16.0547 10.0859C16.2383 9.90234 16.2383 9.60547 16.0547 9.42188L12.207 5.58203ZM22.332 8.32812C22.4414 7.94141 22.5 7.53906 22.5 7.125C22.5 4.70703 20.543 2.75 18.125 2.75C17.4727 2.75 16.8398 2.89063 16.25 3.17188C15.0156 1.41406 12.957 0.25 10.625 0.25C6.9375 0.25 3.91797 3.16016 3.75781 6.82031C1.53125 7.60156 0 9.71484 0 12.125C0 15.2344 2.51562 17.75 5.625 17.75H20C22.7617 17.75 25 15.5156 25 12.75C25 10.9141 23.9922 9.20312 22.332 8.32812ZM20 16.5H5.625C3.20703 16.5 1.25 14.543 1.25 12.125C1.25 9.90625 2.89844 8.07422 5.03906 7.78906C5.01172 7.57031 5 7.34766 5 7.125C5 4.01953 7.51953 1.5 10.625 1.5C12.9805 1.5 14.9961 2.94531 15.8359 5C16.4062 4.38672 17.2188 4 18.125 4C19.8516 4 21.25 5.39844 21.25 7.125C21.25 7.84766 21.0039 8.51562 20.5898 9.04688C22.3828 9.32812 23.75 10.8789 23.75 12.75C23.75 14.8203 22.0703 16.5 20 16.5Z",fill:"white"})))}var sn,on=n.forwardRef(nn),cn=(a.p,function(e,t,a){return a?e.name.toLowerCase()>t.name.toLowerCase()?1:-1:e.name.toLowerCase()<t.name.toLowerCase()?1:-1});!function(e){e[e.Name=1]="Name",e[e.Size=2]="Size",e[e.Modified=3]="Modified"}(sn||(sn={}));var ln=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var r;Object(p.a)(this,a),(r=t.call(this,e)).timerID=void 0,r.setEditorLocalStorage=function(e){var t={space_id:r.state.spaceId};r.props.setEditorContent({url:r.spaceUrl,space_id:r.state.spaceId,file_path:null===e||void 0===e?void 0:e.path,domainNameForSpace:r.domainNameForSpace||null}),localStorage.setItem("w3s-editor",JSON.stringify(t))},r.handleShowMoveModalSingle=function(e){E.i.logDebug("FileBrowser -> handleShowMoveModalSingle() -> file",e),r.setState({showMoveModal:!0,selectedFiles:[e]})},r.handleOpenFolder=function(e){E.i.logDebug("FileBrowser -> handleOpenFolder() -> folder",e),r.props.setSpacePath(e.path)},r.handleFetchFiles=function(){r.props.fetchFiles(r.state.spaceId,r.props.main_state,(function(){r.setState({files_fetched:!0})}))},r.handleShowDeleteModal=function(e){r.setState({showDeleteModal:!0,selectedFiles:[e]})},r.handleCloseDeleteModal=function(){r.setState({showDeleteModal:!1,selectedFiles:[]})},r.handleCloseNewFolderModal=function(){r.setState({showNewFolderModal:!1,selectedFiles:[]})},r.handleCloseMoveModal=function(){r.setState({showMoveModal:!1,selectedFiles:[]})},r.handleShowImagePreviewModal=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({showImagePreviewModal:!0,previewImage:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handleCloseImagePreviewModal=function(){r.setState({showImagePreviewModal:!1,previewImage:void 0})},r.handleShowEditModal=function(e,t){r.props.setHideTooltip(!0),r.setState({editProcessing:!0,selectedFiles:[t]}),r.setEditorLocalStorage(t),r.props.history.push("/space/".concat(r.state.spaceId,"/editor"))},r.handleCloseEditModal=function(){r.props.setHideTooltip(!1),r.setState({selectedFiles:[],editProcessing:!1})},r.handleShowRenameModal=function(e){r.props.main_state.usage_status._out_of_quota?r.props.addQuotaError({code:"ACTION_FORBIDDEN_WHEN_QUOTA_EXCEEDED",description:"Your space is temporarily closed, and renaming files/folders is not allowed.",meta:{header_text:"Space temporarily closed"}}):r.setState({showRenameModal:!0,selectedFiles:[e],renameFileName:r.displayFileKey(e.path)})},r.handleShowNewFolderModal=function(){r.setState({showNewFolderModal:!0,selectedFiles:[]})},r.handleCloseRenameModal=function(){r.setState({showRenameModal:!1,selectedFiles:[]})},r.handleCloseQuotaErrorModal=function(){r.setState({showQuotaErrorModal:!1,quotaErrorMeta:{title:"",contents:""},selectedFiles:[]})},r.handleShowDeleteSpaceModal=function(){r.setState({showDeleteSpaceModal:!0})},r.handleShowResetSpaceModal=function(){var e=nt(r.props.main_state);"0"===e.code?r.setState({showResetSpaceModal:!0}):r.props.addQuotaError(e)},r.handleCloseDeleteSpaceModal=function(e){E.i.logDebug("FileBrowser -> handleCloseDeleteSpaceModal() -> success: ",e),e?r.props.history.push("/"):r.setState({showDeleteSpaceModal:!1})},r.handleCloseResetSpaceModal=function(e){E.i.logDebug("handleCloseResetSpaceModal -> success: ",e),e?r.props.history.push("/"):r.setState({showResetSpaceModal:!1})},r.displayFileKey=function(e){return e.split("/").splice(1).join("/")},r.clickBreadcrumbItem=function(e){E.i.logDebug("FileBrowser -> clickBreadcrumItem() -> event",e),r.props.setSpacePath(e)},r.clickedTableHeader=function(e,t){r.setState({sortingSelected:e,sortingAscending:t})},r.sortingFunction=function(e,t){return e.is_folder&&!t.is_folder?-1:e.is_folder&&t.is_folder?r.state.sortingSelected===sn.Name?cn(e,t,r.state.sortingAscending):e.name.toLowerCase()>t.name.toLowerCase()?1:-1:r.state.sortingSelected===sn.Name?cn(e,t,r.state.sortingAscending):r.state.sortingSelected===sn.Size?e.size===t.size?cn(e,t,r.state.sortingAscending):r.state.sortingAscending?e.size>t.size?1:-1:e.size<t.size?1:-1:e.last_modified&&t.last_modified?e.last_modified.getTime()===t.last_modified.getTime()?cn(e,t,r.state.sortingAscending):r.state.sortingAscending?e.last_modified<t.last_modified?1:-1:e.last_modified>t.last_modified?1:-1:e.last_modified?1:-1};var n=e.match.params.spaceId;return e.selectedPath&&""!==e.selectedPath||e.setSpacePath(n+"/"),r.state={files_fetched:!1,selectedFiles:[],showDeleteModal:!1,showRenameModal:!1,showNewFolderModal:!1,showDeleteSpaceModal:!1,showResetSpaceModal:!1,showImagePreviewModal:!1,showMoveModal:!1,renameFileName:"",previewImage:void 0,copied:!1,status:"",fileUploading:!1,editProcessing:!1,spaceId:n,showQuotaErrorModal:!1,quotaErrorMeta:{title:"",contents:""},sortingSelected:sn.Modified,sortingAscending:!0},r}return Object(u.a)(a,[{key:"space",get:function(){var e=this,t=this.props.spaces.filter((function(t){return t.id===e.state.spaceId}));return t.length>0?t[0]:void 0}},{key:"componentDidMount",value:function(){"undefined"!==typeof this.space&&"DELETED"!==this.space.state&&"BANNED"!==this.space.state?(this.props.setDisplayFooter(!0),this.props.setDisplayHeader(!0),this.handleFetchFiles(),this.timerID=setInterval((function(){window.adngin&&window.adngin.cmd.startAuction(["files_top","files_bottom"])}),6e4)):this.props.history.push("/")}},{key:"componentWillUnmount",value:function(){this.timerID&&clearInterval(this.timerID)}},{key:"hasDomainForSpace",get:function(){var e=this;return this.props.domains.filter((function(t){return t.spaceId===e.state.spaceId})).length>0}},{key:"domainNameForSpace",get:function(){var e=this,t=this.props.domains.filter((function(t){return t.spaceId===e.state.spaceId&&t.status.ORDER_PROCESSING_COMPLETED}));if(t.length>0)return t[0].domainName}},{key:"spaceUrl",get:function(){var e=this.domainNameForSpace;return e?"https://".concat(e):"https://".concat(this.state.spaceId,".").concat(k())}},{key:"itemsDisplayed",get:function(){var e=this,t=[];if("undefined"!==typeof this.space){var a,r,n=this.props.selectedPath.split("/").length;t=this.space.files.filter((function(t){return t.path.includes(e.props.selectedPath)&&n===t.path.split("/").length}));var s=this.space.folders.filter((function(t){return t.path.includes(e.props.selectedPath)&&n===t.path.split("/").length-1}));(a=t).push.apply(a,Object(P.a)(s));var i=this.props.files_uploaded.filter((function(t){return t.path.includes(e.props.selectedPath)&&n===t.path.split("/").length}));(r=t).push.apply(r,Object(P.a)(i))}return t}},{key:"render",value:function(){var e=this;return Object(Ge.jsxs)("div",{className:"w3s-file-browser",children:["undefined"===typeof this.space&&Object(Ge.jsxs)(Ge.Fragment,{children:[Object(Ge.jsx)(m.a,{children:Object(Ge.jsx)(j.a,{className:"w3s-back-col",children:Object(Ge.jsx)(en,{text:"Back to all spaces",to:"/",onClick:function(){localStorage.removeItem("w3s-editor"),e.props.resetFileUpload()}})})}),Object(Ge.jsx)(m.a,{children:Object(Ge.jsx)(j.a,{className:"file-table-refresh-col",children:Object(Ge.jsx)("h1",{className:"file-browser-header",children:"Space not found"})})}),Object(Ge.jsx)(m.a,{children:Object(Ge.jsxs)(j.a,{children:[Object(Ge.jsx)("div",{style:{padding:"20px 0"},children:"Sorry, we cannot find the space you were looking for."}),Object(Ge.jsx)(E.a,{variant:"primary",as:"a",href:"/",children:"Back"})]})})]}),"undefined"!==typeof this.space&&this.state.files_fetched&&Object(Ge.jsxs)(Ge.Fragment,{children:[Object(Ge.jsx)(m.a,{children:Object(Ge.jsx)(j.a,{className:"w3s-back-col",children:Object(Ge.jsx)(en,{text:"Back to all spaces",to:"/",onClick:function(){localStorage.removeItem("w3s-editor"),e.props.resetFileUpload()}})})}),Object(Ge.jsxs)(m.a,{children:[Object(Ge.jsx)(j.a,{className:"file-table-refresh-col col-md-3 col-12",children:Object(Ge.jsx)("h1",{className:"file-browser-header",children:"Files"})}),Object(Ge.jsx)(j.a,{className:"file-table-refresh-col col-9 d-none d-md-block",children:Object(Ge.jsxs)(m.a,{className:"direction-reverse",children:[Object(Ge.jsx)("div",{className:"btn-wrp -mobile-mr",children:Object(Ge.jsx)(vt,{variant:"dark",can_be_upgraded:this.props.main_state.subscription_plan.can_be_upgraded})}),Object(Ge.jsx)("div",{className:"btn-wrp mr-12",children:this.hasDomainForSpace?Object(Ge.jsx)(E.a,{variant:"tertiary",onClick:function(){return e.props.history.push("/domains")},children:"free"===this.props.main_state.subscription_plan.name?"My domain":"My domains"}):Object(Ge.jsx)(E.a,{variant:"tertiary",onClick:function(){return e.props.history.push("/domains/start/".concat(e.state.spaceId))},children:"Get a domain"})})]})})]}),Object(Ge.jsx)(m.a,{children:Object(Ge.jsx)(j.a,{children:Object(Ge.jsxs)("div",{className:"file-table",children:[Object(Ge.jsxs)("div",{className:"-header",children:[Object(Ge.jsxs)("div",{className:"-info-wrapper",children:[Object(Ge.jsxs)("div",{className:"-header",children:[Object(Ge.jsx)(Nt,{size:54,spaceState:this.space.state}),Object(Ge.jsxs)("div",{className:"-inner-wrapper",children:[Object(Ge.jsx)("h3",{className:"-title",children:this.state.spaceId}),Object(Ge.jsx)("p",{children:Object(Ge.jsx)("a",{href:this.spaceUrl,target:"_blank",rel:"noopener noreferrer",children:this.spaceUrl})})]})]}),Object(Ge.jsx)("div",{className:"-body",children:Object(Ge.jsx)("p",{children:this.state.status})})]}),Object(Ge.jsxs)("div",{className:"-right-btn-wrapper",children:[Object(Ge.jsx)("div",{className:"btn-wrp mr-12 -mobile-mr",children:Object(Ge.jsx)(jt,{text:"Reset space",children:Object(Ge.jsx)(v.a,{variant:"flat",className:"btn-md-round",onClick:this.handleShowResetSpaceModal,children:Object(Ge.jsx)(ga.a,{className:this.props.main_state.loading.includes("fetchFiles")?"loading-spin":""})})})}),Object(Ge.jsx)("div",{className:"btn-wrp mr-12 -mobile-mr",children:Object(Ge.jsx)(Jr,{space:this.space,onClick:this.handleShowNewFolderModal,disabled:this.props.main_state.loading.includes("fetchFiles")||this.props.selectedPath.split("/").length>=ya.MAX+2})}),Object(Ge.jsx)("div",{className:"btn-wrp mr-12 -mobile-mr",children:Object(Ge.jsx)(Zr,{space:this.space,active_path:this.props.selectedPath})}),Object(Ge.jsx)("div",{className:"btn-wrp -mobile",children:Object(Ge.jsx)(xa,{space:this.space,active_path:this.props.selectedPath,innerProps:{noDragEventsBubbling:!0},lite:!0,children:Object(Ge.jsxs)("div",{children:[Object(Ge.jsx)("div",{className:"d-none d-md-flex",children:Object(Ge.jsx)(E.a,{variant:"primary",children:"Upload files"})}),Object(Ge.jsx)("div",{children:Object(Ge.jsx)(jt,{text:"Upload files",children:Object(Ge.jsx)(v.a,{className:"btn-md-round d-sm-flex d-md-none btn-color-green",variant:"flat",children:Object(Ge.jsx)(on,{})})})})]})})})]})]}),Object(Ge.jsx)("div",{className:"-body",children:Object(Ge.jsx)(xa,{space:this.space,active_path:this.props.selectedPath,innerProps:{noClick:!0,noKeyboard:!0},children:Object(Ge.jsxs)(Ge.Fragment,{children:[Object(Ge.jsx)("div",{className:"rounded-table-wrapper "+(0===this.itemsDisplayed.length?"empty":""),children:Object(Ge.jsxs)(g.a,{hover:!0,className:"rounded-table",children:[Object(Ge.jsxs)("thead",{children:[Object(Ge.jsx)("tr",{children:Object(Ge.jsx)("th",{colSpan:4,className:"breadcrumb-header white-background",children:Object(Ge.jsx)(za,{path:this.props.selectedPath.split("/"),folderIsSelected:this.props.selectedPath!==this.state.spaceId+"/",spaceId:this.state.spaceId,handleClickItem:this.clickBreadcrumbItem})})}),Object(Ge.jsxs)("tr",{children:[Object(Ge.jsx)(Zt,{className:"first-tablemobile",selected:this.state.sortingSelected===sn.Name,onClick:function(t){e.clickedTableHeader(sn.Name,t)},children:Object(Ge.jsx)("div",{className:"mr-2",children:"Name"})}),Object(Ge.jsx)(Zt,{selected:this.state.sortingSelected===sn.Size,className:"-tablemobile",rightAlignText:!0,onClick:function(t){return e.clickedTableHeader(sn.Size,t)},children:Object(Ge.jsx)("div",{className:"mr-2",children:"Size"})}),Object(Ge.jsx)(Zt,{selected:this.state.sortingSelected===sn.Modified,className:"-tablemobile -table-min-width",rightAlignText:!0,onClick:function(t){return e.clickedTableHeader(sn.Modified,t)},children:Object(Ge.jsx)("div",{className:"mr-2",children:"Last modified"})}),Object(Ge.jsx)("th",{})]})]}),Object(Ge.jsx)("tbody",{children:this.space&&this.itemsDisplayed.length>0&&this.itemsDisplayed.sort(this.sortingFunction).map((function(t,a){return Object(Ge.jsx)(Br,{processing_status:t.processing_status,space:e.space,file:t,customDomain:e.domainNameForSpace,handleShowEditModal:e.handleShowEditModal,editProcessing:e.state.editProcessing,handleShowImagePreviewModal:e.handleShowImagePreviewModal,handleShowRenameModal:e.handleShowRenameModal,handleShowDeleteModal:e.handleShowDeleteModal,handleShowMoveModal:e.handleShowMoveModalSingle,handleEnterFolder:e.handleOpenFolder},t.path)}))})]})}),0===this.itemsDisplayed.length&&Object(Ge.jsxs)("div",{className:"-no-files-banner",children:[Object(Ge.jsx)(m.a,{children:Object(Ge.jsx)(j.a,{children:Object(Ge.jsx)("div",{className:"no-files-banner-icon-circle",children:Object(Ge.jsx)(va.a,{size:"50"})})})}),Object(Ge.jsx)(m.a,{children:Object(Ge.jsxs)(j.a,{children:[Object(Ge.jsx)("h4",{children:"Drop files here to upload"}),Object(Ge.jsxs)("div",{className:"-subtitle",children:["or use the ",Object(Ge.jsx)(xa,{space:this.space,innerProps:{noDragEventsBubbling:!0},lite:!0,active_path:this.props.selectedPath,children:"Upload files"})," button"]})]})})]}),Object(Ge.jsxs)(Ge.Fragment,{children:[Object(Ge.jsx)(tn,{show:this.state.showQuotaErrorModal,close:this.handleCloseQuotaErrorModal,spaceId:this.state.spaceId,file:this.state.selectedFiles[0],meta:this.state.quotaErrorMeta}),Object(Ge.jsx)(Ia,{show:this.state.showRenameModal,close:this.handleCloseRenameModal,file:this.state.selectedFiles[0],spaceId:this.state.spaceId,active_path:this.props.selectedPath}),Object(Ge.jsx)(Ra,{show:this.state.showNewFolderModal,close:this.handleCloseNewFolderModal,path:this.props.selectedPath,spaceId:this.state.spaceId,existingFolders:this.space.folders,defaultName:Fa(this.props.selectedPath,this.space.folders)}),Object(Ge.jsx)(Ua,{show:this.state.showDeleteModal,close:this.handleCloseDeleteModal,file:this.state.selectedFiles[0],spaceId:this.state.spaceId}),Object(Ge.jsx)(_r,{show:this.state.showMoveModal,close:this.handleCloseMoveModal,files:this.state.selectedFiles,spaceId:this.state.spaceId,space_folders:this.space.folders,active_path:this.props.selectedPath}),Object(Ge.jsx)(Qe,{show:this.state.showDeleteSpaceModal,close:function(){return e.handleCloseDeleteSpaceModal(!1)},closeWithStatus:this.handleCloseDeleteSpaceModal,spaceId:this.state.spaceId}),this.state.showResetSpaceModal&&Object(Ge.jsx)(Je,{show:!0,close:function(){return e.handleCloseResetSpaceModal(!1)},closeWithStatus:this.handleCloseResetSpaceModal,space_id:this.state.spaceId,resetFileUpload:function(){return e.props.resetFileUpload()}}),this.state.showImagePreviewModal&&Object(Ge.jsx)(Nr,{show:!0,close:this.handleCloseImagePreviewModal,file:this.state.previewImage})]})]})})})]})})}),Object(Ge.jsxs)(m.a,{className:"d-block d-md-none mt-n4",children:[Object(Ge.jsx)(j.a,{className:"file-table-refresh-col",children:Object(Ge.jsx)("div",{className:"btn-wrp -mobile-mr mr-3 expand-upgrade-btn",children:Object(Ge.jsx)(vt,{variant:"dark",can_be_upgraded:this.props.main_state.subscription_plan.can_be_upgraded})})}),Object(Ge.jsx)(j.a,{className:"file-table-refresh-col d-flex expand-upgrade-btn",children:this.hasDomainForSpace?Object(Ge.jsx)(E.a,{variant:"tertiary",onClick:function(){return e.props.history.push("/domains")},children:"free"===this.props.main_state.subscription_plan.name?"My domain":"My domains"}):Object(Ge.jsx)(E.a,{variant:"tertiary",onClick:function(){return e.props.history.push("/domains/start/".concat(e.state.spaceId))},children:"Get a domain"})})]})]})]})}}]),a}(s.a.Component),dn=Object(O.j)(Object(_.b)((function(e){return{spaces:e.main.spaces,domains:e.domains.orders,main_state:e.main,files_uploaded:e.main.files_uploaded,selectedPath:e.main.space_path}}),(function(e){return Object(Ke.bindActionCreators)({addQuotaError:ct,addNotification:Y,dismissNotification:z,updateNotification:q,fetchFiles:Ye,setHideTooltip:qe,resetFileUpload:ze,setSpacePath:Be,setDisplayFooter:ke,setDisplayHeader:Me,setEditorContent:Se},e)}))(ln)),pn=function(e){return Object(Ge.jsxs)(N.a,{variant:"danger",children:[Object(Ge.jsx)(N.a.Heading,{children:"Fatal error"}),Object(Ge.jsx)("p",{children:e.message})]})},un=(a(332),a(333),function(e){return Object(Ge.jsx)("ul",{className:"checked-list",children:e.items.map((function(e){return Object(Ge.jsx)("li",{children:e},e)}))})}),hn=a(200),fn=a.n(hn);a(334);var bn=function(e){var t=e.feature;return Object(Ge.jsxs)(j.a,{md:"4",className:"feature-item",children:[Object(Ge.jsx)("h3",{children:t.title}),Object(Ge.jsx)("h4",{children:t.subtitle})]})};a(335);var mn=function(){return Object(Ge.jsx)(m.a,{className:"feature-list",children:[{title:"Playground",subtitle:"Playground for HTML, CSS and JavaScript"},{title:"Code editor",subtitle:"Interface to code in browser"},{title:"File manager",subtitle:"Upload and handle files in browser"},{title:"Experiment",subtitle:"Code and run your own experiments"},{title:"Templates",subtitle:"Start with ready-to-use designs and structures"},{title:"Public space",subtitle:"Showcase personal projects on your own public space"}].map((function(e){return Object(Ge.jsx)(bn,{feature:e},e.title)}))})},jn=(a(336),a.p+"static/media/window.10dd677d.svg"),gn=a.p+"static/media/Line-1.f074919a.svg",vn=a.p+"static/media/Line-2.cdec3617.svg",On=a.p+"static/media/Line-3.f074919a.svg",_n=a.p+"static/media/layout-wtf.2da17533.svg",xn=a.p+"static/media/Frame.a8fb68c5.svg",yn=a.p+"static/media/Frame (1).577c15ca.svg";var Cn=function(){return Object(Ge.jsxs)(m.a,{className:"how-it-works-container",children:[Object(Ge.jsx)("div",{className:"how-it-works go-wide",children:Object(Ge.jsx)(j.a,{children:Object(Ge.jsx)("h2",{children:"How it works"})})}),Object(Ge.jsx)("div",{className:"how-it-works",children:Object(Ge.jsxs)("div",{className:"images",children:[Object(Ge.jsx)("img",{src:jn,className:"window",alt:"Join W3Schools - and create a space"}),Object(Ge.jsx)("div",{className:"step hide-large",children:"1. Join W3Schools - and create a space"}),Object(Ge.jsx)("img",{src:gn,className:"line1 hide-small",alt:""}),Object(Ge.jsx)("img",{src:_n,className:"wtf",alt:"Choose a template - or start from scratch"}),Object(Ge.jsx)("div",{className:"step hide-large",children:"2. Choose a template - or start from scratch"}),Object(Ge.jsx)("img",{src:vn,className:"line2 hide-small",alt:""}),Object(Ge.jsx)("img",{src:xn,className:"code-paper",alt:"Edit your code and make it yours"}),Object(Ge.jsx)("div",{className:"step hide-large",children:"3. Edit your code and make it yours"}),Object(Ge.jsx)("img",{src:On,className:"line3 hide-small",alt:""}),Object(Ge.jsx)("img",{src:yn,className:"globe",alt:"Share your space with someone"}),Object(Ge.jsx)("div",{className:"step hide-large",children:"4. Share your space with someone"})]})}),Object(Ge.jsx)("div",{className:"how-it-works hide-small",children:Object(Ge.jsxs)("div",{className:"steps",children:[Object(Ge.jsx)("div",{className:"step",children:"1. Join W3Schools - and create a space"}),Object(Ge.jsx)("div",{className:"step",children:"2. Choose a template - or start from scratch"}),Object(Ge.jsx)("div",{className:"step",children:"3. Edit your code and make it yours"}),Object(Ge.jsx)("div",{className:"step",children:"4. Share your space with someone"})]})})]})};a(337);var wn=function(e){var t=e.handleGetStartedBtnClick,a=Object(n.useState)(!1),r=Object(Xe.a)(a,2),s=r[0],i=r[1],o=Object(n.useState)(!0),c=Object(Xe.a)(o,2),l=c[0],d=c[1],p=Object(_.d)((function(e){return e.notification})),u=Object(_.d)((function(e){return e.main.subscription_plan_options})),h=u["free/monthly"],f=Object.keys(u).map((function(e){return u[e]})).filter((function(e){return"free"!==e.name&&"monthly"===e.frequency&&e.is_visible})).sort((function(e,t){return e.position.localeCompare(t.position)}));function b(e){return void 0===e||void 0===e.unique_selling_propositions?[""]:e.unique_selling_propositions.split("\n")}Object(n.useEffect)((function(){i(!1)}),[p]);var j=function(e){var t="0";return"basic"===e.toLowerCase()?t="9.99":"pro"===e.toLowerCase()?t="49.99":"premium"===e.toLowerCase()&&(t="129.99"),t};return Object(Ge.jsxs)(m.a,{className:"view-plans-container",children:[Object(Ge.jsx)("div",{className:"view-plans view-plans-header-row",children:Object(Ge.jsx)("h2",{className:"heading",children:"Start Free - upgrade later"})}),Object(Ge.jsx)("div",{className:"view-plans",children:Object(Ge.jsx)("h3",{className:"subheading",children:"Master new skills"})}),Object(Ge.jsx)("div",{className:"view-plans",children:Object(Ge.jsxs)("div",{onClick:function(){d(!l)},className:"toggle-background",children:[Object(Ge.jsx)("div",{className:"toggle-slider".concat(l?"":" yearly")}),Object(Ge.jsx)("div",{className:"toggle-slider-text-left".concat(l?"":" yearly"),children:"MONTHLY"}),Object(Ge.jsx)("div",{className:"toggle-slider-text-right".concat(l?"":" yearly"),children:"YEARLY"})]})}),Object(Ge.jsx)("div",{className:"view-plans",children:Object(Ge.jsxs)("div",{className:"plans-container",children:[Object(Ge.jsx)("div",{className:"paid-plan-bkg",children:f.map((function(e){return Object(Ge.jsxs)(Ge.Fragment,{children:[Object(Ge.jsx)("div",{className:"vr"}),Object(Ge.jsxs)("div",{className:"additional-plan",children:[Object(Ge.jsxs)("div",{className:"price",children:["$",l?e.price:j(e.cname),Object(Ge.jsxs)("span",{className:"period",children:["/",l?"month":"year"]})]}),Object(Ge.jsx)("div",{className:"name",children:e.cname}),Object(Ge.jsx)("div",{className:"description",children:e.description}),Object(Ge.jsx)("div",{className:"feature-list",children:Object(Ge.jsx)(un,{items:b(e)})})]})]})}))}),Object(Ge.jsxs)("div",{className:"free-plan",children:[Object(Ge.jsx)("div",{className:"free-badge",children:"FREE"}),Object(Ge.jsxs)("div",{className:"price",children:["$0",Object(Ge.jsxs)("span",{className:"period",children:["/",l?"month":"year"]})]}),Object(Ge.jsx)("div",{className:"name",children:h.cname}),Object(Ge.jsx)("div",{className:"description",children:h.description}),Object(Ge.jsx)("div",{className:"feature-list",children:Object(Ge.jsx)(un,{items:b(h)})}),Object(Ge.jsx)(E.a,{onClick:t,fullwidth:!0,variant:"pink",loading:s,children:"Get started for free"})]})]})}),Object(Ge.jsx)("div",{className:"view-plans",children:Object(Ge.jsxs)("div",{className:"getstarted_terms",children:["By clicking the 'Get started for free' button, you agree to W3Schools' ",Object(Ge.jsx)("a",{href:"https://www.w3schools.com/about/about_copyright.asp",target:"_blank",rel:"noopener noreferrer",children:"Terms of Service"})," and ",Object(Ge.jsx)("a",{href:"https://www.w3schools.com/about/about_privacy.asp",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"})]})})]})};function Nn(){return function(){var e=Object(d.a)(l.a.mark((function e(t){var a,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.post("/userinfo",{action:"registerUser"});case 2:if(a=e.sent,E.i.logDebug("registerUser -> req_res: ",a),void 0===(r=te(a))){e.next=8;break}return t(V(r)),e.abrupt("return");case 8:if(!(a.status>=400)){e.next=11;break}return t(V({code:"INTERNAL_SERVER_ERROR",description:"An unknown error occurred"})),e.abrupt("return");case 11:n=a.data.data,t(Pe(n));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var En=function(){var e,t=Object(O.g)(),a=Object(_.c)(),r=Object(_.d)((function(e){return e.main.user})),s=Object(_.d)((function(e){return e.main.subscription_plan})),i=Object(_.d)((function(e){return e.main.subscription_plan_options["free/monthly"]})),o=Object(n.useState)(!1),c=Object(Xe.a)(o,2),p=c[0],u=c[1];function h(e){return f.apply(this,arguments)}function f(){return(f=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!r.is_registered||2!==r.onboarding_step){e.next=6;break}return E.i.logDebug("handleGetStartedBtnClick -> history.push -> /createspace/stepone"),p&&u(!1),t.push("/createspace/stepone"),e.abrupt("return");case 6:E.i.logDebug("handleGetStartedBtnClick -> user_info: ",r),u(!0),a(Nn());case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){E.i.logDebug("NewUserLanding -> user_info: ",r),r.is_registered&&2===r.onboarding_step&&(E.i.logDebug("useEffect -> history.push -> /createspace/stepone"),p&&u(!1),t.push("/createspace/stepone"))}),[r]),Object(Ge.jsxs)(Ge.Fragment,{children:[Object(Ge.jsxs)(m.a,{className:"new-user-landing-row",title:"Photo by Priscilla Du Preez on Unsplash https://unsplash.com/photos/XkKCui44iM0",children:[Object(Ge.jsx)(j.a,{md:1}),Object(Ge.jsxs)(j.a,{md:3,children:[Object(Ge.jsx)("h2",{className:"subheading",children:"Spaces"}),Object(Ge.jsx)("h1",{children:"Get started coding on your own"}),Object(Ge.jsx)("p",{children:"Create your own spaces. Use them to host your website or try out ideas."})]}),Object(Ge.jsx)(j.a,{md:2,lg:3}),Object(Ge.jsx)(j.a,{md:5,lg:4,children:Object(Ge.jsxs)("div",{className:fn()({"terms-card":!0,active:"free"===s.name}),children:[Object(Ge.jsx)("h2",{className:"plan-name",children:i.name}),Object(Ge.jsx)(un,{items:(e=i,void 0===e||void 0===e.unique_selling_propositions?[""]:e.unique_selling_propositions.split("\n"))}),Object(Ge.jsx)(E.a,{onClick:h,fullwidth:!0,variant:"primary",text:"Get started for free",loading:p}),Object(Ge.jsxs)("div",{className:"getstarted_terms",children:['By clicking the "Get started" button, you agree to W3Schools\' ',Object(Ge.jsx)("a",{href:"https://www.w3schools.com/about/about_copyright.asp",target:"_blank",rel:"noopener noreferrer",children:"Terms of Service"})," and ",Object(Ge.jsx)("a",{href:"https://www.w3schools.com/about/about_privacy.asp",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"})]})]})})]}),Object(Ge.jsx)(mn,{}),Object(Ge.jsx)(Cn,{}),Object(Ge.jsx)(wn,{handleGetStartedBtnClick:h})]})};a(338);var Sn=function(e){return e.selected,Object(Ge.jsxs)("svg",{width:"119",height:"119",viewBox:"0 0 119 119",xmlns:"http://www.w3.org/2000/svg",children:[Object(Ge.jsx)("rect",{width:"105",height:"95",fill:"white",transform:"translate(6 3)"}),Object(Ge.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M103.409 7.77271H14.7727C10.6933 7.77271 7.38636 11.0797 7.38636 15.1591V89.0226C7.38636 93.102 10.6933 96.409 14.7727 96.409H103.409C107.488 96.409 110.795 93.102 110.795 89.0226V15.1591C110.795 11.0797 107.488 7.77271 103.409 7.77271ZM14.7727 0.386353C6.61397 0.386353 0 7.00032 0 15.1591V89.0226C0 97.1814 6.61397 103.795 14.7727 103.795H103.409C111.568 103.795 118.182 97.1814 118.182 89.0226V15.1591C118.182 7.00032 111.568 0.386353 103.409 0.386353H14.7727Z"}),Object(Ge.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M110.795 37.3181H7.38636V29.9318H110.795V37.3181Z"}),Object(Ge.jsx)("path",{d:"M22.1591 18.8522C22.1591 20.8919 20.5056 22.5454 18.4659 22.5454C16.4262 22.5454 14.7727 20.8919 14.7727 18.8522C14.7727 16.8126 16.4262 15.1591 18.4659 15.1591C20.5056 15.1591 22.1591 16.8126 22.1591 18.8522Z"}),Object(Ge.jsx)("path",{d:"M33.2386 18.8522C33.2386 20.8919 31.5851 22.5454 29.5454 22.5454C27.5057 22.5454 25.8522 20.8919 25.8522 18.8522C25.8522 16.8126 27.5057 15.1591 29.5454 15.1591C31.5851 15.1591 33.2386 16.8126 33.2386 18.8522Z"}),Object(Ge.jsx)("path",{d:"M44.3181 18.8522C44.3181 20.8919 42.6646 22.5454 40.625 22.5454C38.5853 22.5454 36.9318 20.8919 36.9318 18.8522C36.9318 16.8126 38.5853 15.1591 40.625 15.1591C42.6646 15.1591 44.3181 16.8126 44.3181 18.8522Z"})]})},kn=a(399);a(339);var Mn=function(e){var t=e.selected;return Object(Ge.jsx)("div",{className:"selected-icon "+(t?"selected":""),children:t&&Object(Ge.jsx)(kn.a,{size:34})})};a(340);var Ln=function(e){var t=e.selected,a=e.children,r=e.onClick;return Object(Ge.jsxs)("div",{onClick:r,className:"option-card option-card-template"+(t?" selected":""),children:[Object(Ge.jsx)(Mn,{selected:t}),a]})};var Pn=function(e){return e.selected,Object(Ge.jsxs)("svg",{width:"119",height:"119",viewBox:"0 0 119 119",xmlns:"http://www.w3.org/2000/svg",children:[Object(Ge.jsx)("rect",{width:"105",height:"95",fill:"white",transform:"translate(6 12)"}),Object(Ge.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M103.409 14.7727H14.7727C10.6933 14.7727 7.38636 18.0797 7.38636 22.1591V96.0226C7.38636 100.102 10.6933 103.409 14.7727 103.409H103.409C107.488 103.409 110.795 100.102 110.795 96.0226V22.1591C110.795 18.0797 107.488 14.7727 103.409 14.7727ZM14.7727 7.38635C6.61397 7.38635 0 14.0003 0 22.1591V96.0226C0 104.181 6.61397 110.795 14.7727 110.795H103.409C111.568 110.795 118.182 104.181 118.182 96.0226V22.1591C118.182 14.0003 111.568 7.38635 103.409 7.38635H14.7727Z"}),Object(Ge.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M110.795 44.3181H7.38636V36.9318H110.795V44.3181Z"}),Object(Ge.jsx)("path",{d:"M22.1591 25.8522C22.1591 27.8919 20.5056 29.5454 18.4659 29.5454C16.4262 29.5454 14.7727 27.8919 14.7727 25.8522C14.7727 23.8126 16.4262 22.1591 18.4659 22.1591C20.5056 22.1591 22.1591 23.8126 22.1591 25.8522Z"}),Object(Ge.jsx)("path",{d:"M33.2386 25.8522C33.2386 27.8919 31.5851 29.5454 29.5454 29.5454C27.5057 29.5454 25.8522 27.8919 25.8522 25.8522C25.8522 23.8126 27.5057 22.1591 29.5454 22.1591C31.5851 22.1591 33.2386 23.8126 33.2386 25.8522Z"}),Object(Ge.jsx)("path",{d:"M44.3181 25.8522C44.3181 27.8919 42.6646 29.5454 40.625 29.5454C38.5853 29.5454 36.9318 27.8919 36.9318 25.8522C36.9318 23.8126 38.5853 22.1591 40.625 22.1591C42.6646 22.1591 44.3181 23.8126 44.3181 25.8522Z"}),Object(Ge.jsx)("path",{d:"M49.625 53.125V78.125H37.125V53.125H49.625ZM37.125 50C36.2962 50 35.5013 50.3292 34.9153 50.9153C34.3292 51.5013 34 52.2962 34 53.125V78.125C34 78.9538 34.3292 79.7487 34.9153 80.3347C35.5013 80.9208 36.2962 81.25 37.125 81.25H49.625C50.4538 81.25 51.2487 80.9208 51.8347 80.3347C52.4208 79.7487 52.75 78.9538 52.75 78.125V53.125C52.75 52.2962 52.4208 51.5013 51.8347 50.9153C51.2487 50.3292 50.4538 50 49.625 50H37.125ZM77.75 56.25V71.875H62.125V56.25H77.75ZM62.125 53.125C61.2962 53.125 60.5013 53.4542 59.9153 54.0403C59.3292 54.6263 59 55.4212 59 56.25V71.875C59 72.7038 59.3292 73.4987 59.9153 74.0847C60.5013 74.6708 61.2962 75 62.125 75H77.75C78.5788 75 79.3737 74.6708 79.9597 74.0847C80.5458 73.4987 80.875 72.7038 80.875 71.875V56.25C80.875 55.4212 80.5458 54.6263 79.9597 54.0403C79.3737 53.4542 78.5788 53.125 77.75 53.125H62.125ZM49.625 90.625V96.875H43.375V90.625H49.625ZM43.375 87.5C42.5462 87.5 41.7513 87.8292 41.1653 88.4153C40.5792 89.0013 40.25 89.7962 40.25 90.625V96.875C40.25 97.7038 40.5792 98.4987 41.1653 99.0847C41.7513 99.6708 42.5462 100 43.375 100H49.625C50.4538 100 51.2487 99.6708 51.8347 99.0847C52.4208 98.4987 52.75 97.7038 52.75 96.875V90.625C52.75 89.7962 52.4208 89.0013 51.8347 88.4153C51.2487 87.8292 50.4538 87.5 49.625 87.5H43.375ZM80.875 84.375V90.625H62.125V84.375H80.875ZM62.125 81.25C61.2962 81.25 60.5013 81.5792 59.9153 82.1653C59.3292 82.7513 59 83.5462 59 84.375V90.625C59 91.4538 59.3292 92.2487 59.9153 92.8347C60.5013 93.4208 61.2962 93.75 62.125 93.75H80.875C81.7038 93.75 82.4987 93.4208 83.0847 92.8347C83.6708 92.2487 84 91.4538 84 90.625V84.375C84 83.5462 83.6708 82.7513 83.0847 82.1653C82.4987 81.5792 81.7038 81.25 80.875 81.25H62.125Z"})]})},Dn={spaceId:"",template:"skeleton"},Fn=function(e){return F("CreateSpace::setSpaceId",e)},Tn=function(e){return F("CreateSpace::setTemplate",e)};var In=function(e){return Object(n.useEffect)(e,["componentDidMount"])},An=function(e,t){return!!e.filter((function(e){return e.id===t})).length};var Rn=function(){var e=Object(n.useState)("template"),t=Object(Xe.a)(e,2),a=t[0],r=t[1],s=Object(O.g)(),i=Object(_.d)((function(e){return e.main})),o=i.user,c=Object(_.c)(),l=new URLSearchParams(Object(O.h)().search).get("is_resetting_space");function d(){"skeleton"===a&&c(Tn("skeleton"))}return In((function(){if(E.i.logDebug("componentDidMount -> user_info: ",o),o.is_registered){var e;if(l){if(!An(i.spaces,l))return void s.push("/");e=nt(i)}else e=rt(i);"0"!==e.code&&(c(ct(e)),s.push("/"))}else c(Nn())})),Object(Ge.jsxs)(Ge.Fragment,{children:[Object(Ge.jsx)(m.a,{className:"create-space-step-one-row",children:Object(Ge.jsx)(j.a,{children:Object(Ge.jsx)(en,{text:"Back",to:"/"})})}),Object(Ge.jsxs)(m.a,{className:"create-space-step-one-row",children:[Object(Ge.jsxs)(j.a,{lg:6,children:[Object(Ge.jsx)("h2",{children:"Step 1"}),Object(Ge.jsx)("h1",{children:"How do you want to create your space?"})]}),Object(Ge.jsx)(j.a,{md:6,lg:3,className:"mb-2 mb-md-0",children:Object(Ge.jsxs)(Ln,{onClick:function(){return r("template")},selected:"template"===a,children:[Object(Ge.jsx)(Pn,{selected:"template"===a}),Object(Ge.jsx)("h1",{children:"Start with template"}),Object(Ge.jsx)("h2",{children:"Browse templates and find one to use as a starting point."})]})}),Object(Ge.jsx)(j.a,{md:6,lg:3,children:Object(Ge.jsxs)(Ln,{onClick:function(){return r("skeleton")},selected:"skeleton"===a,children:[Object(Ge.jsx)(Sn,{selected:"skeleton"===a}),Object(Ge.jsx)("h1",{children:"Start with a blank page"}),Object(Ge.jsx)("h2",{children:"The empty page will contain the basic html structure."})]})})]}),Object(Ge.jsx)(m.a,{className:"create-space-step-one-row bottom-row",children:Object(Ge.jsxs)(j.a,{children:[Object(Ge.jsx)(E.a,{variant:"noframe",onClick:function(e){e.preventDefault(),c(Fe({onboarding_step:0})),s.push("/")},text:"I'll do this later"}),"template"===a?Object(Ge.jsx)(ja.b,{onClick:d,to:"/createspace/templatepicker".concat(l?"?is_resetting_space="+l:""),children:Object(Ge.jsx)(E.a,{variant:"primary",text:"Continue"})}):l?Object(Ge.jsx)(ja.b,{onClick:d,to:"/createspace/finalize".concat(l?"?is_resetting_space="+l:""),children:Object(Ge.jsx)(E.a,{variant:"primary",text:"Continue"})}):Object(Ge.jsx)(ja.b,{onClick:d,to:"/createspace/setname",children:Object(Ge.jsx)(E.a,{variant:"primary",text:"Continue"})})]})})]})};a(341);var Bn=function(){var e=Object(n.useState)(""),t=Object(Xe.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(!1),i=Object(Xe.a)(s,2),o=i[0],c=i[1],p=Object(n.useState)(void 0),u=Object(Xe.a)(p,2),h=u[0],f=u[1],b=Object(n.useState)(!1),g=Object(Xe.a)(b,2),v=g[0],x=g[1],y=Object(O.g)(),C=Object(_.c)(),w=Object(_.d)((function(e){return e.createSpace.template})),N=Object(_.d)((function(e){return e.main}));function S(e){e.preventDefault(),function(){L.apply(this,arguments)}()}function M(e){return e.length<4?"The name must be at least 4 characters.":e.length>20?"The name cannot be more than 20 characters.":/^[a-z]/.test(e)?/^[a-z\-0-9]*$/.test(e)?/(.*)-$/.test(e)?"The name can not end with a dash.":void 0:"The name can only contain lower case letters, numbers and dashes.":"The name must start with a lower case letter."}function L(){return(L=Object(d.a)(l.a.mark((function e(){var t,r,n,s,i,o,d,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===h){e.next=3;break}return c(!0),e.abrupt("return");case 3:if(!(r=M(a))){e.next=8;break}return f(r),c(!0),e.abrupt("return");case 8:return n=JSON.stringify({action:"available",spaceId:a,_out_of_quota:N.usage_status._out_of_quota}),x(!0),e.next=12,J.post("/spaceregistration",n,{headers:{"Content-Type":"text/plain;charset=UTF-8"}});case 12:if(s=e.sent,E.i.logDebug("CreateSpaceSetName -> availability_req_res: ",s),"undefined"!==typeof(i=(null===(t=s.data)||void 0===t?void 0:t.data)||{})._update_main_state&&C(De(i._update_main_state)),"undefined"!==typeof i._update_space&&null!==i._update_space&&C(Re(i._update_space)),void 0===(o=te(s))){e.next=22;break}return x(!1),"quota"===o.context?(C(ct(o)),y.push("/")):f(o.description),e.abrupt("return");case 22:if(d=s.data.data.available,p=s.data.data.valid,d&&p){e.next=30;break}return E.i.logDebug("not available"),c(!0),f("Space name ".concat(a," is not available, please choose another.")),x(!1),e.abrupt("return");case 30:C(Fn(a)),x(!1),y.push("/createspace/finalize");case 33:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return Boolean(void 0===h)}return In((function(){var e=rt(N);"0"!==e.code&&(C(ct(e)),y.push("/"))})),Object(Ge.jsxs)(Ge.Fragment,{children:[Object(Ge.jsxs)(m.a,{className:"create-space-set-name-row header-row",children:[Object(Ge.jsx)(j.a,{md:6,children:Object(Ge.jsx)(en,{text:"Back",to:"skeleton"===w?"/createspace/stepone":"/createspace/templatepicker"})}),Object(Ge.jsxs)(j.a,{md:6,className:"buttons-col",children:[Object(Ge.jsx)(E.a,{variant:"noframe",text:"Cancel",onClick:function(e){e.preventDefault(),C(Fe({onboarding_step:0})),y.push("/")}}),Object(Ge.jsx)(ja.b,{to:"/createspace/finalize",children:Object(Ge.jsx)(E.a,{onClick:S,text:"Continue"})})]})]}),Object(Ge.jsxs)(m.a,{className:"create-space-set-name-row",children:[Object(Ge.jsxs)(j.a,{md:6,children:[Object(Ge.jsxs)("h2",{children:["Step ","skeleton"===w?2:3]}),Object(Ge.jsx)("h1",{children:"What do you want to call your space?"}),Object(Ge.jsx)("p",{children:"This will also be used for your space's URL."})]}),Object(Ge.jsxs)(j.a,{md:5,className:"input-col",children:[Object(Ge.jsx)($e.a,{onSubmit:S,children:Object(Ge.jsxs)(et.a,{children:[Object(Ge.jsx)(Wa.a,{value:a,onChange:function(e){e.preventDefault();var t=e.target.value,a=M(t);r(t),f(a)},isValid:o&&P(),isInvalid:o&&!P(),placeholder:"Enter a name for your space"}),Object(Ge.jsx)(et.a.Append,{children:Object(Ge.jsxs)(et.a.Text,{children:[".",k()]})})]})}),o?Object(Ge.jsx)("small",{className:"validation-error",children:null!==h&&void 0!==h?h:""}):""]})]}),Object(Ge.jsx)(E.d,{show:v,close:function(){},header:"Setting up space",message:""})]})};a(342);var Un=function(){var e=Object(_.c)(),t=Object(O.g)(),a=Object(n.useState)(!0),r=Object(Xe.a)(a,2),s=r[0],i=r[1],o=Object(n.useState)(void 0),c=Object(Xe.a)(o,2),l=c[0],d=c[1],p=Object(_.d)((function(e){return e.main})),u=Object(_.d)((function(e){return e.main.user})),h=Object(_.d)((function(e){return e.createSpace})),f=new URLSearchParams(Object(O.h)().search).get("is_resetting_space");return E.i.logDebug("CreateSpaceFinalize -> newSpaceParams:",h),Object(n.useEffect)((function(){if(void 0!==u.is_resetting_space||void 0!==h.spaceId&&0!==h.spaceId.length)if(!f||An(p.spaces,f)){i(!0);var a=JSON.stringify({action:f?"reset":"register",spaceId:f||h.spaceId,template:h.template,_out_of_quota:p.usage_status._out_of_quota});J.post("/spaceregistration",a,{headers:{"Content-Type":"text/plain;charset=UTF-8"}}).then((function(a){var r;E.i.logDebug("CreateSpaceFinalize -> space registration -> req_res: ",a);var n=(null===(r=a.data)||void 0===r?void 0:r.data)||{};"undefined"!==typeof n._update_main_state&&e(De(n._update_main_state)),"undefined"!==typeof n._update_space&&null!==n._update_space&&e(f?Re(n._update_space):Ae(n._update_space));var s=te(a);if(void 0!==s)if(i(!1),"quota"===s.context)e(ct(s)),t.push("/");else switch(s.code){case"NO_SPACE_ID":case"INVALID_NAME":d("Space name is invalid.");break;case"SPACE_NAME_OWNED":d('The name "'.concat(h.spaceId,'" is already owned by you, please try another one'));break;case"NAME_TAKEN":d('The name "'.concat(h.spaceId,'" is already taken, please try another one'));break;default:d(s.description)}else{e(Y({id:M(),dismissed:!1,type:"success",header:f?"Space reset":"Space created",body:f?Object(Ge.jsxs)("span",{children:["Space named ",Object(Ge.jsx)("strong",{children:f})," has been reset with template ",Object(Ge.jsx)("strong",{children:h.template}),"."]}):Object(Ge.jsxs)("span",{children:["Space named ",Object(Ge.jsx)("strong",{children:h.spaceId})," is set up and ready for use."]})}));var o=f;e(Fe({onboarding_step:0,is_resetting_space:void 0})),e(F("CreateSpace::reset")),t.push(o?"/space/"+o:"/")}}))}else t.push("/")}),[e,t,h]),Object(Ge.jsxs)(Ge.Fragment,{children:[Object(Ge.jsx)(m.a,{className:"create-space-step-one-row",children:Object(Ge.jsx)(j.a,{children:Object(Ge.jsx)(en,{text:"Back",to:"/"})})}),Object(Ge.jsxs)(m.a,{className:"create-space-step-one-row",children:[Object(Ge.jsxs)(j.a,{md:6,children:[Object(Ge.jsx)("h2",{children:"Almost there"}),Object(Ge.jsx)("h1",{children:"Great work!"}),Object(Ge.jsx)("p",{children:"We're busy creating your space and files"})]}),void 0!==l?Object(Ge.jsx)(j.a,{children:Object(Ge.jsx)(N.a,{variant:"danger",children:l})}):Object(Ge.jsx)(Ge.Fragment,{})]}),Object(Ge.jsx)(E.d,{show:s,close:function(){},header:"Setting up space",message:""})]})},Hn=(a(343),a.p+"static/media/architects.429a19be.png"),Vn=a.p+"static/media/photolio.8de42a0f.png",zn=a.p+"static/media/photographer.7233e4ac.png",qn=a.p+"static/media/photographer-2.fe0f2ea4.png",Yn=a.p+"static/media/portfolio.9d781100.png",Zn=a.p+"static/media/pizza.64b87a8d.png",Kn=a.p+"static/media/parallax.db628b40.png",Gn=a.p+"static/media/wedding.3e2d9e1b.png",Wn=a.p+"static/media/soon.0fe51410.png",Qn=a.p+"static/media/band.5302e0f3.png",Xn=a.p+"static/media/gourmetcatering.5419243a.png",Jn=a.p+"static/media/blog.4a07092d.png",$n=a.p+"static/media/foodblog.d251768c.png",es=a.p+"static/media/fashionblog.e230494c.png",ts=a.p+"static/media/cafe.1ab68ff1.png",as=a.p+"static/media/clothingstore.b39982cf.png",rs=a.p+"static/media/cv.50b7edf2.png",ns=a.p+"static/media/natureportfolio.ff31d375.png",ss=a.p+"static/media/peopleportfolio2.339a91d1.png",is=a.p+"static/media/darkportfolio.03c51fb1.png",os=a.p+"static/media/blackandwhiteportfolio.97cb0695.png",cs=a.p+"static/media/interiordesign.11e43bd1.png",ls=a.p+"static/media/modalrestaurant.46f3dce7.png",ds=a.p+"static/media/startpage.9da41ec0.png",ps=a.p+"static/media/startup.23e7b962.png",us=a.p+"static/media/applaunch.5b9a5f04.png",hs=a.p+"static/media/marketing.8014c60d.png",fs=a.p+"static/media/art.dc11b4bd.png",bs=a.p+"static/media/webpage.14e16ff4.png",ms=a.p+"static/media/socialmedia.dc99fafa.png",js=a.p+"static/media/apartmentrental.f0c98345.png",gs=a.p+"static/media/travel.3552d146.png",vs=a.p+"static/media/mail.5828bfc4.png",Os=a.p+"static/media/barbershop.79945745.png",_s=[{template_id:"blackandwhiteportfolio",title:"Black & white portfolio",thumbnail:os},{template_id:"darkportfolio",title:"Dark portfolio",thumbnail:is},{template_id:"cv",title:"CV",thumbnail:rs},{template_id:"dogcare",title:"Dog caretaker",thumbnail:a.p+"static/media/dogcare.85abef40.png"},{template_id:"barbershop",title:"The Barbershop",thumbnail:Os},{template_id:"blog",title:"Blog",thumbnail:Jn},{template_id:"fashionblog",title:"Fashion blog",thumbnail:es},{template_id:"photographer2",title:"Photographer",thumbnail:qn},{template_id:"photographer",title:"Photographer",thumbnail:zn},{template_id:"photolio",title:"Photolio",thumbnail:Vn},{template_id:"startup",title:"Startup",thumbnail:ps},{template_id:"applaunch",title:"App launch",thumbnail:us},{template_id:"parallax",title:"Parallax",thumbnail:Kn},{template_id:"band",title:"Band",thumbnail:Qn},{template_id:"architect",title:"Architect",thumbnail:Hn},{template_id:"wedding",title:"Wedding",thumbnail:Gn},{template_id:"modalrestaurant",title:"Modal restaurant",thumbnail:ls},{template_id:"pizza",title:"Pizza",thumbnail:Zn},{template_id:"gourmetcatering",title:"Gourmet catering",thumbnail:Xn},{template_id:"cafe",title:"Cafe",thumbnail:ts},{template_id:"natureportfolio",title:"Nature portfolio",thumbnail:ns},{template_id:"portfolio",title:"Portfolio",thumbnail:Yn},{template_id:"peopleportfolio2",title:"People portfolio II",thumbnail:ss},{template_id:"soon",title:"Coming soon",thumbnail:Wn},{template_id:"clothingstore",title:"Clothing store",thumbnail:as},{template_id:"interiordesign",title:"Interior design",thumbnail:cs},{template_id:"startpage",title:"Start page",thumbnail:ds},{template_id:"marketing",title:"Marketing",thumbnail:hs},{template_id:"art",title:"Art",thumbnail:fs},{template_id:"webpage",title:"Web page",thumbnail:bs},{template_id:"socialmedia",title:"Social media",thumbnail:ms},{template_id:"apartmentrental",title:"Apartment rental",thumbnail:js},{template_id:"travel",title:"Travel",thumbnail:gs},{template_id:"mail",title:"Mail",thumbnail:vs},{template_id:"foodblog",title:"Food blog",thumbnail:$n}];var xs,ys=function(){var e=Object(_.d)((function(e){return e.main})),t=e.user,a=Object(n.useState)("blackandwhiteportfolio"),r=Object(Xe.a)(a,2),s=r[0],i=r[1],o=Object(O.g)(),c=Object(_.c)(),l=new URLSearchParams(Object(O.h)().search).get("is_resetting_space");function d(){c(Tn(s))}return In((function(){var t;if(l){if(!An(e.spaces,l))return void o.push("/");t=nt(e)}else t=rt(e);"0"!==t.code&&(c(ct(t)),o.push("/"))})),Object(Ge.jsxs)(Ge.Fragment,{children:[Object(Ge.jsxs)(m.a,{className:"create-space-template-picker header-row set-to-top",children:[Object(Ge.jsx)(j.a,{children:Object(Ge.jsx)(en,{text:"Back",to:"/createspace/stepone".concat(l?"?is_resetting_space="+l:"")})}),Object(Ge.jsxs)(j.a,{md:6,className:"buttons-col",children:[Object(Ge.jsx)(E.a,{variant:"noframe",onClick:function(e){e.preventDefault(),c(Fe({onboarding_step:0})),o.push("/")},text:"I'll do this later"}),(E.i.logAll(t),l?Object(Ge.jsx)(ja.b,{onClick:d,to:"/createspace/finalize?is_resetting_space="+l,children:Object(Ge.jsx)(E.a,{variant:"primary",text:"Continue"})}):Object(Ge.jsx)(ja.b,{onClick:d,to:"/createspace/setname",children:Object(Ge.jsx)(E.a,{variant:"primary",text:"Continue"})}))]})]}),Object(Ge.jsx)(m.a,{className:"create-space-template-picker",children:Object(Ge.jsxs)(j.a,{md:6,children:[Object(Ge.jsx)("h2",{children:"Step 2"}),Object(Ge.jsx)("h1",{children:"Choose a template"})]})}),Object(Ge.jsx)(m.a,{className:"create-space-template-picker templates",children:_s.map((function(e){var t=s===e.template_id;return Object(Ge.jsx)(j.a,{md:4,className:"template-button-wrapper",children:Object(Ge.jsxs)("div",{className:"template-button"+(t?" selected":""),onClick:function(){return i(e.template_id)},children:[Object(Ge.jsx)(Mn,{selected:t}),Object(Ge.jsx)("img",{src:e.thumbnail,alt:e.title}),Object(Ge.jsxs)("p",{children:["Start with ",e.title]})]})},e.template_id)}))})]})},Cs=a(20),ws=a.n(Cs);function Ns(){return Ns=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ns.apply(this,arguments)}function Es(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Ss(e,t){var a=e.title,r=e.titleId,s=Es(e,["title","titleId"]);return n.createElement("svg",Ns({width:25,height:25,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,xs||(xs=n.createElement("path",{d:"M0.390625 12.5C0.390625 19.1878 5.81216 24.6094 12.5 24.6094C19.1878 24.6094 24.6094 19.1878 24.6094 12.5C24.6094 5.81221 19.1878 0.390625 12.5 0.390625C5.81221 0.390625 0.390625 5.81216 0.390625 12.5ZM12.5 21.4844V3.51562C17.4661 3.51562 21.4844 7.53472 21.4844 12.5C21.4844 17.4661 17.4653 21.4844 12.5 21.4844Z",fill:"#282A35"})))}var ks,Ms=n.forwardRef(Ss),Ls=(a.p,function(e){void 0===e&&(e={});var t,a="",r="";for(t in e)e.hasOwnProperty(t)&&!0===e[t]&&(a+=r+t,r=" ");return a}),Ps=function(e){return unescape(encodeURIComponent(e)).length},Ds=a(207),Fs=(a(344),a(201));!function(e){e[e.Unknown=0]="Unknown",e[e.Backspace=1]="Backspace",e[e.Tab=2]="Tab",e[e.Enter=3]="Enter",e[e.Shift=4]="Shift",e[e.Ctrl=5]="Ctrl",e[e.Alt=6]="Alt",e[e.PauseBreak=7]="PauseBreak",e[e.CapsLock=8]="CapsLock",e[e.Escape=9]="Escape",e[e.Space=10]="Space",e[e.PageUp=11]="PageUp",e[e.PageDown=12]="PageDown",e[e.End=13]="End",e[e.Home=14]="Home",e[e.LeftArrow=15]="LeftArrow",e[e.UpArrow=16]="UpArrow",e[e.RightArrow=17]="RightArrow",e[e.DownArrow=18]="DownArrow",e[e.Insert=19]="Insert",e[e.Delete=20]="Delete",e[e.KEY_0=21]="KEY_0",e[e.KEY_1=22]="KEY_1",e[e.KEY_2=23]="KEY_2",e[e.KEY_3=24]="KEY_3",e[e.KEY_4=25]="KEY_4",e[e.KEY_5=26]="KEY_5",e[e.KEY_6=27]="KEY_6",e[e.KEY_7=28]="KEY_7",e[e.KEY_8=29]="KEY_8",e[e.KEY_9=30]="KEY_9",e[e.KEY_A=31]="KEY_A",e[e.KEY_B=32]="KEY_B",e[e.KEY_C=33]="KEY_C",e[e.KEY_D=34]="KEY_D",e[e.KEY_E=35]="KEY_E",e[e.KEY_F=36]="KEY_F",e[e.KEY_G=37]="KEY_G",e[e.KEY_H=38]="KEY_H",e[e.KEY_I=39]="KEY_I",e[e.KEY_J=40]="KEY_J",e[e.KEY_K=41]="KEY_K",e[e.KEY_L=42]="KEY_L",e[e.KEY_M=43]="KEY_M",e[e.KEY_N=44]="KEY_N",e[e.KEY_O=45]="KEY_O",e[e.KEY_P=46]="KEY_P",e[e.KEY_Q=47]="KEY_Q",e[e.KEY_R=48]="KEY_R",e[e.KEY_S=49]="KEY_S",e[e.KEY_T=50]="KEY_T",e[e.KEY_U=51]="KEY_U",e[e.KEY_V=52]="KEY_V",e[e.KEY_W=53]="KEY_W",e[e.KEY_X=54]="KEY_X",e[e.KEY_Y=55]="KEY_Y",e[e.KEY_Z=56]="KEY_Z",e[e.Meta=57]="Meta",e[e.ContextMenu=58]="ContextMenu",e[e.F1=59]="F1",e[e.F2=60]="F2",e[e.F3=61]="F3",e[e.F4=62]="F4",e[e.F5=63]="F5",e[e.F6=64]="F6",e[e.F7=65]="F7",e[e.F8=66]="F8",e[e.F9=67]="F9",e[e.F10=68]="F10",e[e.F11=69]="F11",e[e.F12=70]="F12",e[e.F13=71]="F13",e[e.F14=72]="F14",e[e.F15=73]="F15",e[e.F16=74]="F16",e[e.F17=75]="F17",e[e.F18=76]="F18",e[e.F19=77]="F19",e[e.NumLock=78]="NumLock",e[e.ScrollLock=79]="ScrollLock",e[e.US_SEMICOLON=80]="US_SEMICOLON",e[e.US_EQUAL=81]="US_EQUAL",e[e.US_COMMA=82]="US_COMMA",e[e.US_MINUS=83]="US_MINUS",e[e.US_DOT=84]="US_DOT",e[e.US_SLASH=85]="US_SLASH",e[e.US_BACKTICK=86]="US_BACKTICK",e[e.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",e[e.US_BACKSLASH=88]="US_BACKSLASH",e[e.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",e[e.US_QUOTE=90]="US_QUOTE",e[e.OEM_8=91]="OEM_8",e[e.OEM_102=92]="OEM_102",e[e.NUMPAD_0=93]="NUMPAD_0",e[e.NUMPAD_1=94]="NUMPAD_1",e[e.NUMPAD_2=95]="NUMPAD_2",e[e.NUMPAD_3=96]="NUMPAD_3",e[e.NUMPAD_4=97]="NUMPAD_4",e[e.NUMPAD_5=98]="NUMPAD_5",e[e.NUMPAD_6=99]="NUMPAD_6",e[e.NUMPAD_7=100]="NUMPAD_7",e[e.NUMPAD_8=101]="NUMPAD_8",e[e.NUMPAD_9=102]="NUMPAD_9",e[e.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",e[e.NUMPAD_ADD=104]="NUMPAD_ADD",e[e.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",e[e.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",e[e.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",e[e.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",e[e.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",e[e.ABNT_C1=110]="ABNT_C1",e[e.ABNT_C2=111]="ABNT_C2",e[e.MAX_VALUE=112]="MAX_VALUE"}(ks||(ks={}));var Ts,Is=function e(){Object(p.a)(this,e)};Is.CtrlCmd=2048,Is.Shift=1024,Is.Alt=512,Is.WinCtrl=256,function(e){e[e.light=0]="light",e[e["vs-dark"]=1]="vs-dark"}(Ts||(Ts={}));var As=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(e){var r;Object(p.a)(this,a),(r=t.call(this,e)).editorRef=s.a.createRef(),r.cachedContents="",r.componentDidUpdate=function(e){e.value!==r.cachedContents&&(r.cachedContents=e.value)},r.getEditorContents=function(){return r.state.instantiated?r.editorRef.current.getValue():""},r.handleSave=function(e){r.cachedContents=r.getEditorContents(),void 0!==r.props.onSave&&r.props.onSave(e)},r.toggleDarkLightTheme=function(){var e="light"===r.state.theme?"vs-dark":"light";return r.setState({theme:e}),localStorage.setItem("code_editor.theme",e),"undefined"!==typeof r.props.onChangedTheme&&r.props.onChangedTheme(e),e},r.handleEditorDidMount=function(e,t){r.state.instantiated||(r.setState({instantiated:!0}),"std"===r.state.mode&&(t.addAction({id:"TOGGLE_DARK_LIGHT_THEME",label:"Toggle dark/light theme",keybindings:[Is.Alt|ks.KEY_T],run:function(e){r.toggleDarkLightTheme()}}),t.addAction({id:"SAVE",label:"Save",keybindings:[Is.CtrlCmd|ks.KEY_S],run:function(e){E.i.logDebug("hotkey save event from monaco editor"),r.handleSave(r.editorRef.current)}}),void 0!==r.props.onChangedContents&&t.onDidChangeModelContent((function(e){E.i.logDebug("editorRef.onDidChangeModelContent");var t=r.getEditorContents(),a=r.cachedContents===t;r.props.onChangedContents(a,t)}))),r.editorRef.current=t,r.props.setMountHook&&void 0!==r.props.editorDidMount&&r.props.editorDidMount(e,t))},r.hotkeyToggleDarkLightTheme=function(e){e.preventDefault(),r.toggleDarkLightTheme()},r.hotKeyHandleSave=function(e){e.preventDefault(),E.i.logDebug("hotkey save event from hot keys"),r.handleSave(r.editorRef.current)},r.hotKeyMap={TOGGLE_DARK_LIGHT_THEME:"alt+t",SAVE:"ctrl+s"},r.hotKeyHandler={TOGGLE_DARK_LIGHT_THEME:r.hotkeyToggleDarkLightTheme,SAVE:r.hotKeyHandleSave};var n,i=B(r.props,a.defaultProps);if(i.instantiated=!1,i.wrapperClassName||(i.wrapperClassName=Ls(i.wrapperClass)),i.container.class["theme-".concat(i.theme)]=!0,"example"===i.mode&&I(i,{options:{minimap:{enabled:!1},readOnly:!0,scrollbar:{vertical:"hidden",horizontal:"hidden"}}}),"auto"===i.height){var o=((n=i.value)?n.split(/\r\n|\r|\n/).length:0)*(i.textLineHeight||1);o+=i.options.padding.top+i.options.padding.bottom,i.height=o+"px"}else"100%"===i.height&&"auto"===i.container.style.height&&(i.container.style.height="100%");return r.cachedContents=i.value,E.i.logDebug("preState:",i),r.state=i,r}return Object(u.a)(a,[{key:"componentDidMount",value:function(){"undefined"!==typeof this.props.cross_ref&&(this.props.cross_ref.CodeEditor={toggleDarkLightTheme:this.toggleDarkLightTheme})}},{key:"componentWillUnmount",value:function(){"undefined"!==typeof this.props.cross_ref&&"undefined"!==typeof this.props.cross_ref.CodeEditor&&(this.props.cross_ref.CodeEditor=null,delete this.props.cross_ref.CodeEditor)}},{key:"render",value:function(){return Object(Ge.jsxs)(Ge.Fragment,{children:["std"===this.state.mode&&Object(Ge.jsx)(Fs.GlobalHotKeys,{keyMap:this.hotKeyMap,handlers:this.hotKeyHandler}),Object(Ge.jsx)("div",{className:Ls(this.state.container.class),style:Object(D.a)({},this.state.container.style),children:Object(Ge.jsx)(Ds.a,Object(D.a)(Object(D.a)({},this.state),{},{editorDidMount:this.handleEditorDidMount}))})]})}}]),a}(s.a.Component);As.defaultProps={height:"100%",width:"100%",language:"javascript",theme:localStorage.getItem("code_editor.theme")||"light",value:"",container:{class:{"CodeEditor-container":!0},style:{height:"auto"}},wrapperClass:{"CodeEditor-section":!0},mode:"std",textLineHeight:19,setMountHook:!1,editorDidMount:void 0,options:{padding:{top:20,bottom:20}},cross_ref:void 0};var Rs=As,Bs=a(78),Us=a.n(Bs);var Hs,Vs=function(e){var t=Object(n.useState)(e.fill?e.fill:"#282a35"),a=Object(Xe.a)(t,2),r=a[0],s=a[1];return Object(n.useEffect)((function(){s(e.fill||"#282a35")}),[e.fill]),Object(Ge.jsx)("div",{className:e.className,children:Object(Ge.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"lock",className:"svg-inline--fa fa-lock fa-w-14",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:Object(Ge.jsx)("path",{fill:r,d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"})})})};!function(e){e.HowTo="how_to",e.Folders="folders",e.DarkLight="dark_light"}(Hs||(Hs={}));var zs,qs=function(e){function t(t){t.preventDefault(),t.stopPropagation(),e.disabled||e.handleClick(t,e.type)}return e.tooltip?Object(Ge.jsx)(jt,{text:e.tooltip,placement:"right-center",children:Object(Ge.jsxs)("div",{className:Us.a.panel_button+(e.disabled||e.locked?" "+Us.a.disabled:"")+(e.className?" "+e.className:""),onClick:t,children:[e.children,e.locked&&Object(Ge.jsx)(Vs,{className:Us.a.locked_icon})]})}):Object(Ge.jsxs)("div",{className:Us.a.panel_button+(e.disabled||e.locked?" "+Us.a.disabled:"")+(e.className?" "+e.className:""),onClick:t,children:[e.children,e.locked&&Object(Ge.jsx)(Vs,{className:Us.a.locked_icon})]})};function Ys(){return Ys=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ys.apply(this,arguments)}function Zs(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Ks(e,t){var a=e.title,r=e.titleId,s=Zs(e,["title","titleId"]);return n.createElement("svg",Ys({xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":"true",focusable:"false","data-prefix":"fal","data-icon":"book",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:"svg-inline--fa fa-book fa-w-14 fa-flip-horizontal fa-flip-vertical fa-5x",width:448,height:512,ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,zs||(zs=n.createElement("path",{d:"M356 160H188c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8c0 6.6-5.4 12-12 12zm12 52v-8c0-6.6-5.4-12-12-12H188c-6.6 0-12 5.4-12 12v8c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12zm64.7 268h3.3c6.6 0 12 5.4 12 12v8c0 6.6-5.4 12-12 12H80c-44.2 0-80-35.8-80-80V80C0 35.8 35.8 0 80 0h344c13.3 0 24 10.7 24 24v368c0 10-6.2 18.6-14.9 22.2-3.6 16.1-4.4 45.6-.4 65.8zM128 384h288V32H128v352zm-96 16c13.4-10 30-16 48-16h16V32H80c-26.5 0-48 21.5-48 48v320zm372.3 80c-3.1-20.4-2.9-45.2 0-64H80c-64 0-64 64 0 64h324.3z",className:""})))}var Gs=n.forwardRef(Ks),Ws=(a.p,a(47)),Qs=a.n(Ws);var Xs=function(e){return Object(Ge.jsx)("svg",{className:e.className,width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(Ge.jsx)("path",{d:"M14.7949 12.9697L11.874 10.0488C11.7422 9.91699 11.5635 9.84375 11.376 9.84375H10.8984C11.707 8.80957 12.1875 7.50879 12.1875 6.09375C12.1875 2.72754 9.45996 0 6.09375 0C2.72754 0 0 2.72754 0 6.09375C0 9.45996 2.72754 12.1875 6.09375 12.1875C7.50879 12.1875 8.80957 11.707 9.84375 10.8984V11.376C9.84375 11.5635 9.91699 11.7422 10.0488 11.874L12.9697 14.7949C13.2451 15.0703 13.6904 15.0703 13.9629 14.7949L14.792 13.9658C15.0674 13.6904 15.0674 13.2451 14.7949 12.9697ZM6.09375 9.84375C4.02246 9.84375 2.34375 8.16797 2.34375 6.09375C2.34375 4.02246 4.01953 2.34375 6.09375 2.34375C8.16504 2.34375 9.84375 4.01953 9.84375 6.09375C9.84375 8.16504 8.16797 9.84375 6.09375 9.84375Z",fill:"#282A35",fillOpacity:"0.6"})})},Js=a(400),$s=a(401);var ei=function(e){var t=s.a.useState(!1),a=Object(Xe.a)(t,2),r=a[0],n=a[1],i=s.a.useState([]),o=Object(Xe.a)(i,2),c=o[0],p=o[1],u=s.a.useState(1),h=Object(Xe.a)(u,2),f=h[0],b=h[1],m=s.a.useState(1),j=Object(Xe.a)(m,2),g=j[0],O=j[1],_=s.a.useRef(!1),x=s.a.useRef(void 0),y=s.a.useRef(void 0),C=s.a.useRef(),w=s.a.useRef(void 0),N=s.a.useRef(void 0);function S(){y.current||(y.current=setTimeout((function(){y.current=void 0,n(!0)}),400))}function k(e){E.i.logDebug("Todo response",e);var t=(e.data.articles||e.data.results||[]).map((function(e){return{title:e.title||"unknown article",html_url:e.html_url||"",draft:e.draft,body:e.body}})).filter((function(e){return!e.draft}));w.current=e.data.next_page,N.current=e.data.previous_page,b(e.data.page||0),O(e.data.page_count||0),p(t),n(!1)}function M(){return L.apply(this,arguments)}function L(){return(L=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(),"https://support.w3schools.com/api/v2/help_center/en-gb/sections/4410243573265-How-to-library/articles",t={},e.next=5,se("https://support.w3schools.com/api/v2/help_center/en-gb/sections/4410243573265-How-to-library/articles",t);case 5:k(e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),t.preventDefault(),S(),e.next=5,se(w.current,{});case 5:k(e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),t.preventDefault(),S(),e.next=5,se(N.current,{});case 5:k(e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.current&&clearTimeout(x.current),x.current=setTimeout(Object(d.a)(l.a.mark((function e(){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x.current=void 0,0!==(a=t.nativeEvent.target.value.trim()).length){e.next=6;break}M(),e.next=12;break;case 6:return S(),r='https://support.w3schools.com/api/v2/help_center/articles/search.json?query="'.concat(a,'"&section=4410243573265-How-to-library'),e.next=10,se(r,{});case 10:k(e.sent);case 12:case"end":return e.stop()}}),e)}))),400);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){var t=document.createElement("html");t.innerHTML=e.body;var a=t.getElementsByTagName("a"),r=void 0;return a.length&&(r=a[0].getAttribute("href")),r=r||e.html_url,t.remove(),r}return s.a.useEffect((function(){return _.current||(_.current=!0,M()),function(){x.current&&(clearTimeout(x.current),x.current=void 0),y.current&&(clearTimeout(y.current),y.current=void 0)}})),Object(Ge.jsxs)("div",{className:"".concat(Qs.a.panel).concat(e.className?" "+e.className:""),style:e.style,onScroll:function(e){return e.stopPropagation()},ref:C,children:[Object(Ge.jsxs)("div",{className:Qs.a.header,children:[Object(Ge.jsx)("div",{className:"row pr-0 "+Qs.a.header_row,children:Object(Ge.jsx)("div",{className:Qs.a.header_text,children:"How to library"})}),Object(Ge.jsxs)("div",{className:"input-group "+Qs.a.input_group,children:[Object(Ge.jsx)("div",{children:"What are you looking for?"}),Object(Ge.jsx)("input",{type:"text",className:"form-control",placeholder:"e.g. navigation bar","aria-label":"Search how to library",onChange:function(e){return F.apply(this,arguments)}}),Object(Ge.jsx)(Xs,{className:Qs.a.search_icon})]})]}),Object(Ge.jsx)("div",{className:Qs.a._divider}),Object(Ge.jsx)("div",{className:Qs.a.body,children:r?Object(Ge.jsx)(Cr,{top_displacement:"0px"}):c.length?c.map((function(e,t){return Object(Ge.jsx)("a",{className:Qs.a.panel_item,href:T(e),target:"_blank",rel:"noreferrer",children:e.title},"todo_"+t)})):Object(Ge.jsx)("div",{children:"Nothing found"})}),Object(Ge.jsx)("div",{className:Qs.a._divider}),Object(Ge.jsxs)("div",{className:Qs.a.footer,children:[Object(Ge.jsx)(jt,{text:"Previous",disabled:e.disabled||r||f<=1,children:Object(Ge.jsx)(v.a,{disabled:e.disabled||r||f<=1,className:"btn-sm-round "+Qs.a.round_btn,onClick:function(e){return D.apply(this,arguments)},children:Object(Ge.jsx)(Js.a,{})})}),c.length>0&&Object(Ge.jsxs)("div",{children:[f," of ",g]}),Object(Ge.jsx)(jt,{text:"Next",disabled:e.disabled||r||f>=g,children:Object(Ge.jsx)(v.a,{disabled:e.disabled||r||f>=g,onClick:function(e){return P.apply(this,arguments)},className:"btn-sm-round "+Qs.a.round_btn,children:Object(Ge.jsx)($s.a,{})})})]})]})};var ti=function(e){var t=e.size,a=e.className;return Object(Ge.jsx)("svg",{className:a,width:t,height:t,viewBox:"0 0 16 17",xmlns:"http://www.w3.org/2000/svg",children:Object(Ge.jsx)("path",{d:"M13.5 9.5H13C12.8674 9.5 12.7402 9.55268 12.6464 9.64645C12.5527 9.74021 12.5 9.86739 12.5 10V14.8125C12.5 14.8622 12.4802 14.9099 12.4451 14.9451C12.4099 14.9802 12.3622 15 12.3125 15H1.6875C1.63777 15 1.59008 14.9802 1.55492 14.9451C1.51975 14.9099 1.5 14.8622 1.5 14.8125V4.1875C1.5 4.13777 1.51975 4.09008 1.55492 4.05492C1.59008 4.01975 1.63777 4 1.6875 4H6.5C6.63261 4 6.75979 3.94732 6.85355 3.85355C6.94732 3.75979 7 3.63261 7 3.5V3C7 2.86739 6.94732 2.74021 6.85355 2.64645C6.75979 2.55268 6.63261 2.5 6.5 2.5H1.5C1.10218 2.5 0.720644 2.65804 0.43934 2.93934C0.158035 3.22064 0 3.60218 0 4L0 15C0 15.3978 0.158035 15.7794 0.43934 16.0607C0.720644 16.342 1.10218 16.5 1.5 16.5H12.5C12.8978 16.5 13.2794 16.342 13.5607 16.0607C13.842 15.7794 14 15.3978 14 15V10C14 9.86739 13.9473 9.74021 13.8536 9.64645C13.7598 9.55268 13.6326 9.5 13.5 9.5ZM15.625 0.5H11.375C11.3009 0.500065 11.2284 0.522094 11.1668 0.563304C11.1052 0.604514 11.0572 0.663057 11.0289 0.731538C11.0005 0.80002 10.9931 0.875369 11.0075 0.948068C11.022 1.02077 11.0576 1.08756 11.11 1.14L12.6159 2.64656L4.10969 11.1528C4.07473 11.1877 4.04699 11.229 4.02806 11.2746C4.00913 11.3202 3.99939 11.3691 3.99939 11.4184C3.99939 11.4678 4.00913 11.5167 4.02806 11.5622C4.04699 11.6078 4.07473 11.6492 4.10969 11.6841L4.81687 12.3912C4.85171 12.4262 4.89311 12.4539 4.93869 12.4729C4.98427 12.4918 5.03314 12.5015 5.0825 12.5015C5.13186 12.5015 5.18073 12.4918 5.22631 12.4729C5.27189 12.4539 5.31329 12.4262 5.34812 12.3912L13.8544 3.88469L15.3609 5.39094C15.4135 5.44305 15.4803 5.47845 15.5529 5.49268C15.6255 5.50691 15.7007 5.49933 15.7691 5.47089C15.8374 5.44246 15.8958 5.39444 15.9369 5.33289C15.978 5.27134 15.9999 5.19901 16 5.125V0.875C16 0.775544 15.9605 0.680161 15.8902 0.609835C15.8198 0.539509 15.7245 0.5 15.625 0.5V0.5Z"})})};var ai=function(e){var t=e.size,a=e.className;return Object(Ge.jsx)("svg",{className:a,width:t,height:t,viewBox:"0 0 8 15",xmlns:"http://www.w3.org/2000/svg",children:Object(Ge.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.35355 1.14645C7.54882 1.34171 7.54882 1.65829 7.35355 1.85355L1.70711 7.5L7.35355 13.1464C7.54882 13.3417 7.54882 13.6583 7.35355 13.8536C7.15829 14.0488 6.84171 14.0488 6.64645 13.8536L0.646447 7.85355C0.451184 7.65829 0.451184 7.34171 0.646447 7.14645L6.64645 1.14645C6.84171 0.951184 7.15829 0.951184 7.35355 1.14645Z",strokeLinecap:"round",strokeLinejoin:"round"})})};var ri=function(e){var t=e.size,a=void 0===t?25:t,r=e.fill,n=void 0===r?"#282A35":r,s=e.className;return Object(Ge.jsxs)("svg",{width:a-1,height:a,viewBox:"0 0 24 25",fill:"none",className:s,xmlns:"http://www.w3.org/2000/svg",children:[Object(Ge.jsx)("rect",{x:"1",y:"1.5",width:"22",height:"22",rx:"4",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Ge.jsx)("rect",{y:"7.26001",width:"24",height:"2",fill:n})]})};var ni=function(e){var t=e.size,a=void 0===t?25:t,r=e.fill,n=void 0===r?"#282A35":r,s=e.className;return Object(Ge.jsxs)("svg",{width:a-1,height:a,viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:[Object(Ge.jsx)("rect",{x:"1",y:"1.5",width:"22",height:"22",rx:"4",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Ge.jsx)("rect",{y:"7.26001",width:"24",height:"2",fill:n}),Object(Ge.jsx)("rect",{x:"13.4404",y:"7.26001",width:"2",height:"17.24",fill:n})]})};var si,ii=function(e){var t=e.size,a=void 0===t?25:t,r=e.fill,n=void 0===r?"#282A35":r,s=e.className;return Object(Ge.jsxs)("svg",{width:a-1,height:a,viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:s,children:[Object(Ge.jsx)("rect",{x:"1",y:"1.5",width:"22",height:"22",rx:"4",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(Ge.jsx)("rect",{y:"7.26001",width:"24",height:"2",fill:n}),Object(Ge.jsx)("rect",{y:"14.5",width:"24",height:"2",fill:n})]})},oi=a(137),ci=a.n(oi);!function(e){e.ERROR="error",e.DEFAULT="default"}(si||(si={}));var li=function(e){var t=s.a.createRef(),a=s.a.useRef(null),r=s.a.useRef(null),n=s.a.useRef(0),i=s.a.useState(0),o=Object(Xe.a)(i,2),c=o[0],l=o[1],d=s.a.useState(!1),p=Object(Xe.a)(d,2),u=p[0],h=p[1],f=s.a.useState(!1),b=Object(Xe.a)(f,2),m=b[0],j=b[1],g=s.a.useState(!1),v=Object(Xe.a)(g,2),O=v[0],_=v[1],x=s.a.useState(void 0),y=Object(Xe.a)(x,2),C=y[0],w=(y[1],s.a.useCallback((function(){if(t.current){var e=t.current.children.item(0);!m&&e.clientWidth+30>=window.innerWidth?r.current=setTimeout((function(){r.current=null,j(!0)}),2e3):m&&j(!1)}}),[t,m])),N=s.a.useCallback((function(e){w()}),[w]),E=s.a.useCallback((function(){h(!1),r.current&&(clearTimeout(r.current),r.current=null),r.current=setTimeout((function(){r.current=null;var t=n.current;t===e.list.length-1?t=0:t+=1,l(t),e.handleActiveTextSet&&e.handleActiveTextSet(t),h(!0)}),600)}),[e]);return s.a.useEffect((function(){n.current=c}),[c]),s.a.useEffect((function(){return window.addEventListener("resize",N),function(){window.removeEventListener("resize",N)}}),[]),s.a.useEffect((function(){O||(_(!0),r.current=setTimeout((function(){r.current=null,h(!0),a.current=setInterval((function(){e.list.length>1&&E()}),3e4)}),2e3))}),[w,O,e.list.length,E]),s.a.useEffect((function(){u&&w()}),[u]),s.a.useEffect((function(){return function(){a.current&&(clearInterval(a.current),a.current=null),r.current&&(clearTimeout(r.current),r.current=null)}}),[]),Object(Ge.jsx)("div",{ref:t,className:ci.a.footer_text+(u?" "+ci.a.display:"")+(m?" "+ci.a.move:"")+(e.className?" "+e.className:""),style:C,children:e.list[c].element})};var di,pi,ui=function(e){var t=e.size,a=e.className;return Object(Ge.jsx)("svg",{className:a,width:t,height:t,viewBox:"0 0 16 17",xmlns:"http://www.w3.org/2000/svg",children:Object(Ge.jsx)("path",{d:"M15.625 0.750008H14.759C14.5484 0.750008 14.3791 0.923383 14.3841 1.13395L14.4575 4.2142C13.0649 2.11982 10.6809 0.74157 7.97523 0.750039C3.71313 0.763383 0.243353 4.25029 0.25001 8.51238C0.256697 12.7869 3.72392 16.25 8.00001 16.25C9.9977 16.25 11.8188 15.4942 13.1931 14.2529C13.3529 14.1086 13.3604 13.8604 13.2081 13.7081L12.5913 13.0913C12.4508 12.9507 12.224 12.9418 12.0757 13.074C10.9934 14.0389 9.56579 14.625 8.00001 14.625C4.61495 14.625 1.87501 11.8856 1.87501 8.50001C1.87501 5.11495 4.61445 2.37501 8.00001 2.37501C10.4858 2.37501 12.6232 3.85257 13.5836 5.9782L9.63395 5.88416C9.42342 5.87916 9.25001 6.04844 9.25001 6.25907V7.12501C9.25001 7.3321 9.41792 7.50001 9.62501 7.50001H15.625C15.8321 7.50001 16 7.3321 16 7.12501V1.12501C16 0.917914 15.8321 0.750008 15.625 0.750008Z"})})},hi=a(38),fi=a.n(hi);!function(e){e.DEFAULT="default",e.BLOB="blob"}(di||(di={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical",e.NONE="none"}(pi||(pi={}));var bi,mi=function(e){var t=s.a.useRef({width:0,height:0,x:0,y:0}),a=s.a.useState(0),r=Object(Xe.a)(a,2),n=r[0],i=r[1],o=s.a.useState(0),c=Object(Xe.a)(o,2),l=c[0],d=c[1],p=s.a.useState(!1),u=Object(Xe.a)(p,2),h=u[0],f=u[1],b=s.a.useState(!!e.loading),m=Object(Xe.a)(b,2),j=m[0],g=m[1],v=s.a.useState(e.orientation===pi.NONE?pi.VERTICAL:e.orientation),O=Object(Xe.a)(v,2),_=O[0],x=O[1],y=s.a.useRef(null);function C(a){var r,n;a.preventDefault(),a.stopPropagation(),t.current.width=(null===(r=e.refPreviewPane.current)||void 0===r?void 0:r.clientWidth)||0,t.current.height=(null===(n=e.refPreviewPane.current)||void 0===n?void 0:n.clientHeight)||0,t.current.x=a.clientX||a.targetTouches[0].clientX,t.current.y=a.clientY||a.targetTouches[0].clientY,document.addEventListener("mousemove",N),document.addEventListener("mouseup",w),document.addEventListener("touchmove",N),document.addEventListener("touchend",w),f(!0),e.handleMouseDownResizer&&e.handleMouseDownResizer(a)}function w(t){t.preventDefault(),t.stopPropagation(),document.removeEventListener("mouseup",w),document.removeEventListener("mousemove",N),document.removeEventListener("touchmove",N),document.removeEventListener("touchend",w),f(!1),e.handleMouseUpResizer&&e.handleMouseUpResizer(t)}function N(a){if(a.preventDefault(),a.stopPropagation(),_===pi.HORIZONTAL){var r=t.current.height-((a.clientY||a.targetTouches[0].clientY)-t.current.y);document.getElementById("preview_window").style.height=Math.abs(r)+"px"}else{var n=t.current.width-((a.clientX||a.targetTouches[0].clientX)-t.current.x);document.getElementById("preview_window").style.width=Math.abs(n)+"px"}e.handleMouseMoveResizer&&e.handleMouseMoveResizer(a)}return s.a.useEffect((function(){g(!!e.loading)}),[e.loading]),s.a.useEffect((function(){e.orientation===pi.NONE?x(pi.VERTICAL):x(e.orientation)}),[e.orientation]),s.a.useEffect((function(){return y.current=new ResizeObserver((function(e){i(Math.round(e[0].contentRect.width)),d(Math.round(e[0].contentRect.height))})),e.refPreviewPane.current&&y.current&&y.current.observe(e.refPreviewPane.current),function(){y.current&&y.current.disconnect()}}),[e.refPreviewPane]),s.a.useEffect((function(){return e.handleMounted&&e.handleMounted(),function(){y.current&&y.current.disconnect()}}),[]),Object(Ge.jsxs)("div",{id:"preview_window",ref:e.refPreviewPane,className:fi.a.preview_pane+(_===pi.HORIZONTAL?" "+fi.a.preview_horizontal:"")+(e.display?" "+fi.a.display_preview:"")+" "+e.className,onTransitionEnd:e.handleTransitionEnd,children:[Object(Ge.jsx)("div",{className:fi.a.preview_pane_splitter+(_===pi.HORIZONTAL?" "+fi.a.preview_horizontal:""),onMouseDown:C,onTouchStart:C,children:Object(Ge.jsx)("div",{})}),Object(Ge.jsxs)("div",{className:fi.a.preview_top_bar,children:[Object(Ge.jsxs)("div",{className:fi.a.preview_top_top_bar,children:[Object(Ge.jsx)(jt,{text:"Reload preview",placement:"right-center",children:Object(Ge.jsx)("button",{className:fi.a.buttons_preview_pane,disabled:e.disabled||j||e.displayError||!e.externalURL,onClick:e.handleRefresh,children:Object(Ge.jsx)(ui,{size:15})})}),Object(Ge.jsx)("div",{className:fi.a.preview_address_field+(e.typeOf&&e.typeOf===di.BLOB?" "+fi.a.type_error:""),children:e.urlDisplayed}),Object(Ge.jsx)(jt,{text:"View in a new tab",placement:"left-center",children:Object(Ge.jsx)("button",{className:fi.a.buttons_preview_pane,disabled:e.disabled||j||e.displayError||!e.externalURL,children:Object(Ge.jsx)("a",{href:e.externalURL,target:"_blank",rel:"noreferrer",children:Object(Ge.jsx)(ti,{size:15})})})})]}),Object(Ge.jsx)("div",{className:fi.a.preview_top_bottom_bar+" d-none",children:n+" x "+l})]}),Object(Ge.jsxs)("div",{className:fi.a.preview_content,children:[Object(Ge.jsx)("div",{className:fi.a.display_iframe_overlay+(h?"":" d-none")}),Object(Ge.jsxs)("div",{className:fi.a.preview_size_tab+(h?"":" d-none"),children:["Size: ",n+" x "+l]}),!!j&&Object(Ge.jsx)(Cr,{}),e.displayError&&!e.loading?Object(Ge.jsxs)("div",{className:fi.a.preview_error,children:[Object(Ge.jsx)("h5",{children:"An error occured"}),Object(Ge.jsx)("div",{children:"Could not find a index.html file in the root of the space, nor any other html files."}),Object(Ge.jsx)("div",{children:"To view a preview here you need to start editing an html file."})]}):Object(Ge.jsx)("iframe",{title:"Preview",id:"preview_iframe",className:j?fi.a.is_loading:"",ref:e.refIframe,style:{width:"100%",height:"100%"},frameBorder:"0",onLoad:e.handleOnIframeLoaded})]})]})},ji={xml:"xml",txt:"plaintext",svg:"plaintext",js:"javascript",json:"json",html:"html",htm:"html",css:"css",md:"markdown"},gi=1100;!function(e){e.TOP="top",e.BOTTOM="bottom"}(bi||(bi={}));var vi=function(e){var t=Object(_.d)((function(e){return e.main})),a=Object(_.c)(),r=s.a.createRef(),i=s.a.createRef(),c=Object(n.useState)(!1),p=Object(Xe.a)(c,2),u=p[0],h=p[1],f=Object(n.useState)(!1),b=Object(Xe.a)(f,2),m=b[0],j=b[1],g=Object(n.useState)(!0),v=Object(Xe.a)(g,2),x=v[0],y=v[1],C=Object(n.useState)(!1),w=Object(Xe.a)(C,2),N=w[0],S=w[1],k=Object(n.useState)(!1),L=Object(Xe.a)(k,2),D=L[0],F=L[1],T=Object(n.useState)(!1),I=Object(Xe.a)(T,2),A=I[0],B=I[1],U=Object(n.useState)(!1),H=Object(Xe.a)(U,2),V=H[0],z=H[1],q=Object(n.useState)(!1),Z=Object(Xe.a)(q,2),K=Z[0],G=Z[1],W=Object(n.useState)(pi.NONE),Q=Object(Xe.a)(W,2),X=Q[0],J=Q[1],$=Object(n.useState)(localStorage.getItem("code_editor.theme")||"light"),ee=Object(Xe.a)($,2),te=ee[0],ae=ee[1],re=Object(n.useState)([]),se=Object(Xe.a)(re,2),oe=se[0],ce=se[1],le=Object(n.useState)(0),de=Object(Xe.a)(le,2),pe=de[0],ue=de[1],he=Object(n.useState)(!1),fe=Object(Xe.a)(he,2),be=fe[0],me=fe[1],ge=Object(n.useState)(!1),ve=Object(Xe.a)(ge,2),Oe=ve[0],_e=ve[1],xe=Object(n.useState)([{element:Object(Ge.jsxs)("div",{children:[Object(Ge.jsx)("strong",{children:"Tip:"})," There might be a a couple of seconds delay when saving before you see the changes in the preview. Press ",Object(Ge.jsx)("strong",{children:"Run"})," again to reload the preview."]}),type:si.DEFAULT},{element:Object(Ge.jsxs)("div",{children:[Object(Ge.jsx)("strong",{children:"Tip:"})," Press the ",Object(Ge.jsx)("strong",{children:"Reload"})," icon, to refresh the preview. It might take a few seconds before you can see your changes go live."]}),type:si.DEFAULT},{element:Object(Ge.jsxs)("div",{children:[Object(Ge.jsx)("strong",{children:"Tip:"})," Press ",Object(Ge.jsx)("span",{className:ws.a.code_editor_hint_key,children:"F1"})," to show Command palette."]}),type:si.DEFAULT}]),ye=Object(Xe.a)(xe,2),we=ye[0],Ee=(ye[1],Object(n.useState)("plaintext")),Se=Object(Xe.a)(Ee,2),Le=Se[0],Pe=Se[1],Fe=Object(n.useState)(""),Te=Object(Xe.a)(Fe,2),Ie=Te[0],Ae=Te[1],Be=Object(n.useState)(),Ue=Object(Xe.a)(Be,2),He=Ue[0],Ve=Ue[1],ze=s.a.useRef("about:blank"),qe=s.a.useRef("about:blank"),Ye=s.a.useRef(null),Ze=s.a.useRef(null),Ke=s.a.useRef(JSON.parse(localStorage.getItem("w3s-editor")||"")),We=s.a.useRef(""),Qe=s.a.useRef(di.DEFAULT),Je=s.a.useRef({CodeEditor:{}}),$e=s.a.useRef(0),et=s.a.useRef(null),tt=s.a.useRef(!1),at=s.a.useMemo((function(){var e=t.spaces.filter((function(e){return e.id===(t.editor_content.space_id||Ke.current.space_id)}));if(0!==e.length)return e[0].files.find((function(e){return e.path===t.editor_content.file_path}))}),[t.editor_content.file_path,t.editor_content.space_id,t.spaces]),rt=s.a.useMemo((function(){if("text/html"===(null===at||void 0===at?void 0:at.mime_type))return null;var e=t.spaces.filter((function(e){return e.id===(t.editor_content.space_id||Ke.current.space_id)}));if(0===e.length)return null;var a=e[0].files.filter((function(e){return"text/html"===e.mime_type}));if(0===a.length)return null;var r=a.find((function(e){return"index.html"===e.rel_path.toLowerCase()}));return r||(r=a.find((function(e){return 1===e.rel_path.split("/").length}))),r||null}),[null===at||void 0===at?void 0:at.mime_type,t.editor_content.space_id,t.spaces]),nt=s.a.useMemo((function(){return!rt&&!!at&&"text/html"!==at.mime_type}),[at,rt]),st=s.a.useCallback((function(e,t){var a;e&&e.preventDefault(),e&&e.stopPropagation(),!be&&X===pi.VERTICAL&&((null===(a=r.current)||void 0===a?void 0:a.clientWidth)||0)+500>=window.innerWidth&&J(pi.NONE),me(null==t?!be:t)}),[X,be,r]),it=s.a.useCallback((function(e,t){if(e.stopPropagation(),e.preventDefault(),t===Hs.DarkLight)Je.current.CodeEditor.toggleDarkLightTheme();else t!==Ie?(Ae(t),be||(X!==pi.NONE&&window.innerWidth<=gi&&J(pi.NONE),st(e,!0))):be&&st(e,!1)}),[Ie,X,be,st]),ot=s.a.useMemo((function(){var e=new Map,t={child:Object(Ge.jsx)(Gs,{}),type:Hs.HowTo,locked:!1,grouping:bi.TOP,panel:Object(Ge.jsx)(ei,{disabled:x||N})},a={child:Object(Ge.jsx)(Ms,{}),type:Hs.DarkLight,locked:!1,panel:void 0,tooltip:"light"===te?"Switch to dark mode":"Switch to light mode",grouping:bi.BOTTOM,className:ws.a.last_panel_item};return e.set(Hs.HowTo,t),e.set(Hs.DarkLight,a),e}),[x,N,te]),lt=s.a.useCallback((function(e,t){"quota"===e.context?a(ct(e,t)):"BRIFC3"===e.code?a(Y({id:M(),dismissed:!1,type:"error",header:"Your file could not be saved",body:Object(Ge.jsxs)(Ge.Fragment,{children:["Sorry, the file ",Object(Ge.jsx)("strong",{children:Ne(t.base_name)})," could not be saved. This is a permanent error with code ",e.code,". Please contact support."]})})):a(Y({id:M(),dismissed:!1,type:"error",header:"File processing error",body:"".concat(e.description)}))}),[a]),dt=s.a.useCallback((function(e){var t=oe.findIndex((function(t){return t.path===e.path}));t>-1?ue(t):(ce([].concat(Object(P.a)(oe),[e])),ue(oe.length?0:oe.length))}),[oe]),pt=s.a.useCallback(function(){var e=Object(d.a)(l.a.mark((function e(r){var n,s,i,o,c,d=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>1&&void 0!==d[1]&&d[1],s={name:r.base_name,path:r.path,content:"",type:r.mime_type},e.next=4,Ce(r,t);case 4:if(i=e.sent,E.i.logDebug("CodeEditorModal -> FileUtil.getSignedFilePreviewUrlResponse -> file_signed_url_req_res: ",i),"undefined"!==typeof(o=i.data)._update_main_state&&a(De(o._update_main_state)),"undefined"!==typeof o._update_space&&null!==o._update_space&&a(Re(o._update_space)),"0"===i.error.code){e.next=12;break}return lt(i.error,r),e.abrupt("return");case 12:return e.next=14,ie(i.data.url);case 14:if("0"===(c=e.sent).error.code){e.next=18;break}return lt(c.error,r),e.abrupt("return");case 18:"application/json"===r.mime_type?s.content=JSON.stringify(c.data,null,4):s.content=c.data.toString(),n?Ye.current=s.content:(dt(s),G(!0));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[dt,a,lt,t]),ut=s.a.useCallback((function(){if(Qe.current===di.BLOB){if(i.current){var e=o.a.findDOMNode(i.current),a=function(e,a){var r=e.indexOf("<html>"),n='<base href="'.concat(function(e){var a=t.editor_content.url,r=e,n=null===a||void 0===a?void 0:a.split("/"),s=null===r||void 0===r?void 0:r.split("/"),i=null===s||void 0===s?void 0:s.slice(0,s.length-1);return null===n||void 0===n||n.push.apply(n,Object(P.a)(i)),((null===n||void 0===n?void 0:n.join("/"))||"")+"/"}(a),'">');return-1===r?n+e:e.substring(0,r+6)+n+e.substring(r+7)}(Ye.current||oe[pe].content,(null===rt||void 0===rt?void 0:rt.rel_path)||(null===at||void 0===at?void 0:at.rel_path)||""),r=new Blob([a],{type:"text/html"});e.src=URL.createObjectURL(r)}}else i.current&&(i.current.src=ze.current)}),[pe,null===at||void 0===at?void 0:at.rel_path,t.editor_content.url,null===rt||void 0===rt?void 0:rt.rel_path,i,oe]),ht=s.a.useCallback((function(e){var a,r,n="";t.editor_content.domainNameForSpace?(n=e?je(e,!0,t.editor_content.domainNameForSpace):void 0,We.current=(null===(a=n)||void 0===a?void 0:a.split("?")[0])||"Error",qe.current=n,n=e?je(e,!0,void 0):void 0):(n=e?je(e,!0,void 0):void 0,We.current=(null===(r=n)||void 0===r?void 0:r.split("?")[0])||"Error",qe.current=n);return n}),[t.editor_content.domainNameForSpace]),ft=s.a.useCallback((function(){var e="";(e="text/html"===(null===at||void 0===at?void 0:at.mime_type)?ht(at):ht(rt))||(e="about:blank"),ze.current=e,Ve(e)}),[ht,at,rt]),bt=s.a.useCallback((function(e,t){be&&t===pi.VERTICAL&&window.innerWidth<=gi&&st(e,!1),X===pi.NONE&&t!==X&&ut(),localStorage.setItem("code_editor.preview",t),J(t)}),[X,be,ut,st]),mt=s.a.useCallback((function(e){window.innerWidth>gi?_e(!0):(_e(!1),X!==pi.NONE&&bt(e,pi.NONE))}),[X,bt]);s.a.useEffect((function(){!m&&at&&(j(!0),Pe(ji[at.extension]||"plaintext"),rt&&pt(R(rt),!0),pt(R(at)))}),[pt,at,m,rt]),s.a.useEffect((function(){function e(e){var t,a;e?(t=ws.a.container_fluid_override,a="container-fluid"):(a=ws.a.container_fluid_override,t="container-fluid");var r=document.querySelector("."+a);null===r||void 0===r||r.classList.add(t),null===r||void 0===r||r.classList.remove(a)}return window.innerWidth>gi&&_e(!0),e(!0),document.body.classList.add("code-editor-modal-body-wrp"),a(ke(!1)),a(Me(!1)),function(){e(!1),document.body.classList.remove("code-editor-modal-body-wrp")}}),[]),s.a.useEffect((function(){return window.addEventListener("resize",mt),function(){window.removeEventListener("resize",mt)}}),[mt]),s.a.useEffect((function(){if(V){var e=function(e){var t=(new Date).getTime()-$e.current,a=0;t<=1e3*e&&(a=t);return a}(15);et.current&&(clearTimeout(et.current),et.current=null),et.current=setTimeout((function(){ut(),$e.current=(new Date).getTime(),et.current=null}),e)}}),[V,ut]);var gt=s.a.useCallback((function(){return u?Ze&&Ze.current.getValue():""}),[u]),vt=s.a.useCallback(function(){var e=Object(d.a)(l.a.mark((function e(r){var n,s,i,o,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:if(!t.usage_status._out_of_quota){e.next=5;break}return a(ct({code:"ACTION_FORBIDDEN_WHEN_QUOTA_EXCEEDED",description:"Your space is temporarily closed, and editing files is not allowed.",meta:{header_text:"Space temporarily closed"}})),e.abrupt("return",Promise.reject());case 5:if(n=gt(),s=R(at),oe[pe].content===n){e.next=38;break}if(i=Ps(n),E.i.logDebug("file_prev_size: ",s.size),E.i.logDebug("file_new_size: ",i),!((o=i/1024)>t.quota.storage.max_file_size)){e.next=16;break}return s.size=i,a(ct({code:"SPACE_FILE_SIZE_QUOTA_EXCEEDED"},at)),e.abrupt("return",Promise.reject());case 16:if(!(t.usage.storage.amount+o>t.quota.storage.amount)){e.next=20;break}return s.size=i,a(ct({code:"TOTAL_STORAGE_AMOUNT_QUOTA_EXCEEDED"},at)),e.abrupt("return",Promise.reject());case 20:return S(!0),e.next=23,ne("/files",{action:"updateContents",file:{path:s.path,contents:n},_out_of_quota:t.usage_status._out_of_quota});case 23:if(c=e.sent,E.i.logDebug("CodeEditorModal -> file_update_req_res: ",c),"undefined"!==typeof c.data._update_main_state&&a(De(c.data._update_main_state)),"undefined"!==typeof c.data._update_space&&null!==c.data._update_space&&a(Re(c.data._update_space)),"0"===c.error.code){e.next=32;break}return S(!1),F(!1),lt(c.error,at),e.abrupt("return",Promise.reject());case 32:return s.contents=n,s.size=i,oe[pe].content=n,S(!1),F(!1),e.abrupt("return",Promise.resolve());case 38:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[pe,a,at,gt,lt,u,t.quota.storage.amount,t.quota.storage.max_file_size,t.usage.storage.amount,t.usage_status._out_of_quota,oe]);function Ot(e){X===pi.VERTICAL&&be&&document.getElementsByClassName(ws.a.panel_content)[0].clientWidth<250&&st(e,!1)}function _t(){return X!==pi.NONE?" "+ws.a.display_preview:""}var xt=s.a.useCallback(function(){var e=Object(d.a)(l.a.mark((function e(t){var a,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.length>1&&void 0!==r[1]&&r[1],B(!0),ft(),a||X!==pi.NONE||bt(null,pi.VERTICAL),e.prev=4,!D||a){e.next=8;break}return e.next=8,vt(t);case 8:z(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),B(!1);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),[X,D,ft,vt,bt]);function yt(e){var t;be&&X===pi.VERTICAL&&((null===(t=r.current)||void 0===t?void 0:t.clientWidth)||0)+500>=window.innerWidth&&st(e,!1)}function Ct(){ut(),tt.current||($e.current=(new Date).getTime(),tt.current=!0)}function wt(e){V&&(z(!1),B(!1))}return at?Object(Ge.jsxs)("div",{className:"code_editor_page "+ws.a.code_editor_page,children:[Object(Ge.jsx)("div",{className:ws.a.header,children:Object(Ge.jsxs)("div",{className:ws.a.header_top_row,children:[Object(Ge.jsx)("div",{className:ws.a.header_buttons_left,children:Object(Ge.jsx)(en,{text:"Back to files",to:"/space/".concat(t.editor_content.space_id||Ke.current.space_id)})}),Object(Ge.jsxs)("div",{className:ws.a.header_buttons_middle,children:[Object(Ge.jsx)("button",{className:ws.a.buttons_preview_pane+" "+ws.a.buttons_preview_editor+" "+ws.a.preview_btn_mobile,disabled:x||N||nt,children:Object(Ge.jsxs)("a",{href:qe.current,target:"_blank",rel:"noreferrer",children:["Preview ",Object(Ge.jsx)(ti,{size:15})]})}),Object(Ge.jsxs)("div",{"aria-label":"Are we going to display preview?",role:"group",className:ws.a.button_group,children:[Object(Ge.jsx)(jt,{text:"No preview",placement:"left-center",children:Object(Ge.jsx)("button",{className:ws.a.btn+(X===pi.NONE?" "+ws.a._group_btn_active:""),onClick:function(e){return bt(e,pi.NONE)},disabled:x||N||A,"aria-label":"No preview"+X===pi.NONE?" is active":"",children:Object(Ge.jsx)(ri,{})})}),Object(Ge.jsx)(jt,{text:"Vertical preview",placement:"bottom-center",children:Object(Ge.jsx)("button",{className:ws.a.btn+(X===pi.VERTICAL?" "+ws.a._group_btn_active:""),onClick:function(e){return bt(e,pi.VERTICAL)},disabled:x||N||A,"aria-label":"Vertical preview view"+X===pi.NONE?" is active":"",children:Object(Ge.jsx)(ni,{})})}),Object(Ge.jsx)(jt,{text:"Horizontal preview",placement:"right-center",children:Object(Ge.jsx)("button",{className:ws.a.btn+(X===pi.HORIZONTAL?" "+ws.a._group_btn_active:""),onClick:function(e){return bt(e,pi.HORIZONTAL)},disabled:x||N||A,"aria-label":"Horizontal preview view"+X===pi.NONE?" is active":"",children:Object(Ge.jsx)(ii,{})})})]})]}),Object(Ge.jsx)("div",{className:ws.a.header_buttons_right,children:Object(Ge.jsx)(E.a,{variant:"primary",disabled:N||x||!D,loading:N,onClick:vt,text:D?"Save":"Saved"})})]})}),Object(Ge.jsxs)("div",{className:ws.a.body+(X===pi.HORIZONTAL?" "+ws.a.preview_horizontal:""),children:[Object(Ge.jsxs)("div",{className:ws.a.panel+_t()+(be?" "+ws.a.open_panel:""),onTransitionEnd:function(e){be||Ae("")},children:[Object(Ge.jsxs)("div",{className:ws.a.panel_icons,children:[Object(Ge.jsx)("div",{className:ws.a.panel_top_view,children:Object(P.a)(ot.values()).filter((function(e){return e.grouping===bi.TOP})).map((function(e){return Object(Ge.jsx)(qs,{className:e.className,handleClick:it,type:e.type,disabled:x||N,locked:e.locked,tooltip:e.tooltip,children:e.child},e.type)}))}),Object(Ge.jsx)("div",{className:ws.a.panel_bottom_view,children:Object(P.a)(ot.values()).filter((function(e){return e.grouping===bi.BOTTOM})).map((function(e){return Object(Ge.jsx)(qs,{className:e.className,handleClick:it,type:e.type,disabled:x||N,locked:e.locked,tooltip:e.tooltip,children:e.child},e.type)}))})]}),Object(Ge.jsxs)("div",{className:ws.a.panel_content,children:[""!==Ie&&ot.get(Ie).panel,Object(Ge.jsx)("div",{className:ws.a.close_panel_column+(be?"":" d-none"),onClick:st,children:Object(Ge.jsx)(ai,{size:12})})]})]}),Object(Ge.jsxs)("div",{id:"code_editor_window",className:ws.a.code_editor+_t()+(be?" "+ws.a.hide_on_small:""),children:[Object(Ge.jsxs)("div",{className:ws.a.code_editor_top_bar,children:[Object(Ge.jsx)("div",{className:ws.a.code_editor_top_bar_start,children:Object(Ge.jsx)("div",{className:ws.a.tab_row+(be?" "+ws.a.open_panel:""),children:oe.map((function(e,t){return Object(Ge.jsx)("div",{children:Ne(e.name)+(D?"*":"")},e.path+t)}))})}),Object(Ge.jsx)("div",{className:ws.a.code_editor_top_bar_end,children:Object(Ge.jsx)(jt,{text:"Save and run code. There might be a a couple of seconds delay when saving before you see the changes. Press run again to reload the preview.",placement:"bottom-center",children:Object(Ge.jsxs)("button",{className:ws.a.run_btn,disabled:x||N||A||!He||nt,onClick:xt,children:["RUN ",Object(Ge.jsx)($s.a,{})]})})})]}),x&&Object(Ge.jsx)(Cr,{}),K&&Object(Ge.jsx)(Rs,{cross_ref:Je.current,mode:"std",height:"calc(100% - 47px)",theme:localStorage.getItem("code_editor.theme")||"light",value:oe[pe].content,setMountHook:!0,editorDidMount:function(e,t){ft();var a=localStorage.getItem("code_editor.preview");a&&bt(null,a),h(!0),y(!1),Ze.current=t},language:Le,onSave:vt,onChangedContents:function(e){F(!e)},onChangedTheme:ae})]}),X!==pi.HORIZONTAL&&Object(Ge.jsx)(mi,{display:X!==pi.NONE,refPreviewPane:r,refIframe:i,disabled:x||N,loading:A,orientation:pi.VERTICAL,urlDisplayed:We.current,externalURL:qe.current,displayError:nt,handleTransitionEnd:yt,handleRefresh:function(e){return xt(e,!0)},handleMouseMoveResizer:Ot,handleMounted:Ct,handleOnIframeLoaded:wt,typeOf:Qe.current})]}),X===pi.HORIZONTAL&&Object(Ge.jsx)(mi,{display:!0,refPreviewPane:r,refIframe:i,disabled:x||N,loading:A,orientation:pi.HORIZONTAL,urlDisplayed:We.current,externalURL:qe.current,displayError:nt,handleTransitionEnd:yt,handleRefresh:function(e){return xt(e,!0)},handleMouseMoveResizer:Ot,handleMounted:Ct,handleOnIframeLoaded:wt,typeOf:Qe.current}),Oe&&Object(Ge.jsx)("div",{className:ws.a.footer,children:Object(Ge.jsx)(li,{list:we})})]}):Object(Ge.jsx)(O.a,{to:"/space/".concat(t.editor_content.space_id||Ke.current.space_id)})};a(346),a(347);var Oi=function(){var e=Object(_.d)((function(e){return e.main.subscription_plan})),t=Tt(e,"MMM DD, YYYY"),a=Object(_.d)((function(e){return e.main.usage})),r=Object(_.d)((function(e){return e.main.usage_status})),n=Object(_.d)((function(e){return e.main.quota})),s=E.j.getUpgradeLink(),i=s;return Object(Ge.jsxs)("div",{className:"quota-info-bar-container",children:["out_of_quota"===r.web_traffic.number_of_requests&&Object(Ge.jsx)(E.c,{children:Object(Ge.jsxs)("span",{children:["With a ",Object(Ge.jsx)("strong",{children:e.cname})," plan you get ",n.web_traffic.number_of_requests," requests per month. Since you have reached this limit, we have temporarily closed ",a.storage.number_of_spaces>1?"all your spaces":"your space"," for public access. Your ",a.storage.number_of_spaces>1?"spaces":"space"," will be opened again when your next subscription period starts, ",Object(Ge.jsx)("strong",{children:t}),". \xa0",e.can_be_upgraded?Object(Ge.jsxs)(Ge.Fragment,{children:["To get more requests, ",Object(Ge.jsx)("a",{href:s,children:"upgrade your plan"}),"."]}):Object(Ge.jsx)("a",{href:i,children:"Learn more"})]})}),"out_of_quota"===r.web_traffic.data_served&&Object(Ge.jsx)(E.c,{children:Object(Ge.jsxs)("span",{children:["With a ",Object(Ge.jsx)("strong",{children:e.cname})," plan you get ",C(n.web_traffic.data_served)," data per month. Since you have reached this limit, we have temporarily closed ",a.storage.number_of_spaces>1?"all your spaces":"your space"," for public access. Your ",a.storage.number_of_spaces>1?"spaces":"space"," will be opened again when your next subscription period starts, ",Object(Ge.jsx)("strong",{children:t}),". \xa0",e.can_be_upgraded?Object(Ge.jsxs)(Ge.Fragment,{children:["To get more data, ",Object(Ge.jsx)("a",{href:s,children:"upgrade your plan"}),"."]}):Object(Ge.jsx)("a",{href:i,children:"Learn more"})]})}),"out_of_quota"===r.storage.amount&&Object(Ge.jsx)(E.c,{children:Object(Ge.jsxs)("span",{children:["With a ",Object(Ge.jsx)("strong",{children:e.cname})," plan you get ",C(n.storage.amount)," of storage. Since you have used ",C(a.storage.amount),", which is more storage than included in your plan, we have temporarily closed ",a.storage.number_of_spaces>1?"all your spaces":"your space"," for public access. Please delete some files to get below the limit, and your ",a.storage.number_of_spaces>1?"spaces":"space"," will be reopened automatically. \xa0",e.can_be_upgraded?Object(Ge.jsxs)(Ge.Fragment,{children:["To get more storage, ",Object(Ge.jsx)("a",{href:s,children:"upgrade your plan"}),"."]}):Object(Ge.jsx)("a",{href:i,children:"Learn more"})]})}),"out_of_quota"===r.storage.number_of_spaces&&Object(Ge.jsx)(E.c,{children:Object(Ge.jsxs)("span",{children:["With a ",Object(Ge.jsx)("strong",{children:e.cname})," plan you can create ",n.storage.number_of_spaces," ",n.storage.number_of_spaces>1?"spaces":"space",". Since you have ",a.storage.number_of_spaces," spaces, which is more than included in your plan, we have temporarily closed ",a.storage.number_of_spaces>1?"all your spaces":"your space"," for public access. Please delete those spaces you do not want to keep to get below the limit, and ",n.storage.number_of_spaces>1?"the rest of your spaces":"the last one"," will be reopened automatically. \xa0",e.can_be_upgraded?Object(Ge.jsxs)(Ge.Fragment,{children:["To create more spaces, ",Object(Ge.jsx)("a",{href:s,children:"upgrade your plan"}),"."]}):Object(Ge.jsx)("a",{href:i,children:"Learn more"})]})}),"out_of_quota"===r.storage.max_file_size&&Object(Ge.jsx)(E.c,{children:Object(Ge.jsxs)("span",{children:["With a ",Object(Ge.jsx)("strong",{children:e.cname})," plan you can have a max file size of ",C(n.storage.max_file_size),". Since you have a file of ",C(a.storage.max_file_size),", which is bigger than the max size included in your plan, we have temporarily closed ",a.storage.number_of_spaces>1?"all your spaces":"your space"," for public access. Please delete or edit them to get below the limit, and your ",a.storage.number_of_spaces>1?"spaces":"space"," will be reopened automatically. \xa0",e.can_be_upgraded?Object(Ge.jsxs)(Ge.Fragment,{children:["To get more storage, ",Object(Ge.jsx)("a",{href:s,children:"upgrade your plan"}),"."]}):Object(Ge.jsx)("a",{href:i,children:"Learn more"})]})}),"out_of_quota"===r.storage.number_of_files_per_space&&Object(Ge.jsx)(E.c,{children:Object(Ge.jsxs)("span",{children:["With a ",Object(Ge.jsx)("strong",{children:e.cname})," plan a space can hold up to ",n.storage.number_of_files_per_space," files. Since you have in one of your spaces a total of ",a.storage.number_of_files_per_space," files, which is more than included in your plan, we have temporarily closed ",a.storage.number_of_spaces>1?"all your spaces":"your space"," for public access. Please delete those files you do not want to keep to get below the limit, and your ",a.storage.number_of_spaces>1?"spaces":"space"," will be reopened automatically. \xa0",e.can_be_upgraded?Object(Ge.jsxs)(Ge.Fragment,{children:["To be able to store more files, ",Object(Ge.jsx)("a",{href:s,children:"upgrade your plan"}),"."]}):Object(Ge.jsx)("a",{href:i,children:"Learn more"})]})})]})};a(348);var _i=function(){var e=Object(_.d)((function(e){return e.modal.modals})),t=Object(_.c)();function a(e){t(function(e){return F("Modal::dismiss",e)}({id:e.id}))}return Object(Ge.jsx)(Ge.Fragment,{children:e.map((function(e){return Object(Ge.jsxs)(w.a,{show:!e.dismissed,onHide:function(){return a(e)},size:"lg",animation:!1,className:"w3s-modal",centered:!0,children:[Object(Ge.jsx)(w.a.Header,{closeButton:!0,children:Object(Ge.jsx)(w.a.Title,{children:e.header})}),Object(Ge.jsx)(w.a.Body,{children:e.body}),Object(Ge.jsxs)(w.a.Footer,{children:[void 0===e.learnMoreButtonText?"":Object(Ge.jsx)(E.a,{variant:"secondary",as:"a",href:E.j.getUpgradeLink(),children:e.learnMoreButtonText}),void 0===e.upgradeButtonText?"":Object(Ge.jsx)(E.a,{variant:"primary",as:"a",href:E.j.getUpgradeLink(),children:e.upgradeButtonText}),void 0===e.dismissButtonText?"":Object(Ge.jsx)(E.a,{onClick:function(){return a(e)},variant:"primary",children:e.dismissButtonText})]})]},e.id)}))})};a(349);var xi=function(){return Object(Ge.jsx)("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(Ge.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.4348 6.26756V6V5C11.4348 3.34315 10.0916 2 8.43475 2C6.7779 2 5.43475 3.34315 5.43475 5V6V6.26756C4.83695 6.61337 4.43475 7.25972 4.43475 8V11C4.43475 12.1046 5.33018 13 6.43475 13H10.4348C11.5393 13 12.4348 12.1046 12.4348 11V8C12.4348 7.25972 12.0326 6.61337 11.4348 6.26756ZM6.43475 6H7.43475H9.43475H10.4348V5C10.4348 3.89543 9.53932 3 8.43475 3C7.33018 3 6.43475 3.89543 6.43475 5V6Z",fill:"#979797",fillOpacity:"0.7"})})};var yi=function(){return Object(Ge.jsxs)("svg",{className:"dots",width:"65",height:"15",viewBox:"0 0 65 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Ge.jsx)("circle",{cx:"7.5",cy:"7.5",r:"6.8",stroke:"#979797",strokeOpacity:"0.7",strokeWidth:"1.4"}),Object(Ge.jsx)("circle",{cx:"32.5",cy:"7.5",r:"6.8",stroke:"#979797",strokeOpacity:"0.7",strokeWidth:"1.4"}),Object(Ge.jsx)("circle",{cx:"57.5",cy:"7.5",r:"6.8",stroke:"#979797",strokeOpacity:"0.7",strokeWidth:"1.4"})]})};var Ci=function(){return Object(Ge.jsxs)("svg",{className:"prev",width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Ge.jsx)("rect",{width:"28",height:"28",fill:"white"}),Object(Ge.jsx)("path",{d:"M20 13.75H8M8 13.75L13.5 8M8 13.75L13.5 19",stroke:"#979797",strokeOpacity:"0.7",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})};var wi=function(){return Object(Ge.jsxs)("svg",{className:"next",width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Ge.jsx)("rect",{width:"28",height:"28",fill:"white"}),Object(Ge.jsx)("path",{d:"M8 13.75H20M20 13.75L14.5 8M20 13.75L14.5 19",stroke:"#979797",strokeOpacity:"0.7",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})};var Ni=function(){return Object(Ge.jsxs)("svg",{className:"refresh",width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Ge.jsx)("rect",{width:"28",height:"28",fill:"white"}),Object(Ge.jsx)("path",{d:"M14 19.5C16.6961 19.5 18.9391 17.5601 19.4093 15H20.9291C20.4439 18.3923 17.5265 21 14 21C10.134 21 7 17.866 7 14C7 10.134 10.134 7 14 7C16.1877 7 18.141 8.00354 19.4246 9.57541L21 8V13H16L18.357 10.643C17.3513 9.3396 15.7737 8.5 14 8.5C10.9624 8.5 8.5 10.9624 8.5 14C8.5 17.0376 10.9624 19.5 14 19.5Z",fill:"#979797",fillOpacity:"0.7"})]})};var Ei=function(){var e=Object(O.g)(),t=Object(O.i)().spaceId;return Object(Ge.jsxs)(Ge.Fragment,{children:[Object(Ge.jsx)(m.a,{className:"domain-promo-row",children:Object(Ge.jsx)(j.a,{md:6,children:Object(Ge.jsx)(en,{text:"Back",to:"/"})})}),Object(Ge.jsxs)(m.a,{className:"domain-promo-row",children:[Object(Ge.jsxs)(j.a,{md:6,children:[Object(Ge.jsx)("h2",{children:"Domains"}),Object(Ge.jsx)("h1",{children:"Want a more personal touch for your space?"}),Object(Ge.jsxs)("p",{children:["Buy a domain and connect it to your space. ",Object(Ge.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://support.w3schools.com/hc/en-gb/articles/4403603065361-Register-domains-with-W3schools",children:"Learn more"})]}),Object(Ge.jsx)(E.a,{onClick:function(){return e.push("/domains/search/".concat(t))},children:"Get a domain"})]}),Object(Ge.jsxs)(j.a,{md:6,className:"iframe-container",children:[Object(Ge.jsxs)("div",{className:"browser-bar",children:[Object(Ge.jsx)(yi,{}),Object(Ge.jsx)(Ci,{}),Object(Ge.jsx)(wi,{}),Object(Ge.jsx)(Ni,{}),Object(Ge.jsxs)("div",{className:"address-bar",children:[Object(Ge.jsx)(xi,{})," ","".concat(t,".").concat(k())]})]}),Object(Ge.jsx)("iframe",{title:"Space preview",src:"https://".concat(t,".").concat(k()),frameBorder:"0"})]})]})]})};var Si,ki=function(){return Object(Ge.jsx)("svg",{width:"20",height:"18",viewBox:"0 0 18 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(Ge.jsx)("path",{d:"M16.0255 0.260389L5.75035 10.5355L1.97488 6.76008C1.79184 6.57703 1.49504 6.57703 1.31195 6.76008L0.207109 7.86492C0.0240625 8.04797 0.0240625 8.34476 0.207109 8.52785L5.41887 13.7396C5.60191 13.9227 5.89871 13.9227 6.0818 13.7396L17.7932 2.02816C17.9763 1.84512 17.9763 1.54832 17.7932 1.36523L16.6884 0.260389C16.5054 0.0773424 16.2086 0.0773424 16.0255 0.260389Z",fill:"#04AA6D"})})};a(350);function Mi(){return Mi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Mi.apply(this,arguments)}function Li(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Pi(e,t){var a=e.title,r=e.titleId,s=Li(e,["title","titleId"]);return n.createElement("svg",Mi({width:13,height:13,viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,Si||(Si=n.createElement("path",{d:"M0.272743 0.272743C0.35898 0.186287 0.461427 0.117694 0.574215 0.0708918C0.687003 0.02409 0.807916 0 0.930028 0C1.05214 0 1.17305 0.02409 1.28584 0.0708918C1.39863 0.117694 1.50108 0.186287 1.58731 0.272743L6.50024 5.18753L11.4132 0.272743C11.4995 0.186427 11.602 0.117957 11.7147 0.0712433C11.8275 0.0245294 11.9484 0.000486064 12.0705 0.000486064C12.1925 0.000486064 12.3134 0.0245294 12.4262 0.0712433C12.539 0.117957 12.6414 0.186427 12.7277 0.272743C12.8141 0.359059 12.8825 0.46153 12.9292 0.574308C12.976 0.687085 13 0.807959 13 0.930028C13 1.0521 12.976 1.17297 12.9292 1.28575C12.8825 1.39853 12.8141 1.501 12.7277 1.58731L7.81296 6.50024L12.7277 11.4132C12.8141 11.4995 12.8825 11.602 12.9292 11.7147C12.976 11.8275 13 11.9484 13 12.0705C13 12.1925 12.976 12.3134 12.9292 12.4262C12.8825 12.539 12.8141 12.6414 12.7277 12.7277C12.6414 12.8141 12.539 12.8825 12.4262 12.9292C12.3134 12.976 12.1925 13 12.0705 13C11.9484 13 11.8275 12.976 11.7147 12.9292C11.602 12.8825 11.4995 12.8141 11.4132 12.7277L6.50024 7.81296L1.58731 12.7277C1.501 12.8141 1.39853 12.8825 1.28575 12.9292C1.17297 12.976 1.0521 13 0.930028 13C0.807959 13 0.687085 12.976 0.574308 12.9292C0.46153 12.8825 0.359059 12.8141 0.272743 12.7277C0.186427 12.6414 0.117957 12.539 0.0712433 12.4262C0.0245294 12.3134 0.000486064 12.1925 0.000486064 12.0705C0.000486064 11.9484 0.0245294 11.8275 0.0712433 11.7147C0.117957 11.602 0.186427 11.4995 0.272743 11.4132L5.18753 6.50024L0.272743 1.58731C0.186287 1.50108 0.117694 1.39863 0.0708918 1.28584C0.02409 1.17305 0 1.05214 0 0.930028C0 0.807916 0.02409 0.687003 0.0708918 0.574215C0.117694 0.461427 0.186287 0.35898 0.272743 0.272743Z",fill:"#282A35",fillOpacity:.6})))}var Di=n.forwardRef(Pi);a.p;var Fi=function(){return Object(Ge.jsx)("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(Ge.jsx)("path",{d:"M19.1664 2.22222H4.48889L4.19969 0.679757C4.12576 0.285625 3.78163 0 3.38063 0H0.416667C0.186563 0 0 0.186563 0 0.416667V0.694444C0 0.924549 0.186563 1.11111 0.416667 1.11111H3.15L5.57802 14.0606C5.21892 14.4553 5 14.9799 5 15.5556C5 16.7828 5.99493 17.7778 7.22222 17.7778C8.44951 17.7778 9.44444 16.7828 9.44444 15.5556C9.44488 15.1654 9.34206 14.782 9.14642 14.4444H14.1869C13.9913 14.782 13.8885 15.1654 13.8889 15.5556C13.8889 16.7828 14.8839 17.7778 16.1111 17.7778C17.3384 17.7778 18.3334 16.7828 18.3334 15.5556C18.3334 14.9308 18.0752 14.3667 17.6602 13.9629C17.5702 13.6073 17.2486 13.3333 16.8517 13.3333H6.57222L6.15556 11.1111H17.6618C18.0566 11.1111 18.3972 10.8342 18.4777 10.4477L19.9822 3.22552C20.09 2.70802 19.695 2.22222 19.1664 2.22222ZM8.33333 15.5556C8.33333 16.1682 7.8349 16.6667 7.22222 16.6667C6.60955 16.6667 6.11111 16.1682 6.11111 15.5556C6.11111 14.9429 6.60955 14.4444 7.22222 14.4444C7.8349 14.4444 8.33333 14.9429 8.33333 15.5556ZM16.1111 16.6667C15.4984 16.6667 15 16.1682 15 15.5556C15 14.9429 15.4984 14.4444 16.1111 14.4444C16.7238 14.4444 17.2222 14.9429 17.2222 15.5556C17.2222 16.1682 16.7238 16.6667 16.1111 16.6667ZM17.436 10H5.94722L4.69722 3.33333H18.8249L17.436 10Z",fill:"#282A35"})})};var Ti=function(){return Object(Ge.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(Ge.jsx)("path",{d:"M10 0.3125C15.3503 0.3125 19.6875 4.64973 19.6875 10C19.6875 15.3503 15.3503 19.6875 10 19.6875C4.64973 19.6875 0.3125 15.3503 0.3125 10C0.3125 4.64973 4.64973 0.3125 10 0.3125ZM15.9662 15.9662C19.1155 12.8169 19.2533 7.80383 16.392 4.49187L4.49184 16.392C7.80449 19.2539 12.8175 19.1149 15.9662 15.9662ZM3.60801 15.5081L15.5081 3.60801C12.1955 0.746172 7.18246 0.885156 4.03379 4.03379C0.884493 7.18305 0.746717 12.1962 3.60801 15.5081Z",fill:"#282A35"})})};var Ii=function(e){var t=e.captcha_enabled,a=void 0===t||t,r=Object(n.useState)(""),s=Object(Xe.a)(r,2),i=s[0],o=s[1],c=Object(n.useState)([]),p=Object(Xe.a)(c,2),u=p[0],h=p[1],f=Object(n.useState)(!1),b=Object(Xe.a)(f,2),g=b[0],x=b[1],y=Object(n.useState)(),C=Object(Xe.a)(y,2),w=C[0],N=C[1],S=Object(_.d)((function(e){return e.domains.products})),k=Object(_.c)(),L=Object(n.useState)(!1),F=Object(Xe.a)(L,2),T=F[0],I=F[1],A=Object(O.i)().spaceId,R={type:"ReCaptchaV2",action:"searchDomainForSpace"},B=Object(n.useState)({value:"",origin:R.type,action:R.action}),U=Object(Xe.a)(B,2),H=U[0],V=U[1],z={};function q(e){var t=/^[-a-zA-Z0-9.]{1,55}$/.test(e);return I(!t),t}function Y(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(d.a)(l.a.mark((function e(t){var r,n,s,o,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),i){e.next=4;break}return q(i),e.abrupt("return");case 4:if(!T){e.next=6;break}return e.abrupt("return");case 6:if(r=H,!a){e.next=25;break}if("undefined"!==typeof z.captcha){e.next=13;break}return s={code:"FSUCM",description:"Failed setting up Captcha module"},E.i.logError("".concat(s.description," [").concat(s.code,"]")),k(ot({id:M(),dismissed:!1,type:"error",header:Object(Ge.jsx)(Ge.Fragment,{children:"Google ReCAPTCHA Error"}),body:"".concat(s.description," [").concat(s.code,"]"),dismissButtonText:"OK"})),e.abrupt("return");case 13:return e.next=15,z.captcha.fetchCaptchaToken({handle_errors_internally:!1});case 15:if(o=e.sent,c=Object(Xe.a)(o,2),r=c[0],n=c[1],E.i.logDebug("res_captcha_token: ",r),E.i.logDebug("res_captcha_exc: ",n),!n){e.next=24;break}return k(ot({id:M(),dismissed:!1,type:"error",header:Object(Ge.jsx)(Ge.Fragment,{children:"Google ReCAPTCHA Error"}),body:"".concat(n.description," [").concat(n.code,"]"),dismissButtonText:"OK"})),e.abrupt("return");case 24:V(r);case 25:G(r);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return(K=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),o(""),I(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return W.apply(this,arguments)}function W(){return W=Object(d.a)(l.a.mark((function e(t){var a,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),h([]),a=JSON.stringify({domainName:i,includeSuggestions:!0,captcha_token:t}),e.prev=3,e.next=6,$.post("/domains/domain-availability",a,{headers:{"Content-Type":"application/json"}});case 6:r=e.sent,E.i.logAll(r),n=[].concat(Object(P.a)(r.data.availability),Object(P.a)(r.data.suggestions)),E.i.logAll(n),h(n),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),e.t0.response&&e.t0.response.data&&e.t0.response.data.message&&e.t0.response.data.message.toLowerCase().indexOf("recaptcha")>-1?k(ot({id:M(),dismissed:!1,type:"error",header:Object(Ge.jsx)(Ge.Fragment,{children:"Problem searching for domain"}),body:"Google reCAPTCHA verification failed",dismissButtonText:"OK"})):e.t0 instanceof Error&&(E.i.logAll(e.t0.message),k(ot({id:M(),dismissed:!1,type:"error",header:Object(Ge.jsx)(Ge.Fragment,{children:"Problem searching for domain"}),body:e.t0.message,dismissButtonText:"OK"})));case 16:x(!1);case 17:case"end":return e.stop()}}),e,null,[[3,13]])}))),W.apply(this,arguments)}function Q(e){if("undefined"!==typeof e.unsupported&&e.unsupported)return e.availability=!1,Object(Ge.jsxs)(Ge.Fragment,{children:["Unsupported ",Object(Ge.jsx)(Ti,{})]});var t=e.domainName.split(".");t.shift();var a=t.join("."),r=S?S[a]:void 0;if(void 0===r)return e.availability=!1,Object(Ge.jsxs)(Ge.Fragment,{children:["Unsupported ",Object(Ge.jsx)(Ti,{})]});if(!e.availability)return Object(Ge.jsxs)(Ge.Fragment,{children:["Unavailable ",Object(Ge.jsx)(Ti,{})]});var n=e.domainName===w?Object(Ge.jsx)(ki,{}):Object(Ge.jsx)(Fi,{});return Object(Ge.jsxs)(Ge.Fragment,{children:["$ ".concat(r.price," / year"),n]})}return Object(n.useEffect)((function(){0===Object.keys(S).length&&(E.i.logAll("Getting domain products"),k(ba()))}),[S,k]),Object(Ge.jsxs)(Ge.Fragment,{children:[Object(Ge.jsxs)(m.a,{className:"domain-search-row",children:[Object(Ge.jsx)(j.a,{md:6,children:Object(Ge.jsx)(en,{text:"Back",to:"/"})}),Object(Ge.jsxs)(j.a,{md:6,className:"buttons-wrapper",children:[void 0!==w?Object(Ge.jsx)("div",{className:"num-cart",children:"1 domain"}):"",Object(Ge.jsx)(ja.b,{to:"/domains/register/".concat(A,"/").concat(w),children:Object(Ge.jsx)(E.a,{disabled:void 0===w,children:"Checkout"})})]})]}),Object(Ge.jsx)(m.a,{className:"domain-search-row",children:Object(Ge.jsxs)(j.a,{md:12,children:[Object(Ge.jsx)("h1",{children:"Get a new domain"}),Object(Ge.jsx)($e.a,{onSubmit:Y,className:"search-form",children:Object(Ge.jsxs)(et.a,{children:[Object(Ge.jsx)(et.a.Prepend,{children:Object(Ge.jsx)(et.a.Text,{className:T?"invalid":"",children:Object(Ge.jsx)(v.a,{variant:"noframe",onClick:Y,children:Object(Ge.jsx)(Xs,{})})})}),Object(Ge.jsx)(Wa.a,{value:i,onChange:function(e){e.preventDefault();var t=e.target.value;o(t),t&&q(t)},isInvalid:T,placeholder:"Search for your domain"}),Object(Ge.jsx)(et.a.Append,{children:Object(Ge.jsx)(et.a.Text,{className:T?"invalid":"",children:Object(Ge.jsx)(v.a,{variant:"noframe",onClick:function(e){return K.apply(this,arguments)},className:"-search-close-btn",children:Object(Ge.jsx)(Di,{})})})}),Object(Ge.jsx)($e.a.Control.Feedback,{type:"invalid",children:"Please use the characters a-z, 0-9 and - (hyphen). Max 55 characters."})]})})]})}),Object(Ge.jsx)(m.a,{className:"domain-search-row",children:Object(Ge.jsx)(j.a,{children:Object(Ge.jsx)(E.b,Object(D.a)({cross_ref:z,onErrorCallback:function(e){k(ot({id:M(),dismissed:!1,type:"error",header:Object(Ge.jsx)(Ge.Fragment,{children:"Google ReCAPTCHA Error"}),body:"".concat(e.description," [").concat(e.code,"]"),dismissButtonText:"OK"}))}},R))})}),Object(Ge.jsx)(m.a,{className:"domain-search-row",children:Object(Ge.jsx)(j.a,{className:"suggestions",children:g?Array.from(Array(7).keys()).map((function(e){return Object(Ge.jsxs)("div",{style:{animationDelay:"".concat(.4*e,"s")},className:"domain-suggestion-loading",children:[Object(Ge.jsx)("div",{className:"rect-1"}),Object(Ge.jsx)("div",{className:"rect-2"}),Object(Ge.jsx)("div",{className:"circle"})]},e)})):u.map((function(e){return Object(Ge.jsxs)("div",{onClick:function(){return function(e){e.availability&&w!==e.domainName?N(e.domainName):N(void 0)}(e)},className:"domain-suggestion "+(e.domainName===w?"selected":""),children:[Object(Ge.jsx)("span",{className:"domain",children:e.domainName}),Object(Ge.jsx)("span",{className:"availability",children:Q(e)})]})}))})})]})},Ai=(a(351),function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.instancePath,n=void 0===r?"":r,s=(a.parentData,a.parentDataProperty,a.rootData,null),i=0;if(t&&"object"==typeof t&&!Array.isArray(t)){if(void 0===t.addressLine1){var o={instancePath:n,schemaPath:"#/required",keyword:"required",params:{missingProperty:"addressLine1"},message:"must have required property 'addressLine1'"};null===s?s=[o]:s.push(o),i++}if(void 0===t.contactType){var c={instancePath:n,schemaPath:"#/required",keyword:"required",params:{missingProperty:"contactType"},message:"must have required property 'contactType'"};null===s?s=[c]:s.push(c),i++}if(void 0===t.city){var l={instancePath:n,schemaPath:"#/required",keyword:"required",params:{missingProperty:"city"},message:"must have required property 'city'"};null===s?s=[l]:s.push(l),i++}if(void 0===t.countryCode){var d={instancePath:n,schemaPath:"#/required",keyword:"required",params:{missingProperty:"countryCode"},message:"must have required property 'countryCode'"};null===s?s=[d]:s.push(d),i++}if(void 0===t.firstName){var p={instancePath:n,schemaPath:"#/required",keyword:"required",params:{missingProperty:"firstName"},message:"must have required property 'firstName'"};null===s?s=[p]:s.push(p),i++}if(void 0===t.lastName){var u={instancePath:n,schemaPath:"#/required",keyword:"required",params:{missingProperty:"lastName"},message:"must have required property 'lastName'"};null===s?s=[u]:s.push(u),i++}if(void 0===t.phoneNumber){var h={instancePath:n,schemaPath:"#/required",keyword:"required",params:{missingProperty:"phoneNumber"},message:"must have required property 'phoneNumber'"};null===s?s=[h]:s.push(h),i++}if(void 0===t.zipCode){var f={instancePath:n,schemaPath:"#/required",keyword:"required",params:{missingProperty:"zipCode"},message:"must have required property 'zipCode'"};null===s?s=[f]:s.push(f),i++}if(void 0!==t.firstName){var b=t.firstName;if("string"===typeof b){if(Bi(b)>255){var m={instancePath:n+"/firstName",schemaPath:"#/properties/firstName/maxLength",keyword:"maxLength",params:{limit:255},message:"must NOT have more than 255 characters"};null===s?s=[m]:s.push(m),i++}if(Bi(b)<1){var j={instancePath:n+"/firstName",schemaPath:"#/properties/firstName/minLength",keyword:"minLength",params:{limit:1},message:"must NOT have fewer than 1 characters"};null===s?s=[j]:s.push(j),i++}}else{var g={instancePath:n+"/firstName",schemaPath:"#/properties/firstName/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[g]:s.push(g),i++}}if(void 0!==t.lastName){var v=t.lastName;if("string"===typeof v){if(Bi(v)>255){var O={instancePath:n+"/lastName",schemaPath:"#/properties/lastName/maxLength",keyword:"maxLength",params:{limit:255},message:"must NOT have more than 255 characters"};null===s?s=[O]:s.push(O),i++}if(Bi(v)<1){var _={instancePath:n+"/lastName",schemaPath:"#/properties/lastName/minLength",keyword:"minLength",params:{limit:1},message:"must NOT have fewer than 1 characters"};null===s?s=[_]:s.push(_),i++}}else{var x={instancePath:n+"/lastName",schemaPath:"#/properties/lastName/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[x]:s.push(x),i++}}if(void 0!==t.phoneNumber){var y=t.phoneNumber;if("string"===typeof y){if(Bi(y)>255){var C={instancePath:n+"/phoneNumber",schemaPath:"#/properties/phoneNumber/maxLength",keyword:"maxLength",params:{limit:255},message:"must NOT have more than 255 characters"};null===s?s=[C]:s.push(C),i++}if(Bi(y)<1){var w={instancePath:n+"/phoneNumber",schemaPath:"#/properties/phoneNumber/minLength",keyword:"minLength",params:{limit:1},message:"must NOT have fewer than 1 characters"};null===s?s=[w]:s.push(w),i++}if(!Hi.test(y)){var N={instancePath:n+"/phoneNumber",schemaPath:"#/properties/phoneNumber/pattern",keyword:"pattern",params:{pattern:"^\\+[0-9]+\\.[0-9]+$"},message:'must match pattern "^\\+[0-9]+\\.[0-9]+$"'};null===s?s=[N]:s.push(N),i++}}else{var E={instancePath:n+"/phoneNumber",schemaPath:"#/properties/phoneNumber/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[E]:s.push(E),i++}}if(void 0!==t.addressLine1){var S=t.addressLine1;if("string"===typeof S){if(Bi(S)>255){var k={instancePath:n+"/addressLine1",schemaPath:"#/properties/addressLine1/maxLength",keyword:"maxLength",params:{limit:255},message:"must NOT have more than 255 characters"};null===s?s=[k]:s.push(k),i++}if(Bi(S)<1){var M={instancePath:n+"/addressLine1",schemaPath:"#/properties/addressLine1/minLength",keyword:"minLength",params:{limit:1},message:"must NOT have fewer than 1 characters"};null===s?s=[M]:s.push(M),i++}}else{var L={instancePath:n+"/addressLine1",schemaPath:"#/properties/addressLine1/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[L]:s.push(L),i++}}if(void 0!==t.addressLine2){var P=t.addressLine2;if("string"!==typeof P&&null!==P){var D={instancePath:n+"/addressLine2",schemaPath:"#/properties/addressLine2/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[D]:s.push(D),i++}if("string"===typeof P){if(Bi(P)>255){var F={instancePath:n+"/addressLine2",schemaPath:"#/properties/addressLine2/maxLength",keyword:"maxLength",params:{limit:255},message:"must NOT have more than 255 characters"};null===s?s=[F]:s.push(F),i++}if(Bi(P)<1){var T={instancePath:n+"/addressLine2",schemaPath:"#/properties/addressLine2/minLength",keyword:"minLength",params:{limit:1},message:"must NOT have fewer than 1 characters"};null===s?s=[T]:s.push(T),i++}}}if(void 0!==t.zipCode){var I=t.zipCode;if("string"===typeof I){if(Bi(I)>255){var A={instancePath:n+"/zipCode",schemaPath:"#/properties/zipCode/maxLength",keyword:"maxLength",params:{limit:255},message:"must NOT have more than 255 characters"};null===s?s=[A]:s.push(A),i++}if(Bi(I)<1){var R={instancePath:n+"/zipCode",schemaPath:"#/properties/zipCode/minLength",keyword:"minLength",params:{limit:1},message:"must NOT have fewer than 1 characters"};null===s?s=[R]:s.push(R),i++}}else{var B={instancePath:n+"/zipCode",schemaPath:"#/properties/zipCode/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[B]:s.push(B),i++}}if(void 0!==t.countryCode){var U,H=t.countryCode;U=!1;var V,z=Object(Qt.a)(Ri.properties.countryCode.enum);try{for(z.s();!(V=z.n()).done;){var q=V.value;if(Ui(H,q)){U=!0;break}}}catch(ge){z.e(ge)}finally{z.f()}if(!U){var Y={instancePath:n+"/countryCode",schemaPath:"#/properties/countryCode/enum",keyword:"enum",params:{allowedValues:Ri.properties.countryCode.enum},message:"must be equal to one of the allowed values"};null===s?s=[Y]:s.push(Y),i++}if("string"===typeof H){if(Bi(H)>255){var Z={instancePath:n+"/countryCode",schemaPath:"#/properties/countryCode/maxLength",keyword:"maxLength",params:{limit:255},message:"must NOT have more than 255 characters"};null===s?s=[Z]:s.push(Z),i++}if(Bi(H)<1){var K={instancePath:n+"/countryCode",schemaPath:"#/properties/countryCode/minLength",keyword:"minLength",params:{limit:1},message:"must NOT have fewer than 1 characters"};null===s?s=[K]:s.push(K),i++}}else{var G={instancePath:n+"/countryCode",schemaPath:"#/properties/countryCode/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[G]:s.push(G),i++}}if(void 0!==t.state){var W=t.state;if("string"!==typeof W&&null!==W){var Q={instancePath:n+"/state",schemaPath:"#/properties/state/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Q]:s.push(Q),i++}if("string"===typeof W){if(Bi(W)>255){var X={instancePath:n+"/state",schemaPath:"#/properties/state/maxLength",keyword:"maxLength",params:{limit:255},message:"must NOT have more than 255 characters"};null===s?s=[X]:s.push(X),i++}if(Bi(W)<0){var J={instancePath:n+"/state",schemaPath:"#/properties/state/minLength",keyword:"minLength",params:{limit:0},message:"must NOT have fewer than 0 characters"};null===s?s=[J]:s.push(J),i++}}}if(void 0!==t.city){var $=t.city;if("string"===typeof $){if(Bi($)>255){var ee={instancePath:n+"/city",schemaPath:"#/properties/city/maxLength",keyword:"maxLength",params:{limit:255},message:"must NOT have more than 255 characters"};null===s?s=[ee]:s.push(ee),i++}if(Bi($)<1){var te={instancePath:n+"/city",schemaPath:"#/properties/city/minLength",keyword:"minLength",params:{limit:1},message:"must NOT have fewer than 1 characters"};null===s?s=[te]:s.push(te),i++}}else{var ae={instancePath:n+"/city",schemaPath:"#/properties/city/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[ae]:s.push(ae),i++}}if(void 0!==t.contactType){var re=t.contactType;if("PERSON"!==re&&"COMPANY"!==re){var ne={instancePath:n+"/contactType",schemaPath:"#/properties/contactType/enum",keyword:"enum",params:{allowedValues:Ri.properties.contactType.enum},message:"must be equal to one of the allowed values"};null===s?s=[ne]:s.push(ne),i++}if("string"===typeof re){if(Bi(re)>255){var se={instancePath:n+"/contactType",schemaPath:"#/properties/contactType/maxLength",keyword:"maxLength",params:{limit:255},message:"must NOT have more than 255 characters"};null===s?s=[se]:s.push(se),i++}if(Bi(re)<1){var ie={instancePath:n+"/contactType",schemaPath:"#/properties/contactType/minLength",keyword:"minLength",params:{limit:1},message:"must NOT have fewer than 1 characters"};null===s?s=[ie]:s.push(ie),i++}}else{var oe={instancePath:n+"/contactType",schemaPath:"#/properties/contactType/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[oe]:s.push(oe),i++}}if(void 0!==t.fax){var ce=t.fax;if("string"!==typeof ce&&null!==ce){var le={instancePath:n+"/fax",schemaPath:"#/properties/fax/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[le]:s.push(le),i++}if("string"===typeof ce){if(Bi(ce)>255){var de={instancePath:n+"/fax",schemaPath:"#/properties/fax/maxLength",keyword:"maxLength",params:{limit:255},message:"must NOT have more than 255 characters"};null===s?s=[de]:s.push(de),i++}if(Bi(ce)<1){var pe={instancePath:n+"/fax",schemaPath:"#/properties/fax/minLength",keyword:"minLength",params:{limit:1},message:"must NOT have fewer than 1 characters"};null===s?s=[pe]:s.push(pe),i++}if(!Vi.test(ce)){var ue={instancePath:n+"/fax",schemaPath:"#/properties/fax/pattern",keyword:"pattern",params:{pattern:"^\\+[0-9]+.[0-9]+$"},message:'must match pattern "^\\+[0-9]+.[0-9]+$"'};null===s?s=[ue]:s.push(ue),i++}}}if(void 0!==t.organizationName){var he=t.organizationName;if("string"!==typeof he&&null!==he){var fe={instancePath:n+"/organizationName",schemaPath:"#/properties/organizationName/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[fe]:s.push(fe),i++}if("string"===typeof he){if(Bi(he)>255){var be={instancePath:n+"/organizationName",schemaPath:"#/properties/organizationName/maxLength",keyword:"maxLength",params:{limit:255},message:"must NOT have more than 255 characters"};null===s?s=[be]:s.push(be),i++}if(Bi(he)<1){var me={instancePath:n+"/organizationName",schemaPath:"#/properties/organizationName/minLength",keyword:"minLength",params:{limit:1},message:"must NOT have fewer than 1 characters"};null===s?s=[me]:s.push(me),i++}}}}else{var je={instancePath:n,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[je]:s.push(je),i++}return e.errors=s,0===i}),Ri={type:"object",properties:{firstName:{type:"string",minLength:1,maxLength:255},lastName:{type:"string",minLength:1,maxLength:255},phoneNumber:{type:"string",minLength:1,maxLength:255,pattern:"^\\+[0-9]+\\.[0-9]+$"},addressLine1:{type:"string",minLength:1,maxLength:255},addressLine2:{type:"string",nullable:!0,minLength:1,maxLength:255},zipCode:{type:"string",minLength:1,maxLength:255},countryCode:{type:"string",minLength:1,maxLength:255,enum:["AD","AE","AF","AG","AI","AL","AM","AN","AO","AQ","AR","AS","AT","AU","AW","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BR","BS","BT","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GH","GI","GL","GM","GN","GQ","GR","GT","GU","GW","GY","HK","HN","HR","HT","HU","ID","IE","IL","IM","IN","IQ","IR","IS","IT","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PT","PW","PY","QA","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SK","SL","SM","SN","SO","SR","ST","SV","SY","SZ","TC","TD","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"]},state:{type:"string",nullable:!0,minLength:0,maxLength:255},city:{type:"string",minLength:1,maxLength:255},contactType:{type:"string",minLength:1,maxLength:255,enum:["PERSON","COMPANY"]},fax:{type:"string",nullable:!0,minLength:1,maxLength:255,pattern:"^\\+[0-9]+.[0-9]+$"},organizationName:{type:"string",nullable:!0,minLength:1,maxLength:255}},required:["addressLine1","contactType","city","countryCode","firstName","lastName","phoneNumber","zipCode"],additionalProperties:!0},Bi=a(352).default,Ui=a(353).default,Hi=new RegExp("^\\+[0-9]+\\.[0-9]+$","u"),Vi=new RegExp("^\\+[0-9]+.[0-9]+$","u");var zi=a(100),qi=zi.a.allCountryCodesWithStateList;var Yi,Zi=function(){var e=Object(O.i)(),t=e.spaceId,a=e.domain,r=zi.a.getAllCountries();E.i.logAll("countries: ",r);var s=Object(n.useState)([]),i=Object(Xe.a)(s,2),o=i[0],c=i[1],p=Object(n.useState)(),u=Object(Xe.a)(p,2),h=u[0],f=u[1],b=Object(n.useState)([]),g=Object(Xe.a)(b,2),v=g[0],x=g[1],y=Object(n.useState)({code:"US",number:""}),C=Object(Xe.a)(y,2),w=C[0],N=C[1],S=Object(n.useState)({addressLine1:"",city:"",contactType:"PERSON",countryCode:"US",firstName:"",lastName:"",phoneCountryCode:"US",phoneNumber:"",zipCode:""}),k=Object(Xe.a)(S,2),L=k[0],P=k[1],F=Object(n.useState)([]),T=Object(Xe.a)(F,2),I=T[0],A=T[1],R=Object(n.useState)(!1),B=Object(Xe.a)(R,2),U=B[0],H=B[1],V=Object(n.useState)(!1),z=Object(Xe.a)(V,2),q=z[0],Y=z[1],Z=Object(_.c)(),K=Object(_.d)((function(e){return e.domains.products}));function G(e){return W.apply(this,arguments)}function W(){return(W=Object(d.a)(l.a.mark((function e(a){var r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.stringify({domainName:a,spaceId:t}),e.next=3,$.post("/domains/get-active-order",r,{headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,E.i.logAll("getActiveOrder -> response: ",n),e.abrupt("return",n.data.activeOrder);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return(Q=Object(d.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G(a);case 3:null!==(t=e.sent)?(X(t.contactDetails.countryCode,!1),"undefined"!==typeof t.contactDetails.state&&J(t.contactDetails.state,!1),r=ne(t.contactDetails.phoneCountryCode),N({number:t.contactDetails.phoneNumber.replace(r+".",""),code:t.contactDetails.countryCode}),ee(t.contactDetails),Y(t.dryRun)):X("US"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Error&&(E.i.logAll(e.t0.message),Z(ot({id:M(),dismissed:!1,type:"error",header:Object(Ge.jsx)(Ge.Fragment,{children:"Problem getting active order"}),body:e.t0.message,dismissButtonText:"OK"})));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function X(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];E.i.logAll("selectCountry -> countryCode: ".concat(e));var a=qi.indexOf(e.toUpperCase())>=0&&zi.a.getStatesOfCountry(e).length?zi.a.getStatesOfCountry(e)[0].isoCode:void 0;t&&ee({countryCode:e,state:a,city:""});var r=zi.a.getStatesOfCountry(e);E.i.logDebug("countryCode: ",e),E.i.logDebug("countryStates: ",r),c(r),x([])}function J(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];E.i.logAll("selectState -> stateCode: ".concat(e));var a=o.find((function(t){return t.isoCode===e}));void 0!==a&&(f(a),t&&ee({state:a.isoCode}))}function ee(e){P(Object(D.a)(Object(D.a)({},L),e))}function te(){return(te=Object(d.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E.i.logAll(L),H(!0),Ai(L)){e.next=9;break}void 0!==(t=Ai.errors)&&null!==t&&A(t),E.i.logAll(t),e.next=20;break;case 9:return A([]),e.prev=10,e.next=13,ae(L,a,q);case 13:r=e.sent,window.location.href="".concat(E.j.getBillingUrl(),"/domains/").concat(a,"?orderId=").concat(r),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(10),e.t0 instanceof Error&&(E.i.logAll(e.t0.message),Z(ot({id:M(),dismissed:!1,type:"error",header:Object(Ge.jsx)(Ge.Fragment,{children:"Problem saving contact information"}),body:e.t0.message,dismissButtonText:"OK"})));case 20:H(!1);case 21:case"end":return e.stop()}}),e,null,[[10,17]])})))).apply(this,arguments)}function ae(e,t,a){return re.apply(this,arguments)}function re(){return re=Object(d.a)(l.a.mark((function e(a,r,n){var s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=JSON.stringify({domainName:r,contactDetails:a,spaceId:t,dryRun:n}),e.next=3,$.post("/domains/place-order",s,{headers:{"Content-Type":"application/json"}});case 3:return i=e.sent,E.i.logAll(i),e.abrupt("return",i.data.orderId);case 6:case"end":return e.stop()}}),e)}))),re.apply(this,arguments)}function ne(e){var t=r.filter((function(t){return t.isoCode===e}))[0],a=t.phonecode;return a.includes("+")||(a="+".concat(a)),E.i.logAll("getCountryPhoneCodeByIsoCode -> country: ",t),E.i.logAll("getCountryPhoneCodeByIsoCode -> countryPhoneCode: ",a),a}function se(e){var t=I.find((function(t){return t.instancePath===e}));if(t){if("must NOT have fewer than 1 characters"===t.message)return"Looks like you forgot something";if("must NOT have more than 255 characters"===t.message)return"Sorry, that\u2019s too long. Maximum 255 characters are allowed.";if("must be equal to one of the allowed values"===t.message){if("/countryCode"===e)return"Please select a country";if("/state"===e)return"Please select a state";if("/city"===e)return"Please select a city"}return'must match pattern "^\\+[0-9]+\\.[0-9]+$"'===t.message?"Please enter a valid number":t.message}}function ie(){var e=a.split("."),t=e[e.length-1];if(void 0===K)return Object(Ge.jsx)(E.f,{});var r=K[t];return void 0===r?"N/A":"$ ".concat(r.price)}return Object(n.useEffect)((function(){void 0===K&&(E.i.logAll("Getting domain products"),Z(ba()))}),[K,Z]),Object(n.useEffect)((function(){!function(){Q.apply(this,arguments)}()}),[]),Object(Ge.jsx)(Ge.Fragment,{children:Object(Ge.jsxs)(m.a,{className:"domain-registration-form",children:[Object(Ge.jsxs)(j.a,{md:6,className:"left-column",children:[Object(Ge.jsx)(en,{text:"Back",to:"/"}),Object(Ge.jsx)("h1",{children:"Registration"}),Object(Ge.jsxs)("p",{className:"whois-info",children:["WHOIS privacy is included for all eligible domains free of charge.",Object(Ge.jsx)("br",{}),Object(Ge.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://support.w3schools.com/hc/en-gb/articles/4403603522577-WHOIS-Privacy",children:"Learn more"})]}),Object(Ge.jsxs)($e.a,{children:[Object(Ge.jsx)("h3",{children:"Contact information"}),Object(Ge.jsxs)($e.a.Group,{children:[Object(Ge.jsx)($e.a.Label,{children:"First name"}),Object(Ge.jsx)($e.a.Control,{type:"text",value:L.firstName,isInvalid:I&&void 0!==I.find((function(e){return"/firstName"===e.instancePath})),onChange:function(e){ee({firstName:e.target.value})}}),Object(Ge.jsx)($e.a.Control.Feedback,{type:"invalid",children:se("/firstName")})]}),Object(Ge.jsxs)($e.a.Group,{children:[Object(Ge.jsx)($e.a.Label,{children:"Last name"}),Object(Ge.jsx)($e.a.Control,{type:"text",value:L.lastName,isInvalid:I&&void 0!==I.find((function(e){return"/lastName"===e.instancePath})),onChange:function(e){ee({lastName:e.target.value})}}),Object(Ge.jsx)($e.a.Control.Feedback,{type:"invalid",children:se("/lastName")})]}),Object(Ge.jsxs)($e.a.Group,{children:[Object(Ge.jsx)($e.a.Label,{children:"Phone number"}),Object(Ge.jsx)($e.a.Control,{as:"select",value:w.code,style:{marginBottom:"8px"},onChange:function(e){e.preventDefault();var t=e.target.value,a=ne(t);N(Object(D.a)(Object(D.a)({},w),{},{code:t})),ee({phoneCountryCode:t,phoneNumber:"".concat(a,".").concat(w.number)})},children:r.map((function(e){return Object(Ge.jsxs)("option",{value:e.isoCode,children:[e.name," (",e.phonecode,")"]},"".concat(e.phonecode,"-").concat(e.isoCode))}))}),Object(Ge.jsx)($e.a.Control,{type:"text",value:w.number,isInvalid:I&&void 0!==I.find((function(e){return"/phoneNumber"===e.instancePath})),onChange:function(e){e.preventDefault();var t=e.target.value,a=w.code,r=ne(a);N(Object(D.a)(Object(D.a)({},w),{},{number:t})),ee({phoneCountryCode:a,phoneNumber:"".concat(r,".").concat(t)})}}),Object(Ge.jsx)($e.a.Control.Feedback,{type:"invalid",children:se("/phoneNumber")})]}),Object(Ge.jsx)("h3",{children:"Address"}),Object(Ge.jsxs)($e.a.Group,{children:[Object(Ge.jsx)($e.a.Label,{children:"Address line 1"}),Object(Ge.jsx)($e.a.Control,{type:"text",value:L.addressLine1,isInvalid:I&&void 0!==I.find((function(e){return"/addressLine1"===e.instancePath})),onChange:function(e){ee({addressLine1:e.target.value})}}),Object(Ge.jsx)($e.a.Control.Feedback,{type:"invalid",children:se("/addressLine1")})]}),Object(Ge.jsxs)($e.a.Group,{children:[Object(Ge.jsx)($e.a.Label,{children:"Address line 2"}),Object(Ge.jsx)($e.a.Control,{type:"text",value:L.addressLine2,isInvalid:I&&void 0!==I.find((function(e){return"/addressLine2"===e.instancePath})),onChange:function(e){ee({addressLine2:e.target.value})}}),Object(Ge.jsx)($e.a.Control.Feedback,{type:"invalid",children:se("/addressLine2")})]}),Object(Ge.jsxs)($e.a.Group,{children:[Object(Ge.jsx)($e.a.Label,{children:"Zip code"}),Object(Ge.jsx)($e.a.Control,{type:"text",value:L.zipCode,isInvalid:I&&void 0!==I.find((function(e){return"/zipCode"===e.instancePath})),onChange:function(e){ee({zipCode:e.target.value})}}),Object(Ge.jsx)($e.a.Control.Feedback,{type:"invalid",children:se("/zipCode")})]}),Object(Ge.jsxs)($e.a.Group,{children:[Object(Ge.jsx)($e.a.Label,{children:"Country"}),Object(Ge.jsx)($e.a.Control,{as:"select",value:L.countryCode,isInvalid:I&&void 0!==I.find((function(e){return"/countryCode"===e.instancePath})),onChange:function(e){X(e.target.value)},children:r.map((function(e){return Object(Ge.jsx)("option",{value:e.isoCode,children:e.name},e.isoCode)}))}),Object(Ge.jsx)($e.a.Control.Feedback,{type:"invalid",children:se("/countryCode")})]}),qi.includes(L.countryCode)?Object(Ge.jsx)(Ge.Fragment,{children:Object(Ge.jsxs)($e.a.Group,{children:[Object(Ge.jsx)($e.a.Label,{children:"State"}),Object(Ge.jsx)($e.a.Control,{as:"select",value:h?h.isoCode:void 0,isInvalid:I&&void 0!==I.find((function(e){return"/state"===e.instancePath})),onChange:function(e){J(e.target.value)},children:o.map((function(e){return Object(Ge.jsx)("option",{value:e.isoCode,children:e.name},e.isoCode)}))}),Object(Ge.jsx)($e.a.Control.Feedback,{type:"invalid",children:se("/state")})]})}):"",v.length>0?Object(Ge.jsxs)($e.a.Group,{children:[Object(Ge.jsx)($e.a.Label,{children:"City"}),Object(Ge.jsx)($e.a.Control,{as:"select",value:L.city,isInvalid:I&&void 0!==I.find((function(e){return"/city"===e.instancePath})),onChange:function(e){return ee({city:e.target.value})},children:v.map((function(e){return Object(Ge.jsx)("option",{value:e.name,children:e.name},e.name)}))}),Object(Ge.jsx)($e.a.Control.Feedback,{type:"invalid",children:se("/city")})]}):Object(Ge.jsxs)($e.a.Group,{children:[Object(Ge.jsx)($e.a.Label,{children:"City"}),Object(Ge.jsx)($e.a.Control,{type:"text",value:L.city,isInvalid:I&&void 0!==I.find((function(e){return"/city"===e.instancePath})),onChange:function(e){return ee({city:e.target.value})}}),Object(Ge.jsx)($e.a.Control.Feedback,{type:"invalid",children:se("/city")})]}),["develop","staging"].includes(E.j.getEnv())?Object(Ge.jsx)($e.a.Group,{children:Object(Ge.jsx)($e.a.Check,{type:"checkbox",checked:q,onChange:function(e){return Y(!!e.target.checked)},label:"Dry run - do not register domain"})}):""]}),Object(Ge.jsx)("div",{children:Object(Ge.jsx)(E.a,{disabled:U,loading:U,onClick:function(){return te.apply(this,arguments)},children:"Save and continue"})})]}),Object(Ge.jsx)(j.a,{md:6,className:"right-column",children:Object(Ge.jsxs)("div",{className:"receipt",children:[Object(Ge.jsx)("div",{className:"receipt-row bold",children:"1 domain"}),Object(Ge.jsxs)("div",{className:"receipt-row btm-border",children:[a," ",Object(Ge.jsx)("span",{children:ie()})]}),Object(Ge.jsxs)("div",{className:"receipt-row",children:["Subtotal ",Object(Ge.jsx)("span",{children:ie()})]}),Object(Ge.jsxs)("div",{className:"receipt-row bold",children:["Estimated total ",Object(Ge.jsx)("span",{children:ie()})]})]})})]})})},Ki=a(202),Gi=a(410),Wi=a(402);a(355);function Qi(){return Qi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Qi.apply(this,arguments)}function Xi(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Ji(e,t){var a=e.title,r=e.titleId,s=Xi(e,["title","titleId"]);return n.createElement("svg",Qi({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,Yi||(Yi=n.createElement("path",{d:"M19.4509 2.97969L17.0204 0.549219C16.654 0.183203 16.1743 0 15.6946 0C15.2146 0 14.7349 0.183203 14.3688 0.549219L0.549316 14.3687C-0.183105 15.1012 -0.183105 16.2883 0.549316 17.0203L2.97979 19.4508C3.3458 19.8168 3.82588 20 4.30557 20C4.78525 20 5.26533 19.8168 5.63135 19.4508L19.4505 5.63125C20.1833 4.89922 20.1833 3.71211 19.4509 2.97969ZM4.30596 18.125L1.8751 15.6945L10.6212 6.94727L13.0524 9.37852L4.30596 18.125ZM14.3782 8.05234L11.947 5.62109L15.6927 1.875H15.6946L18.1251 4.30547L14.3782 8.05234ZM16.8751 11.25L15.8337 13.3332L13.7501 14.375L15.8337 15.4168L16.8751 17.5L17.9165 15.4168L20.0001 14.375L17.9165 13.3332L16.8751 11.25ZM8.7501 3.75L9.3751 2.5L10.6251 1.875L9.3751 1.25L8.7501 0L8.1251 1.25L6.8751 1.875L8.1251 2.5L8.7501 3.75ZM3.1251 6.25L4.1665 4.1668L6.2501 3.125L4.1665 2.0832L3.1251 0L2.08369 2.0832L9.76399e-05 3.125L2.08369 4.1668L3.1251 6.25Z",fill:"#282A35"})))}var $i,eo=n.forwardRef(Ji);a.p;function to(){return to=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},to.apply(this,arguments)}function ao(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function ro(e,t){var a=e.title,r=e.titleId,s=ao(e,["title","titleId"]);return n.createElement("svg",to({width:16,height:17,viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,$i||($i=n.createElement("path",{d:"M15.625 0.750008H14.759C14.5484 0.750008 14.3791 0.923383 14.3841 1.13395L14.4575 4.2142C13.0649 2.11982 10.6809 0.74157 7.97523 0.750039C3.71313 0.763383 0.243353 4.25029 0.25001 8.51238C0.256697 12.7869 3.72392 16.25 8.00001 16.25C9.9977 16.25 11.8188 15.4942 13.1931 14.2529C13.3529 14.1086 13.3604 13.8604 13.2081 13.7081L12.5913 13.0913C12.4508 12.9507 12.224 12.9418 12.0757 13.074C10.9934 14.0389 9.56579 14.625 8.00001 14.625C4.61495 14.625 1.87501 11.8856 1.87501 8.50001C1.87501 5.11495 4.61445 2.37501 8.00001 2.37501C10.4858 2.37501 12.6232 3.85257 13.5836 5.9782L9.63395 5.88416C9.42342 5.87916 9.25001 6.04844 9.25001 6.25907V7.12501C9.25001 7.3321 9.41792 7.50001 9.62501 7.50001H15.625C15.8321 7.50001 16 7.3321 16 7.12501V1.12501C16 0.917914 15.8321 0.750008 15.625 0.750008Z",fill:"white"})))}var no,so=n.forwardRef(ro);a.p;function io(){return io=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},io.apply(this,arguments)}function oo(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function co(e,t){var a=e.title,r=e.titleId,s=oo(e,["title","titleId"]);return n.createElement("svg",io({width:23,height:23,viewBox:"0 0 23 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,no||(no=n.createElement("path",{d:"M23 11.5C23 13.9286 22.2312 16.2948 20.8037 18.2595C19.3762 20.2243 17.3634 21.6867 15.0537 22.4372C12.744 23.1876 10.256 23.1876 7.9463 22.4371C5.6366 21.6867 3.62378 20.2243 2.1963 18.2595C0.768832 16.2948 -2.12312e-07 13.9286 0 11.5C2.12312e-07 9.07144 0.768832 6.70522 2.19631 4.74047C3.62378 2.77572 5.63661 1.31332 7.94631 0.56285C10.256 -0.187617 12.744 -0.187617 15.0537 0.562851L14.1653 3.29714C12.433 2.73429 10.567 2.73429 8.83473 3.29714C7.10246 3.85999 5.59283 4.95679 4.52223 6.43035C3.45162 7.90391 2.875 9.67858 2.875 11.5C2.875 13.3214 3.45162 15.0961 4.52223 16.5696C5.59283 18.0432 7.10245 19.14 8.83473 19.7029C10.567 20.2657 12.433 20.2657 14.1653 19.7029C15.8975 19.14 17.4072 18.0432 18.4778 16.5696C19.5484 15.0961 20.125 13.3214 20.125 11.5H23Z",fill:"#282A35"})))}var lo,po,uo,ho,fo,bo,mo,jo,go,vo,Oo,_o,xo,yo=n.forwardRef(co);a.p;function Co(){return Co=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Co.apply(this,arguments)}function wo(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function No(e,t){var a=e.title,r=e.titleId,s=wo(e,["title","titleId"]);return n.createElement("svg",Co({width:40,height:40,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,lo||(lo=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35 5H5C3.61929 5 2.5 6.11929 2.5 7.5V32.5C2.5 33.8807 3.61929 35 5 35H35C36.3807 35 37.5 33.8807 37.5 32.5V7.5C37.5 6.11929 36.3807 5 35 5ZM5 2.5C2.23858 2.5 0 4.73858 0 7.5V32.5C0 35.2614 2.23858 37.5 5 37.5H35C37.7614 37.5 40 35.2614 40 32.5V7.5C40 4.73858 37.7614 2.5 35 2.5H5Z",fill:"#282A35"})),po||(po=n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.5 15H2.5V12.5H37.5V15Z",fill:"#282A35"})),uo||(uo=n.createElement("path",{d:"M7.5 8.75C7.5 9.44036 6.94036 10 6.25 10C5.55964 10 5 9.44036 5 8.75C5 8.05964 5.55964 7.5 6.25 7.5C6.94036 7.5 7.5 8.05964 7.5 8.75Z",fill:"#282A35"})),ho||(ho=n.createElement("path",{d:"M11.25 8.75C11.25 9.44036 10.6904 10 10 10C9.30964 10 8.75 9.44036 8.75 8.75C8.75 8.05964 9.30964 7.5 10 7.5C10.6904 7.5 11.25 8.05964 11.25 8.75Z",fill:"#282A35"})),fo||(fo=n.createElement("path",{d:"M15 8.75C15 9.44036 14.4404 10 13.75 10C13.0596 10 12.5 9.44036 12.5 8.75C12.5 8.05964 13.0596 7.5 13.75 7.5C14.4404 7.5 15 8.05964 15 8.75Z",fill:"#282A35"})),bo||(bo=n.createElement("path",{d:"M18.6953 21.5898C18.6953 21.722 18.7363 21.8348 18.8184 21.9282C18.9027 22.0194 19.0269 22.0649 19.1909 22.0649C19.3527 22.0649 19.4769 22.0194 19.5635 21.9282C19.6501 21.8371 19.6934 21.7243 19.6934 21.5898C19.6934 21.4531 19.6501 21.3381 19.5635 21.2446C19.4792 21.1489 19.355 21.1011 19.1909 21.1011C19.0246 21.1011 18.9004 21.1489 18.8184 21.2446C18.7363 21.3403 18.6953 21.4554 18.6953 21.5898Z",fill:"#282A35"})),mo||(mo=n.createElement("path",{d:"M23.3745 21.5557C23.1763 21.5557 23.0099 21.5169 22.8755 21.4395C22.7433 21.3597 22.6374 21.256 22.5576 21.1284C22.4756 21.0031 22.4163 20.8618 22.3799 20.7046C22.3457 20.5451 22.3286 20.3844 22.3286 20.2227V20.0791C22.3286 19.9196 22.3457 19.7612 22.3799 19.604C22.4163 19.4468 22.4756 19.3044 22.5576 19.1768C22.6396 19.0514 22.7467 18.95 22.8789 18.8726C23.0133 18.7928 23.1785 18.7529 23.3745 18.7529C23.5021 18.7529 23.6206 18.7746 23.73 18.8179C23.8416 18.8612 23.9373 18.9204 24.0171 18.9956C24.0968 19.0708 24.1595 19.1585 24.2051 19.2588C24.2529 19.3568 24.278 19.4616 24.2803 19.5732H24.8784C24.8784 19.3864 24.8408 19.2109 24.7656 19.0469C24.6904 18.8828 24.5868 18.7404 24.4546 18.6196C24.3201 18.5011 24.1606 18.4077 23.9761 18.3394C23.7938 18.2687 23.5933 18.2334 23.3745 18.2334C23.0942 18.2334 22.8493 18.2835 22.6396 18.3838C22.43 18.484 22.2557 18.6185 22.1167 18.7871C21.9754 18.958 21.8695 19.1551 21.7988 19.3784C21.7282 19.6017 21.6929 19.8353 21.6929 20.0791V20.2227C21.6929 20.4688 21.7282 20.7035 21.7988 20.9268C21.8695 21.1478 21.9754 21.3426 22.1167 21.5112C22.2557 21.6821 22.43 21.8177 22.6396 21.918C22.8493 22.0182 23.0942 22.0684 23.3745 22.0684C23.5705 22.0684 23.7585 22.0353 23.9385 21.9692C24.1185 21.9009 24.278 21.8097 24.417 21.6958C24.556 21.5841 24.6665 21.4543 24.7485 21.3062C24.8328 21.1558 24.8761 20.9985 24.8784 20.8345H24.2803C24.278 20.937 24.2507 21.0327 24.1982 21.1216C24.1481 21.2082 24.0809 21.2834 23.9966 21.3472C23.9123 21.4132 23.8154 21.4645 23.7061 21.501C23.599 21.5374 23.4884 21.5557 23.3745 21.5557Z",fill:"#282A35"})),jo||(jo=n.createElement("path",{d:"M25.8252 20.1167V20.1919C25.8252 20.4585 25.8639 20.7057 25.9414 20.9336C26.0189 21.1615 26.1305 21.3597 26.2764 21.5283C26.4199 21.6969 26.5954 21.8291 26.8027 21.9248C27.0124 22.0205 27.2482 22.0684 27.5103 22.0684C27.77 22.0684 28.0036 22.0205 28.2109 21.9248C28.4183 21.8291 28.5949 21.6969 28.7407 21.5283C28.8843 21.3597 28.9948 21.1615 29.0723 20.9336C29.1497 20.7057 29.1885 20.4585 29.1885 20.1919V20.1167C29.1885 19.8501 29.1497 19.6029 29.0723 19.375C28.9948 19.1449 28.8843 18.9455 28.7407 18.7769C28.5949 18.6082 28.4172 18.4761 28.2075 18.3804C28.0002 18.2824 27.7655 18.2334 27.5034 18.2334C27.2437 18.2334 27.0101 18.2824 26.8027 18.3804C26.5954 18.4761 26.4199 18.6082 26.2764 18.7769C26.1305 18.9455 26.0189 19.1449 25.9414 19.375C25.8639 19.6029 25.8252 19.8501 25.8252 20.1167ZM26.4575 20.1919V20.1167C26.4575 19.9367 26.4792 19.7646 26.5225 19.6006C26.5658 19.4342 26.6318 19.2884 26.7207 19.1631C26.8073 19.0378 26.9155 18.9386 27.0454 18.8657C27.1753 18.7905 27.328 18.7529 27.5034 18.7529C27.6789 18.7529 27.8315 18.7905 27.9614 18.8657C28.0936 18.9386 28.2041 19.0378 28.293 19.1631C28.3796 19.2884 28.4445 19.4342 28.4878 19.6006C28.5334 19.7646 28.5562 19.9367 28.5562 20.1167V20.1919C28.5562 20.3742 28.5345 20.5485 28.4912 20.7148C28.4479 20.8789 28.383 21.0236 28.2964 21.1489C28.2075 21.2743 28.097 21.3734 27.9648 21.4463C27.835 21.5192 27.6834 21.5557 27.5103 21.5557C27.3348 21.5557 27.181 21.5192 27.0488 21.4463C26.9167 21.3734 26.8073 21.2743 26.7207 21.1489C26.6318 21.0236 26.5658 20.8789 26.5225 20.7148C26.4792 20.5485 26.4575 20.3742 26.4575 20.1919Z",fill:"#282A35"})),go||(go=n.createElement("path",{d:"M30.4976 18.3018H29.9302V22H30.5317V19.0571C30.5454 19.0207 30.5625 18.9865 30.583 18.9546C30.6058 18.9227 30.632 18.8942 30.6616 18.8691C30.7004 18.8372 30.7471 18.8133 30.8018 18.7974C30.8587 18.7791 30.9248 18.77 31 18.77C31.0684 18.77 31.1276 18.7791 31.1777 18.7974C31.2301 18.8133 31.2734 18.8395 31.3076 18.876C31.3441 18.9147 31.3703 18.9637 31.3862 19.0229C31.4045 19.0822 31.4136 19.1506 31.4136 19.228V22H32.0151V19.2314C32.0151 19.2178 32.0151 19.2064 32.0151 19.1973C32.0151 19.1859 32.0151 19.1745 32.0151 19.1631C32.022 19.1061 32.0356 19.0549 32.0562 19.0093C32.0767 18.9614 32.1051 18.9193 32.1416 18.8828C32.1781 18.8486 32.2236 18.8213 32.2783 18.8008C32.333 18.7803 32.3979 18.77 32.4731 18.77C32.5438 18.77 32.6053 18.7791 32.6577 18.7974C32.7124 18.8156 32.758 18.8429 32.7944 18.8794C32.8286 18.9181 32.8548 18.9671 32.873 19.0264C32.8913 19.0856 32.9004 19.154 32.9004 19.2314V22H33.502V19.2383C33.502 19.0605 33.4814 18.9067 33.4404 18.7769C33.3994 18.6447 33.3402 18.5376 33.2627 18.4556C33.1921 18.3826 33.1055 18.328 33.0029 18.2915C32.9004 18.2528 32.7853 18.2334 32.6577 18.2334C32.5643 18.2357 32.4777 18.2482 32.3979 18.271C32.3205 18.2938 32.2498 18.3245 32.186 18.3633C32.1359 18.3975 32.0892 18.4373 32.0459 18.4829C32.0026 18.5285 31.965 18.5775 31.9331 18.6299C31.908 18.5729 31.8773 18.5216 31.8408 18.4761C31.8066 18.4305 31.7679 18.3918 31.7246 18.3599C31.6654 18.3188 31.5959 18.2881 31.5161 18.2676C31.4386 18.2448 31.3509 18.2334 31.2529 18.2334C31.0798 18.2357 30.9316 18.2733 30.8086 18.3462C30.6878 18.4191 30.5898 18.5205 30.5146 18.6504L30.4976 18.3018Z",fill:"#282A35"})),vo||(vo=n.createElement("path",{d:"M18.6953 30.5898C18.6953 30.722 18.7363 30.8348 18.8184 30.9282C18.9027 31.0194 19.0269 31.0649 19.1909 31.0649C19.3527 31.0649 19.4769 31.0194 19.5635 30.9282C19.6501 30.8371 19.6934 30.7243 19.6934 30.5898C19.6934 30.4531 19.6501 30.3381 19.5635 30.2446C19.4792 30.1489 19.355 30.1011 19.1909 30.1011C19.0246 30.1011 18.9004 30.1489 18.8184 30.2446C18.7363 30.3403 18.6953 30.4554 18.6953 30.5898Z",fill:"#282A35"})),Oo||(Oo=n.createElement("path",{d:"M21.7988 31H22.4312V28.3477C22.4744 28.2679 22.5246 28.195 22.5815 28.1289C22.6408 28.0628 22.7046 28.0047 22.7729 27.9546C22.8573 27.8976 22.9495 27.8532 23.0498 27.8213C23.1501 27.7871 23.2583 27.77 23.3745 27.77C23.509 27.77 23.6274 27.786 23.73 27.8179C23.8348 27.8498 23.9237 27.901 23.9966 27.9717C24.0672 28.0423 24.1208 28.1346 24.1572 28.2485C24.1937 28.3625 24.2119 28.5015 24.2119 28.6655V31H24.8442V28.6519C24.8442 28.4058 24.8135 28.1938 24.752 28.0161C24.6927 27.8361 24.6073 27.688 24.4956 27.5718C24.384 27.4556 24.2484 27.3701 24.0889 27.3154C23.9316 27.2607 23.7562 27.2334 23.5625 27.2334C23.4189 27.2357 23.2822 27.2573 23.1523 27.2983C23.0247 27.3371 22.9062 27.3929 22.7969 27.4658C22.724 27.5137 22.6545 27.5706 22.5884 27.6367C22.5246 27.7005 22.4653 27.7712 22.4106 27.8486L22.3662 27.3018H21.7988V31Z",fill:"#282A35"})),_o||(_o=n.createElement("path",{d:"M27.6367 31.0684C27.9967 31.0684 28.2987 30.9966 28.5425 30.853C28.7886 30.7072 28.9731 30.5409 29.0962 30.354L28.71 30.0532C28.5938 30.2036 28.4479 30.3244 28.2725 30.4155C28.097 30.5067 27.8965 30.5522 27.6709 30.5522C27.5 30.5522 27.3439 30.5203 27.2026 30.4565C27.0614 30.3927 26.9406 30.305 26.8403 30.1934C26.7424 30.0885 26.6649 29.9678 26.6079 29.8311C26.5532 29.6943 26.5179 29.536 26.502 29.356V29.332H29.144V29.0483C29.144 28.7909 29.111 28.5516 29.0449 28.3306C28.9811 28.1095 28.8831 27.917 28.751 27.7529C28.6188 27.5911 28.4525 27.4647 28.252 27.3735C28.0537 27.2801 27.8213 27.2334 27.5547 27.2334C27.3428 27.2334 27.1354 27.2767 26.9326 27.3633C26.7321 27.4499 26.5532 27.5741 26.396 27.7358C26.2365 27.8999 26.1089 28.1004 26.0132 28.3374C25.9175 28.5721 25.8696 28.8387 25.8696 29.1372V29.2808C25.8696 29.5382 25.9129 29.7764 25.9995 29.9951C26.0861 30.2139 26.2069 30.403 26.3618 30.5625C26.5168 30.722 26.7025 30.8462 26.9189 30.9351C27.1377 31.0239 27.377 31.0684 27.6367 31.0684ZM27.5547 27.7529C27.7165 27.7529 27.8555 27.7826 27.9717 27.8418C28.0902 27.901 28.1882 27.9785 28.2656 28.0742C28.3431 28.1699 28.4035 28.2839 28.4468 28.416C28.4901 28.5459 28.5117 28.6678 28.5117 28.7817V28.8125H26.5225C26.5475 28.6416 26.5908 28.4912 26.6523 28.3613C26.7161 28.2292 26.7936 28.1175 26.8848 28.0264C26.9759 27.9375 27.0785 27.8703 27.1924 27.8247C27.3063 27.7769 27.4271 27.7529 27.5547 27.7529Z",fill:"#282A35"})),xo||(xo=n.createElement("path",{d:"M31.7041 26.4062H31.0684V27.3018H30.0977V27.7905H31.0684V29.8003C31.0684 30.0282 31.098 30.223 31.1572 30.3848C31.2188 30.5443 31.3019 30.6742 31.4067 30.7744C31.5116 30.877 31.6346 30.9521 31.7759 31C31.9194 31.0456 32.0732 31.0684 32.2373 31.0684C32.3353 31.0684 32.4333 31.0638 32.5312 31.0547C32.6315 31.0456 32.7261 31.0319 32.8149 31.0137C32.9038 30.9977 32.9858 30.9784 33.061 30.9556C33.1362 30.9305 33.2 30.902 33.2524 30.8701L33.1636 30.4224C33.1248 30.4315 33.0747 30.4429 33.0132 30.4565C32.9539 30.4679 32.8901 30.4793 32.8218 30.4907C32.7511 30.5021 32.6794 30.5124 32.6064 30.5215C32.5335 30.5283 32.4629 30.5317 32.3945 30.5317C32.3011 30.5317 32.2122 30.5203 32.1279 30.4976C32.0459 30.4748 31.973 30.4349 31.9092 30.3779C31.8454 30.3232 31.7952 30.2492 31.7588 30.1558C31.7223 30.0623 31.7041 29.9438 31.7041 29.8003V27.7905H33.1123V27.3018H31.7041V26.4062Z",fill:"#282A35"})))}var Eo=n.forwardRef(No);a.p;var So=function(){var e=Object(n.useState)([]),t=Object(Xe.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(!1),i=Object(Xe.a)(s,2),o=i[0],c=i[1],p=Object(n.useState)(),u=Object(Xe.a)(p,2),h=u[0],f=u[1],b=function(e){var t=e.children,a=e.eventKey,r=Object(Ki.b)(a,(function(){f(a===h?null:a)})),n=a===h?"active":"";return Object(Ge.jsx)(v.a,{variant:"-accordion-toggle-btn",className:n,onClick:r,children:t})};function g(e){return e.status.ERROR?"pink":e.status.ORDER_PROCESSING_COMPLETED?"green":"black"}function O(){return _.apply(this,arguments)}function _(){return(_=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=2;break}return e.abrupt("return");case 2:return c(!0),e.prev=3,e.next=6,$.post("/domains/get-orders");case 6:t=e.sent,E.i.logAll(t),t&&t.data&&t.data.orders&&r(t.data.orders.filter((function(e){return e.status.PAYMENT_REGISTERED}))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),E.i.logError(e.t0);case 14:c(!1);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}Object(n.useEffect)((function(){O()}),[]);var x=function(e){if(e.errors&&e.errors.length){var t=e.errors[e.errors.length-1].replace("[","").replace("]","");if(-1!==t.indexOf("ADMIN.")&&-1!==t.indexOf("OWNER.")){var a=t.split("OWNER.");t=a[0].trim().replace(/,$/,"")}return t=t.replace(/ADMIN.|_/g,"").replace(/TECH.|_/g,"").replace(/BILL.|_/g,"").replace(/OWNER.|_/g,""),Object(Ge.jsx)("p",{children:t.trim()})}return""};return Object(Ge.jsx)(Ge.Fragment,{children:Object(Ge.jsx)(m.a,{className:"domain-orders",children:Object(Ge.jsxs)(j.a,{md:{span:10,offset:1},sm:{span:12,offset:0},children:[Object(Ge.jsx)(m.a,{className:"-back-btn-wrp",children:Object(Ge.jsx)(j.a,{children:Object(Ge.jsx)(en,{text:"Back",to:"/"})})}),Object(Ge.jsxs)(m.a,{className:"-header-wrp",children:[Object(Ge.jsx)(j.a,{md:8,children:Object(Ge.jsx)("h1",{children:"My domains"})}),Object(Ge.jsx)(j.a,{md:4,className:"-check-status-btn-wrp",children:Object(Ge.jsxs)(E.a,{onClick:O,children:["Check status ",Object(Ge.jsx)(so,{})]})})]}),Object(Ge.jsx)(m.a,{className:"-body-wrp",children:Object(Ge.jsxs)(j.a,{children:[o?Object(Ge.jsx)("div",{className:"domain-orders-wrp",children:Object(Ge.jsx)(Cr,{text:"Please wait...",text_placement:"bottom"})}):Object(Ge.jsx)(Ge.Fragment,{children:a.length>0?Object(Ge.jsx)(Ge.Fragment,{children:Object(Ge.jsx)(Gi.a,{children:a.map((function(e){var t=function(e){return e.status.ERROR?"FAILED":e.status.ORDER_CREATED&&!e.status.PAYMENT_REGISTERED?"UNPAID":e.status.ORDER_PROCESSING_COMPLETED?"ACTIVE":"PENDING"}(e),a=function(e){return e.status.ERROR?"Registration failed.":e.status.DOMAIN_REGISTRATION_INITIALIZED&&!e.status.DOMAIN_REGISTRATION_COMPLETED?"Registering domain. Please wait.":e.status.DOMAIN_REGISTRATION_COMPLETED&&!e.status.ORDER_PROCESSING_COMPLETED?"Setting up SSL certificate and DNS settings. Please wait.":"-"}(e);return Object(Ge.jsxs)(Dt.a,{children:[Object(Ge.jsx)(Dt.a.Header,{children:Object(Ge.jsx)(b,{eventKey:e.orderId,children:Object(Ge.jsxs)(m.a,{className:"-card-inner-header",children:[Object(Ge.jsx)(j.a,{md:3,children:Object(Ge.jsxs)("div",{className:"-domain-name-wrp",children:["PENDING"===t&&Object(Ge.jsx)(yo,{className:"-spinner-icon"}),e.domainName]})}),Object(Ge.jsx)(j.a,{md:3,children:Object(Ge.jsx)(Wi.a,{className:g(e),children:t})}),Object(Ge.jsxs)(j.a,{md:4,children:["ACTIVE"===t&&Object(Ge.jsxs)(Ge.Fragment,{children:["Renews on ",yt()(1e3*e.timestamp).add(1,"y").format("ll")," for $25.00"]}),"ACTIVE"!==t&&Object(Ge.jsx)(Ge.Fragment,{children:a})]}),Object(Ge.jsx)(j.a,{md:2,className:"-accordion-btn-wrp",children:Object(Ge.jsx)(v.a,{className:"btn-sm-round",children:Object(Ge.jsx)($s.a,{})})})]})})}),Object(Ge.jsx)(Gi.a.Collapse,{eventKey:e.orderId,children:Object(Ge.jsx)(Dt.a.Body,{children:Object(Ge.jsxs)(m.a,{className:"-card-inner-body",children:[Object(Ge.jsx)(j.a,{md:3,children:"\xa0"}),Object(Ge.jsx)(j.a,{md:3,children:"\xa0"}),Object(Ge.jsxs)(j.a,{md:5,children:[e.status.ORDER_PROCESSING_COMPLETED&&Object(Ge.jsxs)(Ge.Fragment,{children:["Registered on ",yt()(1e3*e.timestamp).format("ll")]}),e.status.ERROR&&!(e.status.PAYMENT_COMPLETED||e.status.DOMAIN_REGISTRATION_COMPLETED)&&Object(Ge.jsxs)(Ge.Fragment,{children:["Registration failed on ",yt()(1e3*e.timestamp).format("ll"),Object(Ge.jsx)("br",{}),Object(Ge.jsx)("br",{}),Object(Ge.jsx)("strong",{children:"The following error was returned:"}),Object(Ge.jsx)("br",{}),x(e),Object(Ge.jsx)("br",{}),Object(Ge.jsx)(ja.b,{className:"domain-orders-link",to:"/domains/register/".concat(e.spaceId,"/").concat(e.domainName),children:"Update information and try again"})]}),e.status.ERROR&&(e.status.PAYMENT_COMPLETED||e.status.DOMAIN_REGISTRATION_COMPLETED)&&Object(Ge.jsxs)(Ge.Fragment,{children:["Registration failed on ",yt()(1e3*e.timestamp).format("ll"),Object(Ge.jsx)("br",{}),Object(Ge.jsx)("br",{}),Object(Ge.jsx)("strong",{children:"The following error was returned:"}),Object(Ge.jsx)("br",{}),x(e),Object(Ge.jsx)("br",{}),"Please contact support to resolve this issue."]}),Object(Ge.jsx)("br",{}),Object(Ge.jsx)("br",{}),Object(Ge.jsx)("strong",{children:"Order connected to the space"}),Object(Ge.jsx)("br",{}),Object(Ge.jsx)(ja.b,{className:"domain-orders-link",to:"/space/".concat(e.spaceId),children:e.spaceId})]}),Object(Ge.jsx)(j.a,{md:1,children:"\xa0"})]})})})]},e.orderId)}))})}):Object(Ge.jsx)("div",{className:"domain-orders-wrp",children:Object(Ge.jsxs)(j.a,{children:[Object(Ge.jsx)(m.a,{children:Object(Ge.jsx)(j.a,{children:Object(Ge.jsx)("div",{className:"-icon-circle",children:Object(Ge.jsx)(Eo,{})})})}),Object(Ge.jsx)(m.a,{children:Object(Ge.jsxs)(j.a,{children:[Object(Ge.jsx)("h4",{className:"-title",children:"No domains yet"}),Object(Ge.jsx)("div",{className:"-subtitle",children:"Looks like you don\u2019t have any domains yet"})]})})]})})}),Object(Ge.jsxs)("div",{className:"-bottom-tip-wrp",children:[Object(Ge.jsx)(eo,{className:"-magic-wand-icon"})," ",Object(Ge.jsx)("strong",{children:"Tip:"})," Got a new domain? For new domains it can take up to ",Object(Ge.jsx)("strong",{children:"72 hours"})," before they are connected to your space and ready to use. Often it takes about ",Object(Ge.jsx)("strong",{children:"1 hour"}),"."]})]})})]})})})},ko=a(133);var Mo=function(e){var t=e.children,a=Object(ko.a)(e,["children"]),r=Object(_.d)((function(e){return e.main}));return Object(Ge.jsx)(O.b,Object(D.a)(Object(D.a)({},a),{},{render:function(e){var a=e.location;return r.initialized&&(r.user.is_registered?t:Object(Ge.jsx)(O.a,{to:{pathname:"/",state:{from:a}}}))}}))},Lo=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(p.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).initialLoad=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.refreshAuthStatus();case 2:if(!e.props.loggedIn){t.next=5;break}return t.next=5,e.props.fetchMainBulkData();case 5:e.props.loggedIn&&e.props.fetchDomainOrders();case 6:case"end":return t.stop()}}),t)}))),e.handleLogout=function(t){t.preventDefault(),e.props.logOut()},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.initialLoad()}},{key:"componentDidUpdate",value:function(){E.i.logDebug("Base -> componentDidUpdate -> this.props.main_state: ",this.props.main_state)}},{key:"render",value:function(){return Object(Ge.jsxs)(Ge.Fragment,{children:[this.props.display_header&&Object(Ge.jsx)("div",{className:"header-nav-bar",children:Object(Ge.jsx)(E.e,{skip_authentication:!0,show_terms_footer_in_modal:!1})}),!this.props.fatal_error&&this.props.loggedIn&&this.props.main_state.fully_initialized&&Object(Ge.jsx)(Oi,{}),Object(Ge.jsxs)(ja.a,{children:[Object(Ge.jsxs)(b.a,{fluid:!0,children:[this.props.loggedIn&&Object(Ge.jsxs)(Ge.Fragment,{children:[this.props.fatal_error&&Object(Ge.jsx)(pn,{message:this.props.fatal_error}),!this.props.fatal_error&&Object(Ge.jsx)(Ge.Fragment,{children:Object(Ge.jsxs)(O.d,{children:[Object(Ge.jsx)(Mo,{exact:!0,path:"/space/:spaceId",children:Object(Ge.jsx)(dn,{})}),Object(Ge.jsx)(O.b,{path:"/createspace/stepone",children:this.props.main_state.initialized&&Object(Ge.jsx)(Rn,{})}),Object(Ge.jsx)(Mo,{path:"/space/:spaceId/editor",children:Object(Ge.jsx)(vi,{})}),Object(Ge.jsx)(Mo,{path:"/createspace/templatepicker",children:Object(Ge.jsx)(ys,{})}),Object(Ge.jsx)(Mo,{path:"/createspace/setname",children:Object(Ge.jsx)(Bn,{})}),Object(Ge.jsx)(Mo,{path:"/createspace/finalize",children:Object(Ge.jsx)(Un,{})}),Object(Ge.jsx)(Mo,{path:"/domains/start/:spaceId",children:Object(Ge.jsx)(Ei,{})}),Object(Ge.jsx)(Mo,{path:"/domains/search/:spaceId",children:Object(Ge.jsx)(Ii,{})}),Object(Ge.jsx)(Mo,{path:"/domains/register/:spaceId/:domain",children:Object(Ge.jsx)(Zi,{})}),Object(Ge.jsx)(Mo,{path:"/domains",children:Object(Ge.jsx)(So,{})}),Object(Ge.jsx)(O.b,{path:"/",children:this.props.main_state.initialized&&Object(Ge.jsx)(Ge.Fragment,{children:this.props.main_state.user.onboarding_step?Object(Ge.jsx)(Ge.Fragment,{children:2===this.props.main_state.user.onboarding_step?Object(Ge.jsx)(O.a,{to:"/createspace/stepone"}):Object(Ge.jsx)(En,{})}):Object(Ge.jsx)(Wt,{})})})]})})]}),this.props.main_state.loading.length>0&&Object(Ge.jsx)(Cr,{position:"fixed",top_displacement:"auto"}),Object(Ge.jsx)(_i,{}),Object(Ge.jsx)(ta,{}),Object(Ge.jsx)(aa,{}),Object(Ge.jsx)(ra,{})]}),this.props.display_footer&&Object(Ge.jsx)("div",{className:"footer-terms",children:Object(Ge.jsx)(E.g,{position:"relative"})})]})]})}}]),a}(s.a.Component),Po=Object(_.b)((function(e){return{main_state:e.main,fatal_error:e.main.fatal_error,loggedIn:e.auth.loggedIn,display_footer:e.main.display_footer,display_header:e.main.display_header}}),(function(e){return Object(Ke.bindActionCreators)({refreshLoginStatus:oa,refreshAuthStatus:ca,fetchMainBulkData:Le,logOut:sa,fetchDomainOrders:fa},e)}))(Lo),Do=Object(Ke.combineReducers)({main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0,a=null,n=null;switch(t.type){case"Main::setBulkData":return E.i.logDebug("mainReducer -> Main::setBulkData -> action.payload: ",t.payload),a=t.payload,W.maxContentLength=1024*a.quota.storage.max_file_size,W.maxBodyLength=W.maxContentLength,n=Object(D.a)(Object(D.a)({},e),{},{initialized:!0,fully_initialized:!0,partially_initialized:!1,user:a.user,subscription_plan_options:a.subscription_plan_options,subscription_plan:a.subscription_plan,quota:a.quota,usage:a.usage,usage_status:a.usage_status,spaces:a.spaces.map((function(e){return"undefined"!==typeof e.files&&e.files.length&&(e.files=e.files.map((function(e){return be(e)}))),e}))});case"Main::updateBulkData":return E.i.logDebug("mainReducer -> Main::updateBulkData -> action.payload: ",t.payload),a=t.payload,(n=R(e)).fully_initialized||(n.partially_initialized=!0),n.initialized||(n.initialized=!0),"undefined"!==typeof a.user&&(n.user=U(e.user,a.user)),"undefined"!==typeof a.subscription_plan_options&&(n.subscription_plan_options=a.subscription_plan_options),"undefined"!==typeof a.subscription_plan&&(n.subscription_plan=a.subscription_plan),"undefined"!==typeof a.quota&&(W.maxContentLength=1024*a.quota.storage.max_file_size,W.maxBodyLength=W.maxContentLength,n.quota=a.quota),"undefined"!==typeof a.usage&&(n.usage=a.usage),"undefined"!==typeof a.usage_status&&(n.usage_status=a.usage_status),"undefined"!==typeof a.spaces&&(n.spaces=a.spaces.map((function(e){return"undefined"!==typeof e.files&&e.files.length&&(e.files=e.files.map((function(e){return be(e)}))),e}))),n;case"Main::setEditorContent":return E.i.logDebug("mainReducer -> Main::setEditorContent -> action.payload: ",t.payload),Object(D.a)(Object(D.a)({},e),{},{editor_content:Object(D.a)(Object(D.a)({},e.editor_content),t.payload)});case"Main::setDisplayFooter":return E.i.logDebug("mainReducer -> Main::setDisplayFooter -> action.payload: ",t.payload),Object(D.a)(Object(D.a)({},e),{},{display_footer:t.payload});case"Main::setDisplayHeader":return E.i.logDebug("mainReducer -> Main::setDisplayHeader -> action.payload: ",t.payload),Object(D.a)(Object(D.a)({},e),{},{display_header:t.payload});case"Main/User::update":return E.i.logDebug("mainReducer -> Main/User::update -> action.payload: ",t.payload),Object(D.a)(Object(D.a)({},e),{},{user:U(e.user,t.payload)});case"Main/Spaces::set":E.i.logDebug("mainReducer -> Main/Spaces::set -> action.payload: ",t.payload);var s=t.payload;return Object(D.a)(Object(D.a)({},e),{},{spaces:s.map((function(e){return"undefined"!==typeof e.files&&e.files.length&&(e.files=e.files.map((function(e){return be(e)}))),e}))});case"Main/Space::add":E.i.logDebug("mainReducer -> Main/Space::add -> action.payload: ",t.payload);var i=t.payload,o=e.spaces.filter((function(e){return e.id===i.id}));if(void 0!==i.files&&(i.files.length&&(i.files=i.files.map((function(e){return be(e)}))),i.files=i.files.sort(we)),o.length>0){var c=o[0];return i.files&&(c.files=i.files),Object(D.a)(Object(D.a)({},e),{},{spaces:e.spaces.map((function(e){return e.id===c.id?c:e}))})}return Object(D.a)(Object(D.a)({},e),{},{spaces:[].concat(Object(P.a)(e.spaces),[i])});case"Main/Space::remove":E.i.logDebug("mainReducer -> Main/Space::remove -> action.payload: ",t.payload);var l=t.payload;return Object(D.a)(Object(D.a)({},e),{},{spaces:e.spaces.filter((function(e){return e.id!==l}))});case"Main/Space::setSpacePath":return E.i.logDebug("mainReducer -> Main/Space::setSpacePath -> action.payload: ",t.payload),Object(D.a)(Object(D.a)({},e),{},{space_path:t.payload});case"Main/Space::update":E.i.logDebug("mainReducer -> Main/Space::update -> action.payload: ",t.payload);var d=t.payload,p=e.files_uploaded,u=e.spaces.map((function(e){if(e.id===d.id){if("undefined"!==typeof d.state&&(e.state=d.state),"undefined"!==typeof d.folders&&(e.folders=d.folders),"undefined"!==typeof d.files){var t=d.files.map((function(t){var a=be(t);if(p.length>0){var n=p.findIndex((function(e){return e.path===t.path}));n>-1&&(p[n].processing_status===r.Active&&(a.processing_status=r.Uploaded,a.last_modified=p[n].last_modified),p.splice(n,1))}if(!a.last_modified){var s=e.files.find((function(e){return e.path===a.path}));s&&(a.last_modified=s.last_modified)}return a}));e.files=t}"undefined"!==typeof d.usage&&(e.usage=d.usage),"undefined"!==typeof d.finalize_deletion_uts&&(e.finalize_deletion_uts=d.finalize_deletion_uts)}return e}));return Object(D.a)(Object(D.a)({},e),{},{spaces:u,files_uploaded:p});case"Main/Space/FilesAndFolders::set":E.i.logDebug("mainReducer -> Main/Space/FilesAndFolders::set -> action.payload: ",t.payload);var h=t.payload,f=h.space_id,b=h.backend_files,m=h.backend_folders,j=e.files_uploaded,g=e.spaces.map((function(e){if(e.id===f){if(b.length){var t=b.map((function(t){var a=be(t);if(j.length>0){var n=j.findIndex((function(e){return e.path===t.path}));n>-1&&(j[n].processing_status===r.Active&&(a.processing_status=r.Uploaded,a.last_modified=j[n].last_modified),j.splice(n,1))}if(!a.last_modified){var s=e.files.find((function(e){return e.path===a.path}));s&&(a.last_modified=s.last_modified)}return a}));e.files=t}else e.files=[];e.folders=m}return e}));return Object(D.a)(Object(D.a)({},e),{},{spaces:g,files_uploaded:j});case"Main/Space/Files::add":E.i.logDebug("mainReducer -> Main/Space/FilesAndFolders::add -> action.payload: ",t.payload);var v=t.payload;return Object(D.a)(Object(D.a)({},e),{},{files_uploaded:e.files_uploaded.concat(v)});case"Main/Space/File::deleteUploaded":E.i.logDebug("mainReducer -> Main/Space/File::deleteUploaded -> action.payload: ",t.payload);var O=t.payload;return Object(D.a)(Object(D.a)({},e),{},{files_uploaded:e.files_uploaded.filter((function(e){return e.path!==O.path}))});case"Main/Space/File::setProcessingStatus":E.i.logDebug("mainReducer -> Main/Space/File::setProcessingStatus -> action.payload: ",t.payload);var _=t.payload,x=_.file,y=_.processing_status,C=_.processing_status_error,w="string"===typeof x?x:x.path,N=w.split("/")[0],S=!(w.indexOf(".")>-1);return S?Object(D.a)(Object(D.a)({},e),{},{spaces:e.spaces.map((function(e){return e.id===N&&void 0!==e.folders&&(e.folders=e.folders.map((function(e){return e.path===w&&(e.processing_status=y,e.processing_status_error=C),e}))),e}))}):Object(D.a)(Object(D.a)({},e),{},{files_uploaded:e.files_uploaded.map((function(e){return e.path===w&&(e.processing_status=y,e.processing_status_error=C),e})),spaces:e.spaces.map((function(e){return e.id===N&&void 0!==e.files&&(e.files=e.files.map((function(e){return e.path===w&&(e.processing_status=y,e.processing_status_error=C),e}))),e}))});case"Main/Space/File::resetFileUpload":return E.i.logDebug("mainReducer -> Main/Space/File::resetFileUpload"),Object(D.a)(Object(D.a)({},e),{},{files_uploaded:[]});case"Main/Space/File::delete":E.i.logDebug("mainReducer -> Main/Space/File::delete -> action.payload: ",t.payload);var k=t.payload;return Object(D.a)(Object(D.a)({},e),{},{spaces:e.spaces.map((function(e){return e.id===k.space_id&&void 0!==e.files&&(e.files=e.files.filter((function(e){return e.path!==k.path}))),e}))});case"Main::setLoading":E.i.logDebug("mainReducer -> Main::setLoading -> action.payload: ",t.payload);var M=t.payload;return Object(D.a)(Object(D.a)({},e),{},{loading:[].concat(Object(P.a)(e.loading),[M])});case"Main::removeLoading":E.i.logDebug("mainReducer -> Main::removeLoading -> action.payload: ",t.payload);var L=t.payload;return Object(D.a)(Object(D.a)({},e),{},{loading:e.loading.filter((function(e){return e!==L}))});case"Main::addFatalError":return E.i.logDebug("mainReducer -> Main::addFatalError -> action.payload: ",t.payload),Object(D.a)(Object(D.a)({},e),{},{fatal_error:t.payload,loading:[]});case"Main/Space/Files::hideTooltip":return E.i.logDebug("mainReducer -> Main/Space/Files::hideTooltip -> action.payload: ",t.payload),Object(D.a)(Object(D.a)({},e),{},{hide_tooltips:t.payload});default:return e}},createSpace:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CreateSpace::setSpaceId":return E.i.logDebug("createSpaceReducer -> CreateSpace::setSpaceId -> action.payload: ",t.payload),Object(D.a)(Object(D.a)({},e),{},{spaceId:t.payload});case"CreateSpace::setTemplate":return E.i.logDebug("createSpaceReducer -> CreateSpace::setTemplate -> action.payload: ",t.payload),Object(D.a)(Object(D.a)({},e),{},{template:t.payload});case"CreateSpace::reset":return E.i.logDebug("createSpaceReducer -> CreateSpace::reset"),Dn;default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na,t=arguments.length>1?arguments[1]:void 0;return"Auth::setLoggedIn"===t.type?(E.i.logDebug("authReducer -> Auth::setLoggedIn -> action.payload: ",t.payload),Object(D.a)(Object(D.a)({},e),{},{loggedIn:t.payload})):e},notification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Notification::dismiss":return E.i.logDebug("notificationReducer -> Notification::dismiss -> action.payload: ",t.payload),Object(D.a)(Object(D.a)({},e),{},{notifications:e.notifications.map((function(e){return e.id===t.payload.id&&(e.dismissed=!0),e}))});case"Notification::update":return E.i.logDebug("notificationReducer -> Notification::update -> action.payload: ",t.payload),Object(D.a)(Object(D.a)({},e),{},{notifications:e.notifications.map((function(e){return e.id===t.payload.id?B(t.payload,e,!0):e}))});case"Notification::add":return E.i.logDebug("notificationReducer -> Notification::add -> action.payload: ",t.payload),Object(D.a)(Object(D.a)({},e),{},{notifications:[].concat(Object(P.a)(e.notifications),[t.payload])});case"Notification::addError":return E.i.logDebug("notificationReducer -> Notification::addError -> action.payload: ",t.payload),Object(D.a)(Object(D.a)({},e),{},{notifications:[].concat(Object(P.a)(e.notifications),[Z(t.payload)])});default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Modal::add":return E.i.logDebug("modalReducer -> Modal::add -> action.payload: ",t.payload),Object(D.a)(Object(D.a)({},e),{},{modals:[].concat(Object(P.a)(e.modals),[t.payload])});case"Modal::dismiss":return E.i.logDebug("modalReducer -> Modal::dismiss -> action.payload: ",t.payload),Object(D.a)(Object(D.a)({},e),{},{modals:e.modals.map((function(e){return e.id===t.payload.id&&(e.dismissed=!0),e}))});case"Modal::update":return E.i.logDebug("modalReducer -> Modal::update -> action.payload: ",t.payload),Object(D.a)(Object(D.a)({},e),{},{modals:e.modals.map((function(e){return e.id===t.payload.id?B(t.payload,e,!0):e}))});default:return e}},domains:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pa,t=arguments.length>1?arguments[1]:void 0;return ua.match(t)?(E.i.logDebug("domainsReducer -> Domains::setDomainOrders -> action.payload: ",t.payload),Object(D.a)(Object(D.a)({},e),{},{orders:t.payload})):ha.match(t)?(E.i.logDebug("domainsReducer -> Domains::setDomainProducts -> action.payload: ",t.payload),Object(D.a)(Object(D.a)({},e),{},{products:t.payload})):e}}),Fo=a(107),To=a(203),Io=a(209),Ao=a(66),Ro=l.a.mark(Uo),Bo=l.a.mark(Ho);function Uo(e){var t,a,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ao.a)(Te("fetchMainBulkDataAction"));case 2:return e.next=4,J.post("/userinfo",{action:"getMainBulkData"});case 4:if(a=e.sent,"undefined"===typeof(r=te(a))){e.next=10;break}return e.next=9,Object(Ao.a)(V(r));case 9:case 13:case 18:return e.abrupt("return");case 10:if(!(a.status>=400)){e.next=14;break}return e.next=13,Object(Ao.a)(V({code:"INTERNAL_SERVER_ERROR",description:"An unknown error occurred"}));case 14:if("undefined"!==typeof(n=null===(t=a.data)||void 0===t?void 0:t.data)&&null!==n&&"undefined"!==typeof n.user&&"undefined"!==typeof n.subscription_plan_options){e.next=19;break}return e.next=18,Object(Ao.a)(V({code:"INTERNAL_SERVER_ERROR",description:"Received a malformed server response"}));case 19:if("undefined"===typeof n.subscription_plan){e.next=24;break}return e.next=22,Object(Ao.a)(Pe(n));case 22:e.next=26;break;case 24:return e.next=26,Object(Ao.a)(De(n));case 26:return e.next=28,Object(Ao.a)(Ie("fetchMainBulkDataAction"));case 28:case"end":return e.stop()}}),Ro)}function Ho(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ao.b)("Main::fetchBulkData",Uo);case 2:case"end":return e.stop()}}),Bo)}var Vo=a(204),zo=a(205);E.i.logAll("Spaces ui version: ",Vo.version),E.i.logAll("UI library version: ",zo.version);var qo=Object(Io.a)(),Yo=Object(To.composeWithDevTools)(Object(Ke.applyMiddleware)(Fo.a,qo)),Zo=Object(Ke.createStore)(Do,Yo);qo.run(Ho),o.a.render(Object(Ge.jsx)(s.a.StrictMode,{children:Object(Ge.jsx)(_.a,{store:Zo,children:Object(Ge.jsx)(Po,{})})}),document.getElementById("root"))},38:function(e,t,a){e.exports={preview_pane:"PreviewPane_preview_pane__3tbF4",display_preview:"PreviewPane_display_preview__936zc",preview_horizontal:"PreviewPane_preview_horizontal__3IzRC",preview_top_bar:"PreviewPane_preview_top_bar__32gFo",preview_top_top_bar:"PreviewPane_preview_top_top_bar__1gmTl",preview_top_bottom_bar:"PreviewPane_preview_top_bottom_bar__FwYzL",preview_content:"PreviewPane_preview_content__3qQ52",preview_size_tab:"PreviewPane_preview_size_tab__1v7PH",display_iframe_overlay:"PreviewPane_display_iframe_overlay__1oAoW",preview_address_field:"PreviewPane_preview_address_field__2kb9f",preview_pane_splitter:"PreviewPane_preview_pane_splitter__39yGh",buttons_preview_pane:"PreviewPane_buttons_preview_pane__odBtV",is_loading:"PreviewPane_is_loading__5OGc5",run_btn:"PreviewPane_run_btn__3sA_1",type_error:"PreviewPane_type_error__1JK6U",preview_error:"PreviewPane_preview_error__1mSCM"}},47:function(e,t,a){e.exports={panel:"HowTo_panel__1V6v3",panel_main_transition:"HowTo_panel_main_transition__11Sjk",header:"HowTo_header__-uJh6",header_row:"HowTo_header_row__3n1BL",header_text:"HowTo_header_text__1Jo7q",input_group:"HowTo_input_group__3FRBt",search_icon:"HowTo_search_icon__3LR-8",body:"HowTo_body__2GkFy",footer:"HowTo_footer__3w5EB",round_btn:"HowTo_round_btn__xUP78",panel_item:"HowTo_panel_item__24ibz",_divider:"HowTo__divider__2lIWv"}},78:function(e,t,a){e.exports={panel_button:"PanelIcon_panel_button__2rI33",disabled:"PanelIcon_disabled__1SwP_",locked_icon:"PanelIcon_locked_icon__3lTaY"}}},[[356,1,2]]]);
//# sourceMappingURL=main.4319b87b.chunk.js.map